(self.webpackChunk=self.webpackChunk||[]).push([[543],{43:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(31746),o=n(3487),i=n(53959),l=n(87977),s=n(95472),c=n(58894),u=n(12845),d=n(66048),m=n(83995),p=n(7862),f=n(16523),g=n(41935),E=n(91283);function v({boardRoles:e,sync:t}){const[n,v]=(0,r.useState)(!1),[y,A]=(0,E.A)(null),{save:b,saving:h}=(0,u.A)(),_=(0,c.S)(),w=()=>{A(null),v(!1)};return h?r.createElement(p.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,"Board Editor"),r.createElement(o.A,{onClick:()=>v(!0)},"Add Role"),r.createElement(i.A,{celled:!0},r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,null,"Name"),r.createElement(i.A.HeaderCell,null,"Actions"))),r.createElement(i.A.Body,null,e.map((e=>r.createElement(i.A.Row,{key:e.id},r.createElement(i.A.Cell,null,e.user.name),r.createElement(i.A.Cell,null,r.createElement(o.A,{onClick:()=>(e=>{_().then((()=>{b(d.VB.userRoles.delete(e.id),{},t,{method:"DELETE"})}))})(e)},"End Role"))))))),n&&r.createElement(l.A,{size:"fullscreen",open:n,onClose:w},r.createElement(l.A.Content,null,r.createElement(a.A,null,"Add Board Role"),r.createElement(s.A,{onSubmit:()=>{b(d.VB.userRoles.create(),{groupType:m.Hn.board,userId:y.id},(()=>{t(),w()}),{method:"POST"})}},r.createElement(s.A.Field,{label:"New Board member",control:g.default,name:"user",value:y,onChange:A,model:f.default.user,multiple:!1}),r.createElement(o.A,{type:"submit"},"Submit")))))}},143:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(53959);t.default=function({dataItem:e,HeaderComponent:t,RowComponent:n,moreClassNames:o=null}){return r.createElement(a.A,{striped:!0,className:o},r.createElement(a.A.Header,null,r.createElement(t,null)),r.createElement(a.A.Body,null,r.createElement(n,{dataItem:e,dataItems:[e],index:0})))}},242:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96540),a=n(67626),o=n(1460);function i({item:e}){return r.createElement(a.default,{item:e.user,description:`${o.Ay.t(`enums.user_roles.status.delegate_regions.${e.metadata.status}`)}, ${e.group.name}`})}},246:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return(t,n)=>{if("CHANGE_SORT"===n.type){if(t.sortColumn===n.sortColumn)return a(a({},t),{},{sortDirection:"ascending"===t.sortDirection?"descending":"ascending"});if(!e.includes(n.sortColumn))throw new Error("Unknown Column");return{sortColumn:n.sortColumn,sortDirection:"ascending"}}throw new Error("Unknown Action")}}n.r(t),n.d(t,{default:function(){return i}})},278:function(e,t,n){"use strict";n.d(t,{B1:function(){return s},Nh:function(){return p},cK:function(){return l},lP:function(){return m},rY:function(){return f},td:function(){return o}});var r=n(83995),a=n(51319);function o(e,t,{fixed:n,abbreviate:r}={}){return(n&&e%1>0?e.toFixed(n):e)+(r?t[0]:` ${1===e?t:`${t}s`}`)}function i(e){const{solved:t,attempted:n,timeCentiseconds:r}=e,a=n-t,o=a;return 1e7*(99-(t-a))+100*Math.floor(r/100)+o}function l(e){const{solved:t,attempted:n}=function(e){let t,n,r,a=e;if(0!==Math.floor(a/1e9))t=a%1e5,a=Math.floor(a/1e5),n=a%100,a=Math.floor(a/100),r=99-a%100;else{const e=a%100;a=Math.floor(a/100),t=a%1e5,a=Math.floor(a/1e5),r=99-a%100+e,n=r+e}return{solved:r,attempted:n,timeCentiseconds:99999===t?null:100*t}}(e);return t-(n-t)}function s(e){return i({solved:e,attempted:e,timeCentiseconds:99999})}const c=100,u=60*c,d=60*u;function m(e,{short:t}={}){let n=e,r="";const a=n/d;n%=d,a>=1&&(r+=`${o(Math.floor(a),"hour",{abbreviate:t})} `);const i=n/u;n%=u,i>=1&&(r+=`${o(Math.floor(i),"minute",{abbreviate:t})} `);const l=n/c;return(l>0||0===r.length)&&(r+=`${o(l,"second",{fixed:2,abbreviate:t})} `),r.trim()}function p(e,t){const n=r.AZ.byId[t];if(n.isTimedEvent)return(0,a.xb)(e);if(n.isFewestMoves)return`${e} moves`;if(n.isMultipleBlindfolded)return`${l(e)} points`;throw new Error(`Unrecognized event type: ${t}`)}function f(e,t,{short:n}={}){let a=r.AZ.byId[t].isMultipleBlindfolded?">":"<";return n||(a={"<":"less than",">":"greater than"}[a]),`${a} ${p(e,t)}`}},435:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(73574),a=n(53959),o=n(35907),i=n(24106),l=n(96540),s=n(1460),c=n(99251),u=n(1026);function d({competitions:e,permissions:t,fallbackMessage:n=null}){return 0===e.length&&n?l.createElement(r.A,{info:!0},l.createElement(u.default,{i18nKey:n.key,options:n.options})):l.createElement(a.A,{striped:!0,compact:!0,basic:"very"},l.createElement(a.A.Header,null,l.createElement(a.A.Row,null,l.createElement(a.A.HeaderCell,null,s.Ay.t("competitions.competition_info.name")),l.createElement(a.A.HeaderCell,null,s.Ay.t("competitions.competition_info.location")),l.createElement(a.A.HeaderCell,null,s.Ay.t("competitions.competition_info.date")),l.createElement(a.A.HeaderCell,null),l.createElement(a.A.HeaderCell,null),l.createElement(a.A.HeaderCell,null))),l.createElement(a.A.Body,null,e.map((e=>l.createElement(a.A.Row,{key:e.id},l.createElement(c.NameTableCell,{competition:e}),l.createElement(c.LocationTableCell,{competition:e}),l.createElement(c.DateTableCell,{competition:e}),l.createElement(a.A.Cell,null,!e["results_posted?"]&&l.createElement(o.A,{name:"calendar check"})),l.createElement(a.A.Cell,null,e["results_posted?"]&&l.createElement(i.A,{content:s.Ay.t("competitions.my_competitions_table.results_up"),trigger:l.createElement(o.A,{name:"check circle"})})),l.createElement(c.ReportTableCell,{competitionId:e.id,permissions:t,isReportPosted:e["report_posted?"],isPastCompetition:!0}))))))}},469:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(97665),a=n(57097),o=n(96540),i=n(3487),l=n(31216),s=n(7862),c=n(80405),u=n(42842),d=n(58894),m=n(701);function p({cronjobName:e,cronjobDetails:t}){const[n,p]=(0,m.A)(!1),f=!(null!==t&&void 0!==t&&t.in_progress)&&(null===t||void 0===t?void 0:t.recently_errored),g=!(f||n),E=(null===t||void 0===t?void 0:t.reason_not_to_run)||(null===t||void 0===t?void 0:t.scheduled)||(null===t||void 0===t?void 0:t.in_progress),v=(0,d.S)(),y=(0,r.jE)(),{mutate:A,isLoading:b,isError:h,error:_}=(0,a.n)({mutationFn:l.default,onSuccess:t=>y.setQueryData(["cronjob-details",e],t)}),{mutate:w,isLoading:C,isError:S,error:I}=(0,a.n)({mutationFn:u.default});return b||C?o.createElement(s.default,null):h||S?o.createElement(c.default,{error:_||I}):o.createElement(o.Fragment,null,o.createElement(i.A,{disabled:g,onClick:()=>{v({content:n&&!f?"BEEP BOOP! Danger territory ahead! You are about to reset a cronjob without an actual error state. This should only ever be done in extraordinary circumstances (deployment chokes) and IS VERY DANGEROUS unless you absolutely know what you're doing!":"Are you sure that you want to proceed with reset? Usually this needs to be done if you know that the source of the error has been fixed. If you push this button without consulting WST, you risk incurring their wrath!"}).then((()=>w({cronjobName:e})))}},"Reset"),o.createElement(i.A,{disabled:E,onClick:()=>A({cronjobName:e})},"Do it!"),o.createElement(i.A,{toggle:!0,active:n,onClick:p},"Show Debug info for WST"),n&&o.createElement("pre",null,JSON.stringify(t,null,2)))}},600:function(e,t,n){"use strict";n.r(t),n.d(t,{ALL_REGIONS_VALUE:function(){return m},default:function(){return v}});var r=n(96540),a=n(31746),o=n(95472),i=n(1460),l=n(83995),s=n(34975);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m="all",p={key:"all",text:i.Ay.t("common.all_regions"),value:m},f=Object.values(l.ot.real).map((e=>({key:e.id,text:e.name,value:e.id}))),g=Object.values(l.Xr.real).map((e=>({key:e.id,text:e.name,value:e.iso2,flag:r.createElement(r.Fragment,null,r.createElement(s.default,{iso2:e.iso2,withoutTooltip:!0})," ")}))),E=[p,{key:"continents_header",value:"",disabled:!0,content:r.createElement(a.A,{content:i.Ay.t("common.continent"),size:"small",style:{textAlign:"center"}})},...f,{key:"countries_header",value:"",disabled:!0,content:r.createElement(a.A,{content:i.Ay.t("common.country"),size:"small",style:{textAlign:"center"}})},...g];function v({onlyCountries:e=!1,label:t=i.Ay.t(e?"common.country":"competitions.index.region"),region:n,onRegionChange:a,nullable:l=!1,disabled:s=!1,error:c=null,name:d}){const p=l||e?null:m;return r.createElement(o.A.Select,{label:t,name:d,search:!0,selection:!0,clearable:l&&null!==n||p&&n!==p,value:n,options:e?g:E,onChange:(e,t)=>{const n=u(u({},t),{},{value:t.value||p});a(e,n)},disabled:s,error:c})}},615:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(97286),a=n(57097),o=n(96540),i=n(31746),l=n(50363),s=n(5074),c=n(3487),u=n(35907),d=n(87977),m=n(60654),p=n(95472),f=n(36713),g=n(90447),E=n(74813),v=n(5889),y=n(73875),A=n(95440),b=n(52322),h=n(89407),_=n(1460),w=n(7862),C=n(95817),S=n(23319),I=n(8666),P=n(57598),O=n(72401),R=n(49876);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x={dob:_.Ay.t("activerecord.attributes.user.dob"),region:_.Ay.t("activerecord.attributes.user.region"),events:_.Ay.t("competitions.show.events"),comments:_.Ay.t("competitions.registration_v2.list.comment_and_note"),email:_.Ay.t("activerecord.attributes.user.email"),timestamp:_.Ay.t("competitions.registration_v2.list.timestamp")},D={dob:!1,region:!1,events:!1,comments:!0,email:!1,timestamp:!1},F=(e,t)=>"reset"===t.type?D:Object.keys(x).includes(t.column)?j(j({},e),{},{[t.column]:!e[t.column]}):e;function M({competitionInfo:e}){const[t,n]=(0,o.useReducer)(F,D),[k,j]=(0,P.A)(!1),T=(0,h.wA)(),M=(0,o.useRef)(),{isLoading:N,data:$,refetch:H}=(0,r.I)({queryKey:["registrations-admin",e.id],queryFn:()=>(0,v.getAllRegistrations)(e),refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:1/0,refetchOnMount:"always",retry:!1,onError:e=>{const{errorCode:t}=e;T((0,b.showMessage)(t?`competitions.registration_v2.errors.${t}`:"registrations.flash.failed","negative"))}}),[V,B]=(0,o.useState)(!1),[U,q]=(0,o.useState)(null),{mutate:W,isPending:z}=(0,a.n)({mutationFn:S.default,onError:()=>{T((0,b.showMessage)("competitions.registration_v2.auto_accept.cant_bulk_auto_accept","negative"))},onSuccess:e=>(0===Object.keys(e).length?T((0,b.showMessage)("competitions.registration_v2.auto_accept.nothing_to_accept","info")):(q(e),B(!0),T((0,b.showMessage)("competitions.registration_v2.auto_accept.bulk_auto_accepted","positive"))),H())}),{mutate:G,isPending:K}=(0,a.n)({mutationFn:C.bulkUpdateRegistrations,onError:e=>{const{error:t}=e.json;T((0,b.showMessages)(Object.values(t).map((e=>({key:`competitions.registration_v2.errors.${e}`,type:"negative"})))))},onSuccess:async()=>{await H()}}),Z=(0,o.useMemo)((()=>(0,R.tE)(null!==$&&void 0!==$?$:[])),[$]),{waiting:Y,accepted:X,cancelled:Q,pending:J,rejected:ee,nonCompeting:te}=Z,ne=(0,O.A)(),re=(0,o.useMemo)((()=>({pending:ne.asArray.filter((e=>J.some((t=>e===t.user.id)))),waiting:ne.asArray.filter((e=>Y.some((t=>e===t.user.id)))),accepted:ne.asArray.filter((e=>X.some((t=>e===t.user.id)))),cancelled:ne.asArray.filter((e=>Q.some((t=>e===t.user.id)))),rejected:ne.asArray.filter((e=>ee.some((t=>e===t.user.id)))),nonCompeting:ne.asArray.filter((e=>te.some((t=>e===t.user.id))))})),[ne.asArray,J,Y,X,Q,ee,te]),ae=(e.competitor_limit||1/0)-X.length,oe=_.Ay.t("competitions.registration_v2.list.spots_remaining_plural",{count:ae}),ie=(0,o.useMemo)((()=>async t=>{if(!t.destination)return;if(t.destination.index===t.source.index)return;const n=Y.toSorted(((e,t)=>e.competing.waiting_list_position-t.competing.waiting_list_position));G({competitionId:e.id,payload:{competition_id:e.id,requests:[{competition_id:e.id,user_id:n[t.source.index].user_id,competing:{waiting_list_position:n[t.destination.index].competing.waiting_list_position}}]}},{onSuccess:()=>{H()}})}),[e.id,H,G,Y]);if(N)return o.createElement(w.default,null);const le=[{key:"pending",title:{content:o.createElement(L,{icon:R.eC,title:_.Ay.t("competitions.registration_v2.list.pending.title"),inParens:J.length,color:R.ct})},content:{content:o.createElement(o.Fragment,null,o.createElement(i.A.Subheader,null,_.Ay.t("competitions.registration_v2.list.pending.information")),o.createElement(I.default,{columnsExpanded:t,registrations:J,selected:re.pending,onSelect:ne.add,onUnselect:ne.remove,onToggle:ne.toggle,competitionInfo:e,color:R.ct,distinguishPaidUnpaid:!0}))}},{key:"waitlist",title:{content:o.createElement(L,{icon:R.Iv,title:_.Ay.t("competitions.registration_v2.list.waitlist.title"),inParens:Y.length,color:R.cP})},content:{content:o.createElement(o.Fragment,null,o.createElement(i.A.Subheader,null,_.Ay.t("competitions.registration_v2.list.waitlist.information")),o.createElement(l.A,{toggle:!0,checked:k,onChange:j,label:_.Ay.t("competitions.registration_v2.list.edit_waiting_list")}),o.createElement(I.default,{columnsExpanded:t,selected:re.waiting,onSelect:ne.add,onUnselect:ne.remove,onToggle:ne.toggle,initialSortColumn:"waiting_list_position",competitionInfo:e,registrations:Y.toSorted(((e,t)=>e.competing.waiting_list_position-t.competing.waiting_list_position)),handleOnDragEnd:ie,draggable:k,sortable:!1,withPosition:!0,color:R.cP}))}},{key:"accepted",title:{content:o.createElement(L,{icon:R.cu,title:_.Ay.t("competitions.registration_v2.list.approved.title"),inParens:`${X.length}${ae!==1/0?`/${e.competitor_limit}, ${oe}`:""}`,color:R.ah})},content:{content:o.createElement(I.default,{columnsExpanded:t,registrations:X,selected:re.accepted,onSelect:ne.add,onUnselect:ne.remove,onToggle:ne.toggle,competitionInfo:e,color:R.ah})}},{key:"cancelled",title:{content:o.createElement(L,{icon:R.cF,title:_.Ay.t("competitions.registration_v2.list.cancelled.title"),inParens:Q.length,color:R.a2})},content:{content:o.createElement(o.Fragment,null,o.createElement(i.A.Subheader,null,_.Ay.t("competitions.registration_v2.list.cancelled.information")),o.createElement(I.default,{columnsExpanded:t,registrations:Q,selected:re.cancelled,onSelect:ne.add,onUnselect:ne.remove,onToggle:ne.toggle,competitionInfo:e,color:R.a2}))}},{key:"rejected",title:{content:o.createElement(L,{icon:R.pA,title:_.Ay.t("competitions.registration_v2.list.rejected.title"),inParens:ee.length,color:R.H6})},content:{content:o.createElement(o.Fragment,null,o.createElement(i.A.Subheader,null,_.Ay.t("competitions.registration_v2.list.rejected.information")),o.createElement(I.default,{columnsExpanded:t,registrations:ee,selected:re.rejected,onSelect:ne.add,onUnselect:ne.remove,onToggle:ne.toggle,competitionInfo:e,color:R.H6}))}},te.length>0&&{key:"nonCompeting",title:{content:o.createElement(L,{icon:R.Z3,title:_.Ay.t("competitions.registration_v2.list.non_competing.title"),inParens:te.length,color:R.XL})},content:{content:o.createElement(o.Fragment,null,o.createElement(i.A.Subheader,null,_.Ay.t("competitions.registration_v2.list.non_competing.information")),o.createElement(I.default,{columnsExpanded:t,registrations:te,selected:re.nonCompeting,onSelect:ne.add,onUnselect:ne.remove,onToggle:ne.toggle,competitionInfo:e,color:R.XL}))}}].filter(Boolean),se=[["pending",J],["waitlist",Y],["accepted",X],["cancelled",Q],["rejected",ee],["nonCompeting",te]].filter((([,e])=>e.length>0)).map((([e])=>le.findIndex((t=>t.key===e))));return o.createElement(s.A,{loading:K||z},e.auto_accept_registrations&&o.createElement(o.Fragment,null,o.createElement(c.A,{disabled:z,color:"green",onClick:()=>W(e.id)},o.createElement(u.A,{name:"check"})," ",_.Ay.t("competitions.registration_v2.auto_accept.bulk_auto_accept")),o.createElement(d.A,{open:V,onClose:()=>B(!1),size:"small"},o.createElement(d.A.Header,null,"Bulk Auto-Accept Result"),o.createElement(d.A.Content,null,null!==U?o.createElement(m.A,{bulleted:!0},Object.entries(U).map((([e,t])=>{var n;return o.createElement(m.A.Item,{key:e},null===(n=$.find((t=>t.id===Number(e))))||void 0===n?void 0:n.user.name," - ",o.createElement("b",null,"Succeeded"),": ",t.succeeded.toString(),", ",o.createElement("b",null,"Info"),": ",t.info)}))):o.createElement("p",null,"No data available.")),o.createElement(d.A.Actions,null,o.createElement(c.A,{onClick:()=>B(!1)},"Close")))),o.createElement(p.A,null,o.createElement(p.A.Group,{unstackable:!0,widths:"2"},Object.entries(x).map((([e,r])=>o.createElement(p.A.Checkbox,{key:e,name:e,label:r,toggle:!0,checked:t[e],onChange:()=>n({column:e})}))))),o.createElement(f.A,null),o.createElement(y.default,{partitionedRegistrations:Z,usingPayments:e["using_payment_integrations?"],currencyCode:e.currency_code}),o.createElement(f.A,null),o.createElement("div",{ref:M},o.createElement(g.A,{context:M,offset:20},o.createElement(A.default,{partitionedSelectedIds:re,refresh:ne.clear,registrations:$,spotsRemaining:ae,competitionInfo:e,updateRegistrationMutation:G})),o.createElement(f.A,null),o.createElement(E.A,{defaultActiveIndex:se,panels:le,exclusive:!1,fluid:!0})))}function L({icon:e,title:t,inParens:n,color:r}){return o.createElement(i.A,{as:"span",size:"large"},o.createElement(u.A,{name:e,color:r}),`${t} (${n})`)}},701:function(e,t,n){"use strict";var r=n(96540);t.A=(e=void 0)=>{const[t,n]=(0,r.useState)(e);return[t,(0,r.useCallback)(((e,t=void 0)=>{n(t?!t.active:e)}),[n])]}},710:function(e,t,n){"use strict";n.r(t),n.d(t,{useRegistrationMutationErrorHandler:function(){return m},useUpdateRegistrationMutation:function(){return p}});var r=n(97665),a=n(57097),o=n(96540),i=n(95817),l=n(52322),s=n(89407);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=()=>{const e=(0,s.wA)();return(0,o.useCallback)((t=>{const{error:n}=t.json;e((0,l.showMessage)(`competitions.registration_v2.errors.${n}`,"negative"))}),[e])},p=(e,t,n="positive")=>{const o=(0,r.jE)(),c=(0,s.wA)(),d=m();return(0,a.n)({mutationFn:i.default,onMutate:()=>c((0,l.showMessage)("competitions.registration_v2.update.being_updated",n)),onError:d,onSuccess:n=>{const r=n.registration.id;o.setQueryData(["registration",e.id,t.id,r],(e=>u(u({},n.registration),{},{payment:e.payment})))}})}},1026:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(99418),o=n(1460);t.default=function({i18nKey:e,options:t={}}){return r.createElement("span",{name:"I18nHTMLTranslate",dangerouslySetInnerHTML:{__html:a.A.sanitize(o.Ay.t(e,t))}})}},1772:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(55969),o=n(73574),i=n(1489),l=n(31746),s=n(95472),c=n(3487),u=n(27089),d=n(24106),m=n(22869),p=n(1460),f=n(12761);t.default=function({imageSrc:e,thumbnail:t,onThumbnailSaved:n,editsDisabled:g}){const[E,v]=(0,r.useState)(),[y,A]=(0,r.useState)(),[b,h]=(0,r.useState)(),_=(0,r.useMemo)((()=>{if(t)return(0,m.Et)(t,y,b)}),[t,y,b]),w=()=>v(void 0),C=(0,r.useMemo)((()=>void 0!==E),[E]);return r.createElement(r.Fragment,null,r.createElement(m.Ay,{aspect:1,ruleOfThirds:!0,keepSelection:!0,crop:E,onChange:(e,t)=>v(t),disabled:!C,style:{width:"100%"}},r.createElement(a.A,{onLoad:e=>{const{naturalWidth:r,naturalHeight:a}=e.currentTarget;if(A(r),h(a),w(),!t){const e=(0,m.dS)({unit:"%",width:33,height:33},1,r,a),t=(0,m.ge)(e,r,a),o=(0,m.$P)(t,r,a);n(o)}},src:e,style:{width:"100%",height:"auto"}})),C?r.createElement(r.Fragment,null,r.createElement(o.A,{warning:!0,header:p.Ay.t("users.edit_avatar_thumbnail.cdn_warning"),content:p.Ay.t("users.edit_avatar_thumbnail.cdn_explanation")}),r.createElement(i.A,{centered:!0,columns:3},r.createElement(i.A.Column,{textAlign:"center"},r.createElement(l.A,null,p.Ay.t("users.edit_avatar_thumbnail.current")),r.createElement("div",{className:"user-avatar-image-large"},r.createElement(f.default,{crop:_,src:e}))),r.createElement(i.A.Column,{textAlign:"center"},r.createElement(l.A,null,p.Ay.t("users.edit_avatar_thumbnail.new")),r.createElement("div",{className:"user-avatar-image-large"},r.createElement(f.default,{crop:E,src:e}))),r.createElement(i.A.Column,{textAlign:"center",floated:"right"},r.createElement(s.A,{onSubmit:e=>{if(e.preventDefault(),y&&b){const e=(0,m.$P)(E,y,b);n(e)}w()}},r.createElement(c.A.Group,{icon:!0,vertical:!0},r.createElement(s.A.Button,{type:"submit",primary:!0,disabled:!E,icon:"save",content:p.Ay.t("users.edit_avatar_thumbnail.save")}),r.createElement(s.A.Button,{negative:!0,onClick:e=>{e.preventDefault(),w()},disabled:!E,icon:"cancel",content:p.Ay.t("users.edit_avatar_thumbnail.reset")})))))):!g&&r.createElement(u.A,{textAlign:"center"},r.createElement(l.A,null,p.Ay.t("users.edit.your_thumbnail")),r.createElement(d.A,{content:p.Ay.t("users.edit.edit_thumbnail"),trigger:r.createElement("div",{className:"user-avatar-image-large"},r.createElement(f.default,{crop:E||_,src:e,onClick:()=>v(_)}))})))}},1866:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({userId:e,wcaId:t}){const{data:n}=await(0,r.o)(a.v9.tickets.anonymize,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,wcaId:t})});return n}},2037:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(3487),o=n(1026),i=n(19504),l=n(61904),s=n(34323),c=n(22969),u=n(86583),d=n(27211),m=n(49892),p=n(6146);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={width:"100%",maxWidth:"400px",backgroundColor:"#f8f8f8"},y=g(g({},v),{},{backgroundColor:"#1c2a33"}),A={boxSizing:"border-box",width:"100%",maxWidth:"150px",padding:"25px",backgroundColor:"#f8f8f8"},b=g(g({},A),{},{backgroundColor:"#1c2a33"}),h={display:"flex",gap:"20px"};t.default=function({title:e,logoFileUrl:t}){const[n,f]=(0,r.useState)(!1);return r.createElement("div",{className:"wca-logo-information"},r.createElement("h1",null,e),r.createElement(o.default,{i18nKey:"logo.intro"}),r.createElement("h2",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.title"})),r.createElement("p",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.paragraph.acceptable_usage"})),r.createElement("p",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.paragraph.see_below"})),r.createElement("h3",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.color.title"})),r.createElement("p",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.color.paragraph"})),r.createElement("h4",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.color.primary.title"})),r.createElement("p",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.color.primary.paragraph"})),r.createElement("div",{style:h},r.createElement("img",{src:i,alt:"Primary logo",style:v}),r.createElement("img",{src:l,alt:"Primary logo",style:y})),r.createElement("h4",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.color.mono.title"})),r.createElement("p",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.color.mono.paragraph"})),r.createElement("div",{style:h},r.createElement("img",{src:s,alt:"Primary logo",style:v}),r.createElement("img",{src:c,alt:"Primary logo",style:y})),r.createElement("h3",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.logo_only.title"})),r.createElement("p",null,r.createElement(o.default,{i18nKey:"logo.headings.usage_guidelines.logo_only.paragraph"})),r.createElement("div",{style:h},r.createElement("img",{src:u,alt:"Primary logo",style:A}),r.createElement("img",{src:d,alt:"Primary logo",style:b}),r.createElement("img",{src:m,alt:"Primary logo",style:A}),r.createElement("img",{src:p,alt:"Primary logo",style:b})),r.createElement("h2",null,r.createElement(o.default,{i18nKey:"logo.headings.download_logo_assets.title"})),r.createElement("p",null,r.createElement(o.default,{i18nKey:"logo.headings.download_logo_assets.paragraph"})),r.createElement("div",null,r.createElement("label",{htmlFor:"checkbox_id"},r.createElement("input",{type:"checkbox",name:"checkbox",id:"checkbox_id",value:n,onClick:()=>f(!n),style:{marginRight:"10px"}}),r.createElement(o.default,{i18nKey:"logo.headings.download_logo_assets.accept_terms_and_conditions"}))),r.createElement(a.A,{disabled:!n,positive:!0,as:"a",href:t},r.createElement(o.default,{i18nKey:"logo.headings.download_logo_assets.download_button_text"})))}},2105:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(96540),a=n(2543),o=n.n(a),i=n(6957),l=n(83995),s=n(91283),c=n(21531),u=n(83744),d=n(99358),m=n(89027),p=n(89407),f=n(72272),g=n(72220),E=n(41798);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b({wcifEvent:e,wcifRound:t,disabled:n}){var a,v;const{cutoff:A,format:b}=t,h=(0,p.wA)(),[_,w]=(0,s.A)(null!==(a=null===A||void 0===A?void 0:A.numberOfAttempts)&&void 0!==a?a:0),[C,S]=(0,r.useState)(null!==(v=null===A||void 0===A?void 0:A.attemptResult)&&void 0!==v?v:0),I=l.Fx.byId[b].allowedFirstPhaseFormats,P="666"===e.id||"777"===e.id?I.filter((e=>"2"!==e)):I,O=_>0?(0,u.roundCutoffToString)(y(y({},t),{numberOfAttempts:_,attemptResult:C})):null,R=()=>!o().isEqual(A,_?{numberOfAttempts:_,attemptResult:C}:null),k=`Cutoff for ${(0,c.yt)(t.id)}`,j=(0,u.roundCutoffToString)(t,{short:!0});return r.createElement(d.default,{trigger:j,triggerButtonProps:{name:"cutoff"},title:k,reset:()=>{var e,t;w(null!==(e=null===A||void 0===A?void 0:A.numberOfAttempts)&&void 0!==e?e:0),S(null!==(t=null===A||void 0===A?void 0:A.attemptResult)&&void 0!==t?t:0)},onOk:()=>{R()&&h((0,f.updateCutoff)(t.id,_?{numberOfAttempts:_,attemptResult:C}:null))},hasUnsavedChanges:R(),disabled:n},r.createElement(m.default,{cutoffFormats:P,cutoffFormat:_,wcifRound:t,onChange:w}),_>0&&("333mbf"===e.id?r.createElement(E.default,{label:r.createElement(i.A,null,"Cutoff Result"),eventId:e.id,value:C,onChange:S}):r.createElement(g.default,{label:r.createElement(i.A,null,"Cutoff Result"),eventId:e.id,value:C,onChange:S,resultType:"single"})),_<0&&r.createElement("p",null,O))}},2202:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(53959),o=n(21295),i=n(92257),l=n(83995),s=n(21531),c=n(69860),u=n(89407),d=n(58894),m=n(72272);function p({index:e,wcifRound:t,wcifEvent:n,disabled:p}){const f=(0,u.wA)(),g=(0,d.S)(),E=l.AZ.byId[n.id],v=e+1,y=v===n.rounds.length;return r.createElement(a.A.Row,{verticalAlign:"middle",name:`round-${v}`},r.createElement(a.A.Cell,{verticalAlign:"middle"},t.id.split("-")[1].replace("r","")),r.createElement(a.A.Cell,null,r.createElement(o.A,{selection:!0,name:"format",value:t.format,onChange:(e,{value:n})=>{const r=n;t.cutoff&&!l.Fx.byId[r].allowedFirstPhaseFormats.includes(t.cutoff.numberOfAttempts.toString())?g({content:`Are you sure you want to change the format of ${(0,s.yt)(t.id)}? This will clear the cutoff`}).then((()=>{f((0,m.updateRoundFormat)(t.id,r)),f((0,m.updateCutoff)(t.id,null))})):f((0,m.updateRoundFormat)(t.id,r))},disabled:p,options:E.formats().map((e=>({key:e.id,value:e.id,text:e.shortName}))),compact:!0,className:"tiny"})),r.createElement(a.A.Cell,null,r.createElement(i.A,{name:"scrambleSetCount",type:"number",min:1,max:1e3,value:t.scrambleSetCount,onChange:e=>{f((0,m.setScrambleSetCount)(t.id,parseInt(e.target.value,10)))},disabled:p,className:"tiny"})),E.canChangeTimeLimit&&r.createElement(a.A.Cell,null,r.createElement(c.EditTimeLimitModal,{wcifEvent:n,wcifRound:t,roundNumber:v,disabled:p})),E.canHaveCutoff&&r.createElement(a.A.Cell,null,r.createElement(c.EditCutoffModal,{wcifEvent:n,wcifRound:t,roundNumber:v,disabled:p})),r.createElement(a.A.Cell,null,!y&&r.createElement(c.EditAdvancementConditionModal,{wcifEvent:n,wcifRound:t,roundNumber:v,disabled:p})))}},2314:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(31746),o=n(73574),i=n(6549),l=n(3487),s=n(56991),c=n(66048),u=n(12845);function d({userId:e,disabled:t=!1}){const[n,d]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),{save:f,saving:g}=(0,u.A)();return r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h4"},"Account anonymization"),n&&r.createElement(o.A,{info:!0},"Account anonymization completed."),g&&r.createElement(i.A,{active:!0,inline:"centered"}),!n&&!g&&r.createElement(l.A,{disabled:t,onClick:()=>p(!0)},"Anonymize account"),r.createElement(s.A,{open:m,onCancel:()=>p(!1),onConfirm:()=>{p(!1),f(c.v9.users.anonymize(e),null,(()=>d(!0)),{method:"POST"})},content:"Are you sure you want to anonymize the account?"}))}},2575:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(5074),o=n(31746),i=n(55969),l=n(36713),s=n(3487),c=n(65632),u=n(1489),d=n(50363),m=n(92257),p=n(66048),f=n(1460),g=n(91283);function E({title:e,actions:t,imageUrl:n}){return r.createElement(a.A,{textAlign:"center",basic:!0},r.createElement(o.A,{as:"h3",content:e}),r.createElement(i.A,{src:n,size:"medium",centered:!0}),r.createElement(l.A,{horizontal:!0}),r.createElement(s.A.Group,{toggle:!0},t.map((e=>r.createElement(s.A,{key:e.label,onClick:e.onClick,color:e.color,basic:e.basic,disabled:e.disabled},e.label)))))}function v({user:e,onReject:t,onApprove:n}){const[a,o]=(0,r.useState)(0),[i,l]=(0,r.useState)([]),[s,v]=(0,g.A)(""),[y,A]=(0,r.useState)(!1),b=(0,r.useMemo)((()=>{const t=f.Ay.tArray("users.edit.avatar_guidelines");if(e["staff_or_any_delegate?"]){const e=f.Ay.tArray("users.edit.staff_avatar_guidelines.paragraphs");return[...t,...e]}return t}),[e]),h=(0,r.useCallback)(((e,{checked:t,label:n})=>{l((e=>t?[...e,n]:e.filter((e=>e!==n))))}),[l]),_=(0,r.useMemo)((()=>[{label:"Previous",onClick:()=>o((e=>e-1)),color:"blue",basic:!0,disabled:0===a},{label:"Next",onClick:()=>o((e=>e+1)),color:"blue",basic:!0,disabled:a===e.avatar_history.length-1}]),[a,e.avatar_history.length]),w=(0,r.useCallback)((()=>{y?0===i.length?A(!1):t(e.pending_avatar,i,s):A(!0)}),[y,t,i,s,e.pending_avatar]),C=[{label:"Approve",onClick:()=>n(e.pending_avatar),color:"green"},{label:"Reject",onClick:()=>w(),color:"red"}];return r.createElement(c.A,{fluid:!0},r.createElement(c.A.Content,null,r.createElement(c.A.Header,null,r.createElement("a",{href:(0,p.lY)(e.id)},e.name)),e["staff_or_any_delegate?"]&&r.createElement(c.A.Meta,null,r.createElement("strong",null,"Volunteer or Trainee Delegate")," ","- see guidelines above"),r.createElement(c.A.Description,null,r.createElement(u.A,{columns:2,stackable:!0,padded:!0,centered:!0,celled:"internally"},r.createElement(u.A.Row,{stretched:!0},r.createElement(u.A.Column,null,r.createElement(E,{title:"Pending Avatar",imageUrl:e.pending_avatar.url,actions:C}),y&&r.createElement(r.Fragment,null,b.map((e=>r.createElement(d.A,{checked:i.includes(e),onClick:h,label:e}))),r.createElement(m.A,{fluid:!0,placeholder:"Additional Rejection Reason",value:s,onChange:v}))),r.createElement(u.A.Column,null,e.avatar_history.length>0?r.createElement(E,{title:e.avatar_history[a].id===e.avatar.id?`Current profile picture for ${e.name}`:`Old profile picture for ${e.name}`,imageUrl:e.avatar_history[a].url,actions:_}):r.createElement("span",null,"No previous avatars!")))))))}},2577:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(95472),o=n(1460),i=n(89407),l=n(50495);const s="wct";function c(){const{formValues:{wct:e}}=(0,i.Pj)(),t=(0,i.wA)();return r.createElement(a.A.TextArea,{label:o.Ay.t("page.contacts.form.wct.message.label"),name:"message",value:null===e||void 0===e?void 0:e.message,onChange:(e,{name:n,value:r})=>t((0,l.updateSectionData)(s,n,r))})}},3011:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(97286),a=n(96540),o=n(5074),i=n(53959),l=n(35907),s=n(5889),c=n(80824),u=n(66048),d=n(51319),m=n(1460),p=n(83995),f=n(65710),g=n(43036),E=n(7862),v=n(80405),y=n(34975);const A=["name","user_id","wca_id","country_id","country_iso2"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return e.sorted_rankings.map((e=>{const{name:t,user_id:n,wca_id:r,country_id:a,country_iso2:o}=e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({user:{name:t,id:n,wca_id:r,country:{id:a,iso2:o}}},function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,A))}))}function w({competitionInfo:e,selectedEvent:t,sortedBy:n,setSortedBy:l,userId:c,userRowRef:u,onScrollToMeClick:d}){const m="333mbf"===t,{isLoading:p,data:y,isError:A}=(0,r.I)({queryKey:["psychSheet",e.id,t,n],queryFn:()=>(0,s.getPsychSheetForEvent)(e.id,t,n),select:_,retry:!1});if(A)return a.createElement(v.default,{componentName:"PsychSheet"});if(p)return a.createElement(o.A,null,a.createElement(E.default,null));const{userIsInTable:b,userPosition:h}=(0,f.getUserPositionInfo)(y,c),{registrationCount:w,newcomerCount:P,returnerCount:O}=(0,f.getPeopleCounts)(y);return a.createElement(a.Fragment,null,a.createElement(g.default,{scrollToMeIsShown:b,userRankIsShown:b,userRank:null!==h&&void 0!==h?h:"-",registrationCount:w,newcomerCount:P,returnerCount:O,onScrollToMeClick:d}),a.createElement("div",{style:{overflowX:"auto"}},a.createElement(i.A,{striped:!0,sortable:!0,unstackable:!0,compact:!0,singleLine:!0,textAlign:"left"},a.createElement(C,{selectedEvent:t,sortedColumn:n,onColumnClick:l,hideAverage:m}),a.createElement(S,{registrations:y,selectedEvent:t,userId:c,userRowRef:u,hideAverage:m}),a.createElement(I,{registrations:y,hideAverage:m}))))}function C({selectedEvent:e,sortedColumn:t,onColumnClick:n,hideAverage:r=!1}){return a.createElement(i.A.Header,null,a.createElement(i.A.Row,null,a.createElement(i.A.HeaderCell,{disabled:!0},a.createElement(c.default,{id:e,className:"selected",size:"1em"})),a.createElement(i.A.HeaderCell,{disabled:!0},m.Ay.t("activerecord.attributes.registration.name")),a.createElement(i.A.HeaderCell,{disabled:!0},m.Ay.t("activerecord.attributes.user.country_iso2")),a.createElement(i.A.HeaderCell,{textAlign:"right",disabled:!0},a.createElement(l.A,{name:"trophy"})," ","WR"),a.createElement(i.A.HeaderCell,{textAlign:"right",sorted:"single"===t?"ascending":void 0,onClick:()=>n("single"),disabled:r},m.Ay.t("common.single")),r||a.createElement(a.Fragment,null,a.createElement(i.A.HeaderCell,{textAlign:"right",sorted:"average"===t?"ascending":void 0,onClick:()=>n("average")},m.Ay.t("common.average")),a.createElement(i.A.HeaderCell,{textAlign:"right",disabled:!0},a.createElement(l.A,{name:"trophy"})," ","WR"))))}function S({registrations:e,selectedEvent:t,userId:n,userRowRef:r,hideAverage:o=!1}){return a.createElement(i.A.Body,null,e.length>0?e.map((e=>{var l;const s=e.user.id===n;return a.createElement(i.A.Row,{key:`registration-table-row-${e.user.id}`,active:s},a.createElement(i.A.Cell,{collapsing:!0,textAlign:"right",disabled:e.tied_previous},e.pos),a.createElement(i.A.Cell,null,a.createElement("div",{ref:s?r:void 0},e.user.wca_id?a.createElement("a",{href:(0,u.hs)(e.user.wca_id)},e.user.name):e.user.name)),a.createElement(i.A.Cell,null,(null===(l=e.user.country)||void 0===l?void 0:l.iso2)&&a.createElement(a.Fragment,null,a.createElement(y.default,{iso2:e.user.country.iso2,withoutTooltip:!0})," ",p.Xr.byIso2[e.user.country.iso2].name)),a.createElement(i.A.Cell,{textAlign:"right"},e.single_rank),a.createElement(i.A.Cell,{textAlign:"right"},(0,d.U2)(e.single_best,t)),o||a.createElement(a.Fragment,null,a.createElement(i.A.Cell,{textAlign:"right"},(0,d.U2)(e.average_best,t)),a.createElement(i.A.Cell,{textAlign:"right"},e.average_rank)))})):a.createElement(i.A.Row,null,a.createElement(i.A.Cell,{textAlign:"center",colSpan:7},m.Ay.t("competitions.registration_v2.list.empty"))))}function I({registrations:e,hideAverage:t=!1}){const{registrationCount:n,countryCount:r}=(0,f.getTotals)(e);return a.createElement(i.A.Footer,null,a.createElement(i.A.Row,null,a.createElement(i.A.Cell,{key:"position"}),a.createElement(i.A.Cell,null,`${n} ${m.Ay.t("registrations.registration_info_people.person",{count:n})}`),a.createElement(i.A.Cell,null,`${m.Ay.t("registrations.list.country_plural",{count:r})}`),a.createElement(i.A.Cell,{key:"single-world-rank"}),a.createElement(i.A.Cell,{key:"single"}),t||a.createElement(a.Fragment,null,a.createElement(i.A.Cell,{key:"average"}),a.createElement(i.A.Cell,{key:"average-world-rank"}))))}},3190:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(31746),o=n(6549),i=n(95472),l=n(3487),s=n(97286),c=n(41935),u=n(83995),d=n(66048),m=n(16523),p=n(80405),f=n(16946);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){const[e,t]=(0,r.useState)({}),{wcaId:n,competitionId:g,eventId:v,resultId:y}=e,{data:A,isFetching:b,isError:h}=(0,s.I)({queryKey:["fix-results-competitions",n],queryFn:()=>(0,f.getCompetitions)({wcaId:n}),enabled:!!n}),{data:_,isFetching:w,isError:C}=(0,s.I)({queryKey:["fix-results-events",n,g],queryFn:()=>(0,f.getEvents)({wcaId:n,competitionId:g}),enabled:!!g}),{data:S,isFetching:I,isError:P}=(0,s.I)({queryKey:["fix-results-rounds",n,g,v],queryFn:()=>(0,f.getResults)({wcaId:n,competitionId:g,eventId:v}),enabled:!!v}),O=b||w||I;return h||C||P?r.createElement(p.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,"Fix Results"),r.createElement(o.A,{active:O}),r.createElement(i.A,null,r.createElement(i.A.Field,{label:"WCA ID",name:"wcaId",control:c.IdWcaSearch,model:m.default.person,multiple:!1,value:null===e||void 0===e?void 0:e.wcaId,onChange:(e,{value:n})=>t((e=>E(E({},e),{},{wcaId:n,competitionId:void 0,eventId:void 0,resultId:void 0}))),disabled:O}),r.createElement(i.A.Dropdown,{label:"Competition",name:"competitionId",placeholder:"Select Competition",fluid:!0,scrolling:!0,options:null===A||void 0===A?void 0:A.reverse().map((e=>({key:e.competitionId,text:e.competitionName,value:e.competitionId}))),disabled:O,value:null===e||void 0===e?void 0:e.competitionId,onChange:(e,{value:n})=>t((e=>E(E({},e),{},{competitionId:n,eventId:void 0,resultId:void 0})))}),r.createElement(i.A.Dropdown,{label:"Event",name:"eventId",placeholder:"Select Event",fluid:!0,scrolling:!0,options:null===_||void 0===_?void 0:_.map((e=>({key:e,text:u.AZ.byId[e].name,value:e}))),disabled:O,value:null===e||void 0===e?void 0:e.eventId,onChange:(e,{value:n})=>t((e=>E(E({},e),{},{eventId:n,resultId:void 0})))}),r.createElement(i.A.Dropdown,{label:"Round",name:"resultId",placeholder:"Select Round",fluid:!0,scrolling:!0,options:null===S||void 0===S?void 0:S.map((e=>({key:e.id,text:u.uY.byId[e.round_type_id].name,value:e.id}))),disabled:O,value:null===e||void 0===e?void 0:e.resultId,onChange:(e,{value:n})=>t((e=>E(E({},e),{},{resultId:n})))}),r.createElement(l.A,{content:"Fix Results",href:(0,d.T5)(y),disabled:!y})))}},3342:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(96540),a=n(73574),o=n(27089),i=n(31746),l=n(37865),s=n(97286),c=n(1460),u=n(1026),d=n(66048),m=n(7862),p=n(45567),f=n(80405),g=n(51491),E=n(53254),v=n(46882),y=n(91283),A=n(41935),b=n(16523);const h=new l.E;function _({loggedInUserId:e,recaptchaPublicKey:t}){var n;const[l]=(0,v.A)(),_=Boolean(l.editOthersProfile),{data:w,isLoading:C,isError:S}=(0,s.I)({queryKey:["userData"],queryFn:()=>(0,p.o)(d.VB.users.me.userDetails),enabled:!!e||!_},h),{loggedInUserPermissions:I,loading:P}=(0,E.A)(),[O,R]=(0,y.A)(),[k,j]=(0,r.useState)(!1),T=_?O:null===w||void 0===w||null===(n=w.data)||void 0===n||null===(n=n.user)||void 0===n?void 0:n.wca_id;return C||P?r.createElement(m.default,null):S?r.createElement(f.default,null):e?_||!w||T?_&&!I.canRequestToEditOthersProfile?r.createElement(a.A,{error:!0},r.createElement(u.default,{i18nKey:"page.contact_edit_profile.no_permission_error"})):k?r.createElement(a.A,{success:!0,content:c.Ay.t("page.contact_edit_profile.success_message")}):r.createElement(o.A,{text:!0},r.createElement(i.A,{as:"h2"},c.Ay.t("page.contact_edit_profile.title")),_&&r.createElement(A.IdWcaSearch,{model:b.default.person,multiple:!1,value:O,onChange:R,disabled:!!O,label:c.Ay.t("page.contact_edit_profile.form.wca_id_search.label")}),T&&r.createElement(g.default,{wcaId:T,onContactSuccess:()=>j(!0),recaptchaPublicKey:t})):r.createElement(a.A,{error:!0},r.createElement(u.default,{i18nKey:"page.contact_edit_profile.no_profile_error"})):r.createElement(a.A,{error:!0},r.createElement(u.default,{i18nKey:"page.contact_edit_profile.not_logged_in_error"}))}},3861:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(73574),o=n(35907),i=n(1460);function l(e){switch(e){case"pending":return"hourglass";case"accepted":return"checkmark";case"cancelled":return"delete";case"waiting_list":return"wait";default:return"info circle"}}function s({registration:e,competitionInfo:t}){var n;return r.createElement(a.A,{info:"pending"===e.competing.registration_status,success:"accepted"===e.competing.registration_status,negative:"cancelled"===e.competing.registration_status||"rejected"===e.competing.registration_status,warning:"waiting_list"===e.competing.registration_status,icon:!0},r.createElement(o.A,{name:l(e.competing.registration_status)}),r.createElement(a.A.Content,null,r.createElement(a.A.Header,null,i.Ay.t(`competitions.registration_v2.register.registration_status.${e.competing.registration_status}`,{waiting_list_position:e.competing.waiting_list_position})),r.createElement("p",null,function(e,t,n){switch(e){case"pending":return n["using_payment_integrations?"]&&!t?i.Ay.t("competitions.registration_v2.info.payment_missing"):i.Ay.t("competitions.registration_v2.info.needs_approval");case"accepted":return i.Ay.t("competitions.registration_v2.info.is_accepted");case"cancelled":return i.Ay.t("competitions.registration_v2.info.is_cancelled");case"rejected":return i.Ay.t("competitions.registration_v2.info.is_rejected");case"waiting_list":return i.Ay.t("competitions.registration_v2.info.is_waitlisted");default:return`[Testers: This should not happen. If you reached this message, please contact WST! Debug: '${e}']`}}(e.competing.registration_status,null===(n=e.payment)||void 0===n?void 0:n.has_paid,t))))}function c({registration:e,competitionInfo:t}){return r.createElement(s,{registration:e,competitionInfo:t})}},4525:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(53959),o=n(1460);t.default=function(){return r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{width:1,textAlign:"center"},o.Ay.t("competitions.scrambles_table.group")),r.createElement(a.A.HeaderCell,{width:1},"#"),r.createElement(a.A.HeaderCell,null,o.Ay.t("competitions.scrambles_table.scramble")))}},4870:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(31746),o=n(2543),i=n.n(o),l=n(62347),s=n(83995);function c(){return r.createElement(r.Fragment,null,[s.XE.edit_person.open,s.XE.edit_person.closed].map((e=>r.createElement(r.Fragment,null,r.createElement(a.A,null,`${i().upperFirst(e)} Tickets`),r.createElement(l.default,{type:s.uF.edit_person,status:e,sort:"createdAt:desc"})))))}},4969:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(96540),a=n(31746),o=n(92257),i=n(53959),l=n(31473),s=n(97286),c=n(1460),u=n(13797),d=n(19467),m=n(7862),p=n(95522),f=n(66048),g=n(83995),E=n(600),v=n(91283);function y(){return r.createElement(p.A,null,r.createElement(A,null))}function A(){const[e,t]=(0,r.useState)(""),[n,p]=(0,r.useState)(1),[y,A]=(0,v.A)(E.ALL_REGIONS_VALUE),b=(0,u.A)(e,600),{data:h,isLoading:_}=(0,s.I)({queryKey:["persons",b,y,n],queryFn:()=>{var e,t;return(0,d.getPersons)(n,null!==(e=null===(t=g.Xr.byIso2[y])||void 0===t?void 0:t.id)&&void 0!==e?e:y,b)}});return _?r.createElement(m.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,c.Ay.t("layouts.navigation.persons")),r.createElement(E.default,{region:y,onRegionChange:A}),r.createElement(o.A,{type:"text",placeholder:c.Ay.t("persons.index.name_or_wca_id"),value:e,onChange:e=>t(e.target.value)}),r.createElement(i.A,{striped:!0},r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,null,c.Ay.t("persons.index.name")),r.createElement(i.A.HeaderCell,null,c.Ay.t("common.user.wca_id")),r.createElement(i.A.HeaderCell,null,c.Ay.t("persons.index.country")),r.createElement(i.A.HeaderCell,null,c.Ay.t("layouts.navigation.competitions")),r.createElement(i.A.HeaderCell,null,c.Ay.t("persons.index.podiums")))),r.createElement(i.A.Body,null,0===h.rows.length?r.createElement(i.A.Row,null,r.createElement(i.A.Cell,null,c.Ay.t("persons.index.no_persons_found"))):h.rows.map((e=>r.createElement(i.A.Row,{key:e.wca_id},r.createElement(i.A.Cell,null,r.createElement("a",{href:(0,f.hs)(e.wca_id)},e.name)),r.createElement(i.A.Cell,null,e.wca_id),r.createElement(i.A.Cell,null,g.Xr.byIso2[e.country].name),r.createElement(i.A.Cell,null,e.competitions_count),r.createElement(i.A.Cell,null,e.podiums_count)))))),r.createElement(l.A,{defaultActivePage:n,totalPages:Math.ceil(h.total/10),onPageChange:(e,t)=>p(t.activePage)}))}},5087:function(e,t,n){"use strict";n.r(t),n.d(t,{CompetitionsMobileTable:function(){return I},CompetitionsTable:function(){return C},CompetitionsTabletTable:function(){return S}});var r=n(96540),a=n(31746),o=n(6957),i=n(27089),l=n(1489),s=n(53959),c=n(60654),u=n(55969),d=n(3487),m=n(6549),p=n(24106),f=n(35907),g=n(68438),E=n(96285),v=n(1460),y=n(81922),A=n(83995),b=n(66048),h=n(64417),_=n(34975);function w({competitions:e,isLoading:t,hasMoreCompsToLoad:n,shouldShowRegStatus:a,regStatusLoading:o,isSortedByAnnouncement:s}){return!(!e||0===e.length)||t||n?r.createElement(l.A,{centered:!0,id:"competitions-list"},r.createElement(l.A.Row,{only:"computer"},r.createElement(C,{competitions:e,isLoading:t,shouldShowRegStatus:a,regStatusLoading:o,isSortedByAnnouncement:s})),r.createElement(l.A.Row,{only:"tablet"},r.createElement(S,{competitions:e,isLoading:t,shouldShowRegStatus:a,regStatusLoading:o,isSortedByAnnouncement:s})),r.createElement(l.A.Row,{only:"mobile"},r.createElement(I,{competitions:e,isLoading:t,shouldShowRegStatus:a,regStatusLoading:o,isSortedByAnnouncement:s}))):r.createElement(i.A,{text:!0,textAlign:"center"},v.Ay.t("competitions.index.no_comp_found"))}function C({competitions:e,shouldShowRegStatus:t,regStatusLoading:n,isSortedByAnnouncement:a=!1}){return r.createElement(s.A,{striped:!0,compact:!0,basic:"very"},r.createElement(s.A.Header,{fullWidth:!0},r.createElement(s.A.Row,null,r.createElement(s.A.HeaderCell,null),r.createElement(s.A.HeaderCell,{textAlign:"right"},v.Ay.t("competitions.competition_info.date")),r.createElement(s.A.HeaderCell,null,v.Ay.t("competitions.competition_info.name")),r.createElement(s.A.HeaderCell,null,v.Ay.t("competitions.competition_info.location")),r.createElement(s.A.HeaderCell,null,v.Ay.t("competitions.competition_info.venue")))),r.createElement(s.A.Body,null,null===e||void 0===e?void 0:e.map(((o,i)=>r.createElement(r.Fragment,{key:o.id},r.createElement(O,{competitions:e,index:i,isSortedByAnnouncement:a,colSpan:5}),r.createElement(s.A.Row,{error:(0,y.mm)(o),className:"competition-info"},r.createElement(s.A.Cell,{collapsing:!0},r.createElement(k,{comp:o,shouldShowRegStatus:t,isSortedByAnnouncement:a,regStatusLoading:n})),r.createElement(s.A.Cell,{textAlign:"right",width:2},(0,h.Mk)(o.start_date,o.end_date)),r.createElement(s.A.Cell,{width:5},o.country_iso2&&r.createElement(_.default,{iso2:o.country_iso2})," ",r.createElement("a",{href:(0,b.No)(o.id)},o.short_display_name)),r.createElement(s.A.Cell,{width:4},r.createElement("strong",null,A.Xr.byIso2[o.country_iso2].name),`, ${o.city}`),r.createElement(s.A.Cell,{width:5},r.createElement(y.CH,{text:o.venue}))))))))}function S({competitions:e,shouldShowRegStatus:t,regStatusLoading:n,isSortedByAnnouncement:a=!1}){return r.createElement(s.A,{striped:!0,compact:"very",basic:!0,size:"small"},r.createElement(s.A.Header,{fullWidth:!0},r.createElement(s.A.Row,null,r.createElement(s.A.HeaderCell,null),r.createElement(s.A.HeaderCell,{textAlign:"right"},v.Ay.t("competitions.competition_info.date")),r.createElement(s.A.HeaderCell,null,v.Ay.t("competitions.competition_info.name")),r.createElement(s.A.HeaderCell,null,v.Ay.t("competitions.competition_info.location_and_venue")))),r.createElement(s.A.Body,null,null===e||void 0===e?void 0:e.map(((o,i)=>r.createElement(r.Fragment,{key:o.id},r.createElement(O,{competitions:e,index:i,isSortedByAnnouncement:a,colSpan:4}),r.createElement(s.A.Row,{error:(0,y.mm)(o),className:"competition-info"},r.createElement(s.A.Cell,{collapsing:!0},r.createElement(k,{comp:o,shouldShowRegStatus:t,isSortedByAnnouncement:a,regStatusLoading:n})),r.createElement(s.A.Cell,{textAlign:"right",width:3},(0,h.Mk)(o.start_date,o.end_date)),r.createElement(s.A.Cell,{width:6},o.country_iso2&&r.createElement(_.default,{iso2:o.country_iso2})," ",r.createElement("a",{href:(0,b.No)(o.id)},o.short_display_name)),r.createElement(s.A.Cell,{width:7},r.createElement("span",null,r.createElement("strong",null,A.Xr.byIso2[o.country_iso2].name),`, ${o.city}`),r.createElement(y.CH,{text:o.venue}))))))))}function I({competitions:e,shouldShowRegStatus:t,regStatusLoading:n,isSortedByAnnouncement:a=!1}){return r.createElement(s.A,{striped:!0,compact:"very",basic:!0,size:"small"},r.createElement(s.A.Body,null,null===e||void 0===e?void 0:e.map(((i,l)=>r.createElement(r.Fragment,{key:i.id},r.createElement(O,{competitions:e,index:l,isSortedByAnnouncement:a,colSpan:3}),r.createElement(s.A.Row,{error:(0,y.mm)(i),className:"competition-info mobile-compact"},r.createElement(s.A.Cell,null,r.createElement(o.A,{ribbon:"right",size:"small"},r.createElement(k,{comp:i,shouldShowRegStatus:t,isSortedByAnnouncement:a,regStatusLoading:n}),(0,h.Mk)(i.start_date,i.end_date)),i.country_iso2&&r.createElement(_.default,{iso2:i.country_iso2})," ",r.createElement("a",{href:(0,b.No)(i.id)},i.short_display_name)),r.createElement(s.A.Cell,{style:{marginTop:"1px"}},r.createElement("span",null,r.createElement("strong",null,A.Xr.byIso2[i.country_iso2].name),`, ${i.city}`)," ",r.createElement(y.CH,{text:i.venue,RenderAs:"span"}))))))))}function P({competitions:e,isLoading:t,hasMoreCompsToLoad:n,shouldShowRegStatus:a,selectedDelegate:o,regStatusLoading:l,isSortedByAnnouncement:m}){return!(!e||0===e.length)||t||n?r.createElement(s.A,{striped:!0,compact:!0,basic:"very",size:"small",unstackable:!0},r.createElement(s.A.Header,{fullWidth:!0},r.createElement(s.A.Row,null,r.createElement(s.A.HeaderCell,null),r.createElement(s.A.HeaderCell,null,v.Ay.t("competitions.competition_info.name_and_location")),r.createElement(s.A.HeaderCell,null,v.Ay.t("competitions.competition_info.delegates")),r.createElement(s.A.HeaderCell,{textAlign:"center"},v.Ay.t("competitions.competition_info.date")),r.createElement(s.A.HeaderCell,{textAlign:"center"},v.Ay.t("competitions.competition_info.announced")),r.createElement(s.A.HeaderCell,{textAlign:"center"},v.Ay.t("competitions.competition_info.report_posted")),r.createElement(s.A.HeaderCell,{textAlign:"center"},v.Ay.t("competitions.competition_info.results_submitted")),r.createElement(s.A.HeaderCell,null))),r.createElement(s.A.Body,null,null===e||void 0===e?void 0:e.map(((t,n)=>{const i=(0,y.z)(t),p=(0,y.av)(t,t.report_posted_at),f=(0,y.av)(t,t.results_posted_at);return r.createElement(r.Fragment,{key:t.id},r.createElement(O,{competitions:e,index:n,isSortedByAnnouncement:m,colSpan:8}),r.createElement(s.A.Row,{error:(0,y.mm)(t),className:"competition-info"},r.createElement(s.A.Cell,{collapsing:!0},r.createElement(k,{comp:t,shouldShowRegStatus:a,isSortedByAnnouncement:m,regStatusLoading:l})),r.createElement(s.A.Cell,{width:4},t.country_iso2&&r.createElement(_.default,{iso2:t.country_iso2})," ",r.createElement("a",{href:(0,b.No)(t.id)},t.short_display_name),r.createElement("br",null),r.createElement("strong",null,A.Xr.byIso2[t.country_iso2].name),`, ${t.city}`),r.createElement(s.A.Cell,{width:3},r.createElement(c.A,{verticalAlign:"middle",link:!0},t.delegates.map((e=>r.createElement(c.A.Item,{key:e.id,active:!o||e.id===o,disabled:!0},r.createElement(u.A,{avatar:!0,src:e.avatar.thumb_url}),r.createElement(c.A.Content,{as:"a"},e.name)))))),r.createElement(s.A.Cell,{textAlign:"center",width:3},(0,h.Mk)(t.start_date,t.end_date)),r.createElement(s.A.Cell,{textAlign:"center",width:2,positive:"ok"===i,warning:"warning"===i,error:"danger"===i},t.announced_at&&(0,y.EF)(t,t.announced_at)),r.createElement(s.A.Cell,{textAlign:"center",width:2,positive:"ok"===p,warning:"warning"===p,error:"danger"===p},(0,y.Fp)(t)),r.createElement(s.A.Cell,{textAlign:"center",width:2,positive:"ok"===f||"semi_ok"===f,disabled:"semi_ok"===f,warning:"warning"===f,error:"danger"===f},(0,y.hj)(t)),r.createElement(s.A.Cell,{collapsing:!0},r.createElement(d.A,{compact:!0,size:"tiny",secondary:!0,as:"a",href:(0,b.O2)(t.id),target:"_blank"},"Edit"))))})))):r.createElement(i.A,{text:!0,textAlign:"center"},v.Ay.t("competitions.index.no_comp_found"))}function O({competitions:e,index:t,isSortedByAnnouncement:n,colSpan:o}){if(t>0&&(0,y.mt)(e[t])!==(0,y.mt)(e[t-1])&&!n)return r.createElement(s.A.Row,null,r.createElement(s.A.Cell,{textAlign:"center",colSpan:o,active:!0},r.createElement(a.A,null,(0,y.mt)(e[t]))))}function R({comp:e,isLoading:t}){return t&&!e.registration_status?r.createElement(m.A,{active:!0,inline:!0,size:"mini"}):"not_yet_opened"===e.registration_status?r.createElement(p.A,{trigger:r.createElement(f.A,{name:"clock",color:"blue"}),content:v.Ay.t("competitions.index.tooltips.registration.opens_in",{relativeDate:E.c9.fromISO(e.registration_open).toRelative(h.AE.default)}),position:"top center",size:"tiny"}):"past"===e.registration_status?r.createElement(p.A,{trigger:r.createElement(f.A,{name:"user times",color:"red"}),content:v.Ay.t("competitions.index.tooltips.registration.closed",{relativeDate:E.c9.fromISO(e.start_date).toRelative(h.AE.roundUpAndAtBestDayPrecision)}),position:"top center",size:"tiny"}):"full"===e.registration_status?r.createElement(p.A,{trigger:r.createElement(f.A,{className:"user clock",color:"orange"}),content:v.Ay.t("competitions.index.tooltips.registration.full"),position:"top center",size:"tiny"}):"open"===e.registration_status?r.createElement(p.A,{trigger:r.createElement(f.A,{name:"user plus",color:"green"}),content:v.Ay.t("competitions.index.tooltips.registration.open"),position:"top center",size:"tiny"}):r.createElement(f.A,{name:"question circle"})}function k({comp:e,shouldShowRegStatus:t,isSortedByAnnouncement:n,regStatusLoading:a}){let o="",i="";if((0,y.ac)(e))(0,y.Wk)(e)?(o=v.Ay.t("competitions.index.tooltips.hourglass.posted"),i="check circle"):(o=v.Ay.t("competitions.index.tooltips.hourglass.ended",{days:v.Ay.t("common.days",{count:(0,y.NP)(e.end_date)})}),i="hourglass end");else if((0,y.LT)(e))o=v.Ay.t("competitions.index.tooltips.hourglass.in_progress"),i="hourglass half";else{if(t)return r.createElement(R,{comp:e,isLoading:a});if(n){const t=E.c9.fromISO(e.announced_at).toLocaleString(E.c9.DATETIME_MED);o=v.Ay.t("competitions.index.tooltips.hourglass.announced_on",{announcement_date:t}),i="hourglass start"}else o=v.Ay.t("competitions.index.tooltips.hourglass.starts_in",{days:v.Ay.t("common.days",{count:(0,y.NP)(e.start_date)})}),i="hourglass start"}return r.createElement(p.A,{trigger:r.createElement(f.A,{name:i}),content:o,position:"top center",size:"tiny"})}t.default=function({competitions:e,title:t,shouldShowRegStatus:n,shouldShowAdminDetails:i,selectedDelegate:l,isLoading:s,regStatusLoading:c,hasMoreCompsToLoad:u,isSortedByAnnouncement:d=!1}){return r.createElement(r.Fragment,null,r.createElement(a.A,null,t,e&&e.length>0&&r.createElement(o.A,{horizontal:!0,size:"large"},e.length,u&&"+")),i?r.createElement(P,{competitions:e,isLoading:s,hasMoreCompsToLoad:u,shouldShowRegStatus:n,selectedDelegate:l,regStatusLoading:c,isSortedByAnnouncement:d}):r.createElement(w,{competitions:e,isLoading:s,hasMoreCompsToLoad:u,shouldShowRegStatus:n,regStatusLoading:c,isSortedByAnnouncement:d}),r.createElement(g.A,{loading:s,cssOverride:{width:"100%"}}))}},5455:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(27089),o=n(60654),i=n(35907),l=n(36713),s=n(73574),c=n(1489),u=n(90447),d=n(5074),m=n(16147),p=n(24106),f=n(3487),g=n(95472),E=n(17632),v=n(38680),y=n(1565),A=n(79389),b=n(89407),h=n(58894),_=n(91283),w=n(90032),C=n(21531),S=n(19940),I=n(57598),P=n(37700),O=n(18858),R=n(95897),k=n(27705),j=n(20045),T=n(64047);t.default=function({wcifEvents:e,referenceTime:t,calendarLocale:n}){const{wcifSchedule:x}=(0,b.Pj)(),D=(0,b.wA)(),F=(0,h.S)(),[M,L]=(0,_.A)(),[N,$]=(0,I.A)(!1),[H,V]=(0,_.A)(15),[B,U]=(0,_.A)(8),[q,W]=(0,_.A)(20),z=e=>{(e=>{var t;const n=(0,C.aL)(x,e.id),r=null===n||void 0===n?void 0:n.activities,a=null===(t=(0,C.tv)(x,e.id))||void 0===t?void 0:t.timezone;null!==r&&void 0!==r&&r.length&&(U(Math.max((0,T.dG)((0,T.Oi)(r,a))-1,0)),W(Math.min((0,T.dG)((0,T.iv)(r,a),{roundForward:!0})+1,24)))})(e),L(e.id)},[G,K]=(0,r.useState)(!1),[Z,Y]=(0,r.useState)(),[X,Q]=(0,r.useState)(),[J,ee]=(0,r.useState)(),te=(0,r.useMemo)((()=>`00:${H.toString().padStart(2,"0")}:00`),[H]),ne=(0,r.useMemo)((()=>`${B.toString().padStart(2,"0")}:00:00`),[B]),re=(0,r.useMemo)((()=>`${q.toString().padStart(2,"0")}:00:00`),[q]),ae=(0,r.useMemo)((()=>(0,C.tv)(x,M)),[M,x]),oe=(0,r.useMemo)((()=>(0,C.aL)(x,M)),[M,x]),ie=(0,r.useMemo)((()=>oe&&ae?(0,T.Oi)(oe.activities,ae.timezone):void 0),[oe,ae]),le=(0,r.useMemo)((()=>null===oe||void 0===oe?void 0:oe.activities.map((e=>{const t=(0,C.Xh)(x,e).length-1,n=` (${t} matching activit${1===t?"y":"ies"})`;return{title:(0,O.W0)(e)+(N&&t>0?n:""),start:e.startTime,end:e.endTime,extendedProps:{[O._$]:e,matchCount:t}}}))),[null===oe||void 0===oe?void 0:oe.activities,x,N]),se=(0,r.useCallback)((e=>{e&&new v.sx(e,{itemSelector:".fc-draggable",eventData:e=>{const t=e.getAttribute("wcif-ac"),n=(0,O.Se)(t),r=(0,O.YE)(t);return{title:(0,O.W0)(n),duration:`00:${r.toString().padStart(2,"0")}:00`,extendedProps:{[O._$]:n}}}})}),[]),ce=(0,r.useRef)(null),ue=e=>{const{[O._$]:{id:t,name:n},matchCount:r}=e.extendedProps;F({content:`Are you sure you want to delete ${N&&r>1?`all ${r+1} copies of `:""}the event ${n}? THIS ACTION CANNOT BE UNDONE!`}).then((()=>{D((0,P.removeActivity)(t,N))}))},de=(e,t)=>{Q(e),ee(t),K(!0)},me=(0,r.useRef)();return r.createElement("div",{id:"schedules-edit-panel-body"},r.createElement(a.A,{textAlign:"center"},r.createElement(o.A,{horizontal:!0,size:"large"},x.venues.map((e=>r.createElement(o.A.Item,{key:e.id},r.createElement(i.A,{name:"home"}),r.createElement(o.A.Content,null,r.createElement(o.A.Header,null,e.name),r.createElement(o.A.List,null,e.rooms.map((e=>r.createElement(o.A.Item,{key:e.id,as:"a",onClick:()=>z(e)},e.id===(null===oe||void 0===oe?void 0:oe.id)?r.createElement("b",null,e.name):e.name)))))))))),r.createElement(l.A,null),void 0===M&&r.createElement(s.A,{info:!0},"Please select a room by clicking one of the labels above"),void 0!==M&&r.createElement("div",{ref:me},r.createElement(a.A,{fluid:!0},r.createElement(R.default,{isModalOpen:G,activity:Z,startLuxon:X,endLuxon:J,dateLocale:n,onModalClose:()=>{K(!1),Y(null),Q(null),ee(null)},onModalSave:e=>{const{activityCode:t,activityName:n}=e;if(Z)D((0,P.editActivity)(Z.id,"activityCode",t,N)),D((0,P.editActivity)(Z.id,"name",n,N));else{const e={name:n,activityCode:t,startTime:(0,O.mg)(X),endTime:(0,O.mg)(J),childActivities:[]};D((0,P.addActivity)(e,oe.id))}}}),r.createElement(k.default,{selectedRoomId:M,shouldUpdateMatches:N,setShouldUpdateMatches:$}),r.createElement(c.A,null,r.createElement(c.A.Row,null,r.createElement(c.A.Column,{width:4},r.createElement(u.A,{context:me,offset:10},r.createElement(d.A,null,r.createElement(m.o,{innerRef:ce},r.createElement(s.A,{negative:!0,floating:!0},r.createElement(i.A,{name:"trash"}),"Drop an event here to remove it from the schedule.")),r.createElement(w.default,{wcifEvents:e,wcifRoom:oe,listRef:se})))),r.createElement(c.A.Column,{width:12},r.createElement(a.A,{text:!0,textAlign:"center"},r.createElement(p.A,{trigger:r.createElement(f.A,{secondary:!0,icon:"cog"}),on:"click",position:"right center",pinned:!0,flowing:!0},r.createElement(p.A.Header,null,"Calendar settings"),r.createElement(p.A.Content,null,r.createElement(g.A,null,r.createElement(g.A.Input,{label:"Minutes per row",name:"row-mins",type:"number",min:5,max:30,step:5,value:H,onChange:V}),r.createElement(g.A.Input,{label:"Calendar starts at",name:"cal-start",type:"number",min:0,max:24,value:B,onChange:U}),r.createElement(g.A.Input,{label:"Calendar ends at",name:"cal-end",type:"number",min:0,max:24,value:q,onChange:W}))))," ","The timezone for this room is"," ",r.createElement("b",null,(0,j.D)(ae.timezone,ie||t,n)),"."),r.createElement(E.A,{plugins:[y.A,A.Ay,v.Ay],initialView:"agendaForComp",views:{agendaForComp:{type:"timeGrid",duration:{days:x.numberOfDays}}},initialDate:x.startDate,allDaySlot:!1,headerToolbar:!1,slotMinTime:ne,slotMaxTime:re,slotDuration:te,forceEventDuration:!0,defaultTimedEventDuration:"00:30:00",dragRevertDuration:0,selectMinDistance:5,height:"auto",snapDuration:"00:05:00",eventColor:oe.color,eventTextColor:(0,S.vG)(oe.color),locale:n,timeZone:ae.timezone,events:le,editable:!0,eventDragStop:({event:e,jsEvent:t})=>{var n;if(!ce.current)return;if(null===(n=e.extendedProps[O._$])||void 0===n||!n.id)return;const r=ce.current.getBoundingClientRect(),a=r.top+window.scrollY,o=r.bottom+window.scrollY,i=r.left+window.scrollX,l=r.right+window.scrollX;t.pageX>=i&&t.pageX<=l&&t.pageY>=a&&t.pageY<=o&&ue(e)},eventStartEditable:!0,eventDrop:({event:e,delta:t,view:{calendar:n}})=>{const{[O._$]:{id:r}}=e.extendedProps,a=(0,A.Y5)(t,n).toISO();D((0,P.moveActivity)(r,a,N))},eventDurationEditable:!0,eventResizableFromStart:!0,eventResize:({event:e,startDelta:t,endDelta:n,view:{calendar:r}})=>{const{[O._$]:{id:a}}=e.extendedProps,o=(0,A.Y5)(t,r).toISO(),i=(0,A.Y5)(n,r).toISO();D((0,P.scaleActivity)(a,o,i,N))},droppable:!0,eventReceive:({event:e,view:{calendar:t}})=>{const{activity:n}=(0,O.ym)(e,t);D((0,P.addActivity)(n,oe.id))},selectable:!0,dateClick:({date:e,view:{calendar:t}})=>{const n=(0,A.ls)(e,t),r=n.plus({minutes:(0,O.YE)("other")});de(n,r)},select:({start:e,end:t,view:{calendar:n}})=>{const r=(0,A.ls)(e,n),a=(0,A.ls)(t,n);de(r,a)},eventClick:({event:e,view:{calendar:t}})=>{const{activity:n,startLuxon:r,endLuxon:a}=(0,O.ym)(e,t);n.activityCode.startsWith("other-")&&(Y(n),Q(r),ee(a),K(!0))},eventDidMount:e=>{e.el.addEventListener("contextmenu",(t=>{t.preventDefault(),ue(e.event)}))}})))))))}},5627:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(96540),a=n(73574),o=n(31746),i=n(3487),l=n(53959),s=n(87977),c=n(95472),u=n(66048),d=n(79519),m=n(7862),p=n(80405),f=n(41935),g=n(1460),E=n(12845),v=n(16523),y=n(58894),A=n(32229),b=n(83995),h=n(89048);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=[b.r$.trainee_delegate,b.r$.junior_delegate,b.r$.delegate],I=S.map((e=>({text:g.Ay.t(`enums.user_roles.status.delegate_regions.${e}`),value:e}))),P={newDelegate:null,status:S[0]},O=e=>"leader"===e.metadata.status,R=e=>[(0,A.O6)(e.group.group_type).trainee_delegate,(0,A.O6)(e.group.group_type).junior_delegate].includes(e.metadata.status),k=e=>[(0,A.O6)(e.group.group_type).junior_delegate,(0,A.O6)(e.group.group_type).delegate].includes(e.metadata.status);function j({title:e,groupId:t}){const{data:n,loading:b,error:_,sync:C}=(0,d.A)(u.VB.userRoles.list({groupId:t,isActive:!0,isLead:!1},"location,name")),[S,j]=(0,r.useState)(null),[T,x]=(0,r.useState)(null),[D,F]=(0,r.useState)(P),[M,L]=(0,r.useState)(null),[N,$]=(0,r.useState)(null),{save:H,saving:V}=(0,E.A)(),B=(0,y.S)(),U=_||N,q=(e,{name:t,value:n})=>F(w(w({},D),{},{[t]:n}));return b||V?r.createElement(m.default,null):U?r.createElement(p.default,null):r.createElement(r.Fragment,null,M&&r.createElement(a.A,{content:r.createElement(r.Fragment,null,"New Delegate has been created. Please adjust the thumbnail of the new Delegate ",r.createElement("a",{href:(0,u.sX)(M.id)},"here"))}),r.createElement(o.A,{as:"h4"},e),r.createElement(i.A,{onClick:()=>j("newDelegate")},"New Delegate"),r.createElement(l.A,null,r.createElement(l.A.Header,null,r.createElement(l.A.Row,null,r.createElement(l.A.HeaderCell,null,"Name"),r.createElement(l.A.HeaderCell,null,"Status"),r.createElement(l.A.HeaderCell,null,"Location"),r.createElement(l.A.HeaderCell,null,"Actions"))),r.createElement(l.A.Body,null,n.map((e=>r.createElement(l.A.Row,{key:e.id},r.createElement(l.A.Cell,null,e.user.name),r.createElement(l.A.Cell,null,g.Ay.t(`enums.user_roles.status.delegate_regions.${e.metadata.status}`)),r.createElement(l.A.Cell,null,e.metadata.location),r.createElement(l.A.Cell,null,R(e)&&r.createElement(i.A,{onClick:()=>(e=>{B().then((()=>{H(u.VB.userRoles.update(e.id),{status:(0,A.mV)(e.metadata.status,e.group.group_type)},C,{method:"PATCH"},(e=>$(e)))}))})(e)},"Promote"),k(e)&&r.createElement(i.A,{onClick:()=>(e=>{B().then((()=>{H(u.VB.userRoles.update(e.id),{status:(0,A.Ak)(e.metadata.status,e.group.group_type)},C,{method:"PATCH"},(e=>$(e)))}))})(e)},"Demote"),!O(e)&&r.createElement(i.A,{onClick:()=>(e=>{B().then((()=>{H(u.VB.userRoles.delete(e.id),{},C,{method:"DELETE"})}))})(e)},"End Role"),r.createElement(i.A,{onClick:()=>(e=>{x(e),j("editLocation")})(e)},"Edit Location"))))))),r.createElement(s.A,{size:"fullscreen",onClose:()=>j(null),open:"newDelegate"===S},r.createElement(s.A.Content,null,r.createElement(o.A,null,"New Delegate"),r.createElement(c.A,{onSubmit:()=>{H(u.VB.userRoles.create(),{userId:D.newDelegate.id,groupId:t,status:D.status,location:D.location||""},(()=>{C(),L(D.newDelegate),F(P),j(null)}),{method:"POST"},(e=>$(e)))}},r.createElement(c.A.Field,{label:"New Delegate",control:f.default,name:"newDelegate",value:null===D||void 0===D?void 0:D.newDelegate,onChange:q,model:v.default.user,multiple:!1}),r.createElement(c.A.Dropdown,{label:"Delegate Status",fluid:!0,selection:!0,name:"status",value:D.status,options:I,onChange:q}),r.createElement(c.A.Input,{label:"Location",name:"location",value:D.location||"",onChange:q}),r.createElement(c.A.Button,{onClick:()=>j(null)},"Cancel"),r.createElement(c.A.Button,{type:"submit"},"Save")))),"editLocation"===S&&r.createElement(h.default,{onClose:()=>j(null),delegate:T,onSubmit:e=>{B().then((()=>{H(u.VB.userRoles.update(T.id),e,(()=>{C(),j(null)}),{method:"PATCH"})}))}}))}},5795:function(e,t,n){"use strict";n.r(t),n.d(t,{getRecords:function(){return o}});var r=n(45567),a=n(66048);async function o(e,t,n,o){const{data:i}=await(0,r.o)((0,a.SH)(e,t,n,o),{headers:{Accept:"application/json"}});return i}},5889:function(e,t,n){"use strict";n.r(t),n.d(t,{getAllRegistrations:function(){return s},getConfirmedRegistrations:function(){return i},getPsychSheetForEvent:function(){return l},getRegistrationByUser:function(){return c},getRegistrationHistory:function(){return d},getSingleRegistration:function(){return u}});var r=n(66048),a=n(56559),o=n(45567);async function i(e){const t=(0,r.TZ)(e.id),{data:n}=await(0,o.o)(t);return n}async function l(e,t,n){const{data:a}=await(0,o.o)((0,r.FA)(e,t,n));return a}async function s(e){const t=(0,r.H)(e.id),{data:n}=await(0,a.A)(t);return n}async function c(e,t){const n=(0,r.dD)(t,e);try{const{data:e}=await(0,a.A)(n);return e}catch(o){if(404===o.response.status)return null;throw o}}async function u(e){const t=(0,r.LF)(e),{data:n}=await(0,a.A)(t);return n}async function d(e){const{data:t}=await(0,a.A)((0,r.xA)(e));return t}},5933:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(31746),o=n(3487),i=n(2543),l=n.n(i),s=n(1460),c=n(54269);const u=e=>`Scramble ${e.scramble_number} (${e.scramble_string})`;function d({scrambleSetCount:e,scrambleSets:t,dispatchMatchState:n}){return 1===e?r.createElement(p,{selectedGroupNumber:0,scrambleSets:t,dispatchMatchState:n}):r.createElement(m,{scrambleSetCount:e,scrambleSets:t,dispatchMatchState:n})}function m({dispatchMatchState:e,scrambleSetCount:t,scrambleSets:n}){const[i,c]=(0,r.useState)(null),u=(0,r.useMemo)((()=>l().times(t)),[t]);return r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h4"},"Groups"," ",r.createElement(o.A,{size:"mini",id:"clear-all-groups",onClick:()=>c(null)},s.Ay.t("competitions.index.clear"))),r.createElement(o.A.Group,null,u.map((e=>r.createElement(o.A,{key:e,toggle:!0,basic:!0,active:e===i,onClick:()=>c(e)},"Group"," ",e+1)))),null!==i&&r.createElement(p,{dispatchMatchState:e,selectedGroupNumber:i,scrambleSets:n}))}function p({dispatchMatchState:e,selectedGroupNumber:t,scrambleSets:n}){const a=(0,r.useCallback)(((n,r)=>e({type:"moveScrambleInSet",setNumber:t,fromIndex:n,toIndex:r})),[e,t]),o=(0,r.useCallback)((e=>`Attempt ${e+1}`),[]);return r.createElement(c.default,{matchableRows:n[t].inbox_scrambles,onRowDragCompleted:a,computeDefinitionName:o,computeRowName:u})}},6146:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/LogoImages/WCA Logo Only Mono White-a9cfd1924bdb607b15b3.svg"},6573:function(e,t,n){"use strict";n.r(t);var r=n(96540);t.default=function({item:e}){return r.createElement("div",{className:"multisearch-item-reg"},r.createElement("div",{className:"reg-id"},e.id,":"),r.createElement("div",{className:"reg-text",dangerouslySetInnerHTML:{__html:e.content_html}}))}},7362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(60654),a=n(50363),o=n(31746),i=n(96540),l=n(97665),s=n(57097),c=n(1460),u=n(66048),d=n(7862),m=n(81333),p=n(45567);function f({competitionId:e,userPreferences:t}){const{isReceivingNotifications:n}=t,o=(0,l.jE)(),d=(0,s.n)({mutationFn:({compId:e,receiveNotifications:t})=>(0,p.o)((0,u.cg)(e),{headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({receive_registration_emails:t})}).then((e=>e.data)),onSuccess:(e,t)=>o.setQueryData((0,m.userPreferencesQueryKey)(t.competitionId),e.data)}),f=(0,i.useCallback)(((t,{checked:n})=>{d.mutate({compId:e,receiveNotifications:n})}),[e,d]);return i.createElement(r.A.Item,null,i.createElement(a.A,{checked:n,onChange:f,disabled:d.isPending,label:c.Ay.t("competitions.receive_registration_emails")}))}function g({competitionId:e}){const{data:t,isLoading:n}=(0,m.useUserPreferences)(e);return n?i.createElement(d.default,null):i.createElement(i.Fragment,null,i.createElement(o.A,{style:{marginTop:0}},c.Ay.t("competitions.user_preferences")),i.createElement(r.A,{verticalAlign:"middle"},i.createElement(f,{competitionId:e,userPreferences:t})))}},7862:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(83333);t.default=function(){return r.createElement(a.A,{className:"request-loading"},r.createElement(a.A.Paragraph,null,r.createElement(a.A.Line,null),r.createElement(a.A.Line,null),r.createElement(a.A.Line,null),r.createElement(a.A.Line,null)))}},8069:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(96540),a=n(73574),o=n(27089),i=n(31746),l=n(1489),s=n(47186),c=n(3487),u=n(60654),d=n(37865),m=n(97286),p=n(12799),f=n(7862),g=n(80405),E=n(54534),v=n(76549),y=n(66048);const A=new d.E,b=["Verify details to be anonymized","Non-action items to review","Action items to perform","Anonymize Action"];function h({userId:e,wcaId:t}){const{data:n,isLoading:u,isError:d}=(0,m.I)({queryKey:["anonymizeDetails",e,t],queryFn:()=>(0,p.default)(e,t),enabled:Boolean(e||t)},A),[E,v]=(0,r.useState)(0);return u?r.createElement(f.default,null):d?r.createElement(g.default,null):n?r.createElement(o.A,null,r.createElement(i.A,null,"Anonymization Dashboard"),r.createElement(l.A,{columns:2},r.createElement(l.A.Column,null,r.createElement(s.A.Group,{fluid:!0,vertical:!0,ordered:!0},b.map(((e,t)=>r.createElement(s.A,{key:e,active:E===t,completed:E>t,onClick:()=>v(t)},r.createElement(s.A.Content,null,r.createElement(s.A.Title,null,e))))))),r.createElement(l.A.Column,null,r.createElement(r.Fragment,null,r.createElement(_,{step:E,data:n,userId:e,wcaId:t}),r.createElement("br",null),r.createElement(c.A.Group,null,E>0&&r.createElement(c.A,{onClick:()=>v(E-1)},"Previous Step"),E<b.length-1&&r.createElement(c.A,{onClick:()=>v(E+1)},"Next Step")))))):r.createElement(a.A,{info:!0},"No user/person to anonymize.")}function _({step:e,data:t,userId:n,wcaId:a}){switch(e){case 0:return r.createElement(E.default,{data:t});case 1:return r.createElement(u.A,{bulleted:!0},t.non_action_items.map((e=>r.createElement(u.A.Item,null,r.createElement(w,{nonActionItem:e,messageArgs:t.message_args})))));case 2:return r.createElement(u.A,{bulleted:!0},t.action_items.map((e=>r.createElement(u.A.Item,null,r.createElement(C,{actionItem:e,messageArgs:t.message_args})))));case 3:return r.createElement(v.default,{data:t,userId:n,wcaId:a});default:return null}}function w({nonActionItem:e}){switch(e){case"user_currently_banned":return"This user is currently not banned.";case"user_banned_in_past":return"This person wasn't banned in the past.";case"person_has_records_in_past":return"This person has never held any records.";case"person_held_championship_podiums":return"This person has never been on the podium at the World, Continental, or National Championships.";case"person_competed_in_last_3_months":return"This person has not competed in the last 3 months, so no need to check with the Delegates on whether any outstanding is there.";case"user_may_have_forum_account":return"There is no user to check for a WCA forum account.";case"user_has_active_oauth_access_grants":return"This user has no active OAuth access grants.";case"competitions_with_external_website":return"There are no competitions with external websites.";case"recent_competitions_data_to_be_removed_wca_live":return"There are no recent competitions data to be removed from WCA Live.";case"user_has_upcoming_registered_competitions":return"This user has no upcoming registered competitions.";default:return`Unknown data (${e}), please contact WST.`}}function C({actionItem:e,messageArgs:t}){var n,a,o,i,l,s,c,d,m,p,f;switch(e){case"user_currently_banned":return"This user is currently banned and cannot be anonymized.";case"user_banned_in_past":return"This person has been banned in the past, please email WIC and WRT to discuss whether to proceed with the anonymization.";case"person_has_records_in_past":return`This person held ${null===t||void 0===t||null===(n=t.records)||void 0===n?void 0:n.world} World Records, ${null===t||void 0===t||null===(a=t.records)||void 0===a?void 0:a.continental} Contential Records, and ${null===t||void 0===t||null===(o=t.records)||void 0===o?void 0:o.national} National Records.`;case"person_held_championship_podiums":return`This person has achieved World Championship podium ${null===t||void 0===t||null===(i=t.championshipPodiums)||void 0===i||null===(i=i.world)||void 0===i?void 0:i.length} times, Continental Championship podium ${null===t||void 0===t||null===(l=t.championshipPodiums)||void 0===l||null===(l=l.continental)||void 0===l?void 0:l.length} times, and National Championship podium ${null===t||void 0===t||null===(s=t.championshipPodiums)||void 0===s||null===(s=s.national)||void 0===s?void 0:s.length} times.`;case"person_competed_in_last_3_months":return r.createElement(r.Fragment,null,"This person has competed in the last 3 months, please verify with the delegates that there is nothing outstanding regarding the competitor's involvement in these WCA competitions:",r.createElement(u.A,{ordered:!0},null===t||void 0===t||null===(c=t.recent_competitions_3_months)||void 0===c?void 0:c.map((e=>r.createElement(u.A.Item,{key:e.id},r.createElement(r.Fragment,null,"Contact ",r.createElement("a",{href:(0,y.No)(e.id)},e.name)," - ",r.createElement("a",{href:`mailto:${e.delegates.map((e=>e.email)).join(",")}`},e.delegates.map((e=>e.name)).join(", "))))))));case"user_may_have_forum_account":return"If you are an administrator of the WCA forum, search active users (https://forum.worldcubeassociation.org/admin/users/list/active) for any users using this email and anonymize their data. If you are not an administrator of the WCA forum, please ask a WRT member with administrator access to perform this step.";case"user_has_active_oauth_access_grants":return r.createElement(r.Fragment,null,"Request data removal from the following OAuth Access Grants:",r.createElement(u.A,{ordered:!0},null===t||void 0===t||null===(d=t.access_grants)||void 0===d?void 0:d.map((e=>r.createElement(u.A.Item,{key:e.id},r.createElement(r.Fragment,null,`${e.application.name} - ${e.application.redirect_uri} - `,r.createElement("a",{href:`mailto:${e.application.owner.email}`},e.application.owner.name)))))));case"competitions_with_external_website":return r.createElement(r.Fragment,null,"Inspect external websites of competitions for data usage. If so, instruct the website to remove the person's data:",r.createElement(u.A,{ordered:!0},null===t||void 0===t||null===(m=t.competitions_with_external_website)||void 0===m?void 0:m.map((e=>r.createElement(u.A.Item,{key:e.id},r.createElement(r.Fragment,null,r.createElement("a",{href:(0,y.No)(e.id)},e.name)," - ",r.createElement("a",{href:e.website},e.website)))))));case"recent_competitions_data_to_be_removed_wca_live":return r.createElement(r.Fragment,null,"This person has competed in the last 3 months. After anonymizing the person's data, synchronize the results on WCA Live (data more than 3 months old are automatically removed from WCA Live).",r.createElement(u.A,{ordered:!0},null===t||void 0===t||null===(p=t.recent_competitions_3_months)||void 0===p?void 0:p.map((e=>r.createElement(u.A.Item,{key:e.id},r.createElement("a",{href:(0,y.No)(e.id)},e.name))))));case"user_has_upcoming_registered_competitions":return r.createElement(r.Fragment,null,"This user has upcoming registered competitions. Please take care of it.",r.createElement(u.A,{ordered:!0},null===t||void 0===t||null===(f=t.upcoming_registered_competitions)||void 0===f?void 0:f.map((e=>r.createElement(u.A.Item,{key:e.id},r.createElement("a",{href:(0,y.No)(e.id)},e.name))))));default:return`Unknown data (${e}), please contact WST.`}}},8449:function(e,t,n){"use strict";n.r(t),n.d(t,{ALREADY_REGISTERED_IN_SERIES:function(){return p},COMPETITION_API_5XX:function(){return s},COMPETITION_NOT_FOUND:function(){return l},COMPETITOR_LIMIT_REACHED:function(){return b},EVENT_EDIT_DEADLINE_PASSED:function(){return g},EXPIRED_TOKEN:function(){return a},GUEST_LIMIT_EXCEEDED:function(){return E},INTERNAL_SERVER_ERROR:function(){return i},INVALID_EVENT_SELECTION:function(){return y},INVALID_REGISTRATION_STATUS:function(){return h},INVALID_REQUEST_DATA:function(){return f},INVALID_TOKEN:function(){return r},INVALID_WAITING_LIST_POSITION:function(){return C},MISSING_AUTHENTICATION:function(){return o},NO_OUTSTANDING_PAYMENT:function(){return j},NO_UNRESERVED_SPOTS_REMAINING:function(){return I},ORGANIZER_MUST_CANCEL_REGISTRATION:function(){return w},PAYMENT_NOT_ENABLED:function(){return R},PAYMENT_NOT_READY:function(){return k},QUALIFICATION_NOT_MET:function(){return S},REASONABLE_GUEST_COUNT:function(){return O},REGISTRATION_ALREADY_EXISTS:function(){return P},REGISTRATION_CLOSED:function(){return _},REGISTRATION_IS_REJECTED:function(){return d},REGISTRATION_NOT_FOUND:function(){return m},REQUIRED_COMMENT_MISSING:function(){return A},USER_CANNOT_COMPETE:function(){return c},USER_COMMENT_TOO_LONG:function(){return v},USER_INSUFFICIENT_PERMISSIONS:function(){return u}});const r=-1,a=-2,o=-3,i=-4,l=-1e3,s=-1001,c=-2001,u=-2003,d=-2004,m=-3e3,p=-3001,f=-4e3,g=-4001,E=-4002,v=-4003,y=-4004,A=-4005,b=-4006,h=-4007,_=-4008,w=-4009,C=-4010,S=-4012,I=-4013,P=-4014,O=-4015,R=-6001,k=-6002,j=-6003},8547:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(31746),o=n(60654),i=n(73367);function l({pastRoles:e}){return r.createElement(r.Fragment,null,r.createElement(a.A,null,"Past Roles"),r.createElement(o.A,{divided:!0,relaxed:!0},null===e||void 0===e?void 0:e.map((e=>r.createElement(o.A.Item,{key:e.id},r.createElement(o.A.Content,null,r.createElement(o.A.Header,null,(0,i.P)(e)),r.createElement(o.A.Description,null,(0,i.J)(e))))))))}},8666:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v},sortReducer:function(){return E}});var r=n(96540),a=n(5074),o=n(53959),i=n(16147),l=n(95288),s=n(45382),c=n(2543),u=n(1460),d=n(88681),m=n(12300),p=n(26474),f=n(49876),g=n(83995);const E=(0,n(246).default)(["name","wca_id","country","paid_on_with_registered_on_fallback","registered_on","amount","events","guests","paid_on","comment","dob","administrative_notes",...g.uE]);function v({columnsExpanded:e,registrations:t,selected:n,onSelect:g,onUnselect:v,onToggle:y,initialSortColumn:A,initialSortDirection:b="ascending",competitionInfo:h,draggable:_=!1,sortable:w=!0,withPosition:C=!1,handleOnDragEnd:S,color:I,distinguishPaidUnpaid:P=!1}){const[{sortColumn:O,sortDirection:R},k]=(0,r.useReducer)(E,{sortColumn:null!==A&&void 0!==A?A:h["using_payment_integrations?"]?"paid_on_with_registered_on_fallback":"registered_on",sortDirection:b}),j=(0,r.useMemo)((()=>(0,f.DB)(t,O,R)),[t,O,R]);return 0===t.length?r.createElement(a.A,null,u.Ay.t("competitions.registration_v2.list.empty")):r.createElement("div",{style:{overflowX:"auto"}},r.createElement(o.A,{sortable:w,striped:!0,unstackable:!0,compact:!0,singleLine:!0,textAlign:"left",color:I},r.createElement(d.default,{columnsExpanded:e,isChecked:t.length===n.length,onCheckboxChanged:(e,n)=>{n.checked?g(...t.map((({user:e})=>e.id))):v(...t.map((({user:e})=>e.id)))},sortDirection:R,sortColumn:O,onColumnClick:w?e=>k({type:"CHANGE_SORT",sortColumn:e}):c.noop,competitionInfo:h,withCheckbox:!_,withPosition:C}),r.createElement(s.JY,{onDragEnd:S},r.createElement(s.gL,{droppableId:"droppable-table"},(t=>r.createElement(i.o,{innerRef:t.innerRef},r.createElement(o.A.Body,t.droppableProps,j.map(((t,a)=>r.createElement(m.default,{key:t.user.id,competitionInfo:h,columnsExpanded:e,registration:t,onCheckboxChange:()=>y(t.user.id),index:a,draggable:_,isSelected:n.includes(t.user.id),withPosition:C,color:I,distinguishPaidUnpaid:P}))),t.placeholder))))),r.createElement(l.A,null,r.createElement(p.default,{columnsExpanded:e,registrations:t,competitionInfo:h,withPosition:C}))))}},9168:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(5074),o=n(31746),i=n(60654),l=n(35583),s=n(97286),c=n(97665),u=n(57097),d=n(1460),m=n(2575),p=n(40914),f=n(95522),g=n(56529),E=n(7862);function v(){return r.createElement(f.A,null,r.createElement(y,null))}function y(){const{data:e,isLoading:t}=(0,s.I)({queryKey:["pending-avatars"],queryFn:g.default}),n=(0,c.jE)(),{mutate:f}=(0,u.n)({mutationFn:p.default,onSuccess:(e,t)=>{n.setQueryData(["pending-avatars"],(e=>e.filter((e=>e.pending_avatar.id!==t.avatarId))))}}),v=(0,r.useCallback)((e=>{f({avatarId:e.id,action:"approve"})}),[f]),y=(0,r.useCallback)(((e,t,n)=>{f({avatarId:e.id,action:"reject",rejectionGuidelines:t,rejectionReason:n})}),[f]);return t?r.createElement(E.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,r.createElement(o.A,{as:"h3"},"Guidelines"),r.createElement(i.A,{bulleted:!0},d.Ay.tArray("users.edit.avatar_guidelines").map((e=>r.createElement(i.A.Item,{key:e},e)))),r.createElement(o.A,{as:"h4"},"Additional guidelines for Volunteers"),r.createElement(i.A,{bulleted:!0},d.Ay.tArray("users.edit.staff_avatar_guidelines.paragraphs").map((e=>r.createElement(i.A.Item,{key:e},e))))),e.length>0?r.createElement(l.A,null,e.map((e=>r.createElement(m.default,{key:e.id,user:e,onApprove:v,onReject:y})))):r.createElement("p",null,"No new pictures have been submitted"))}},10054:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({roundId:e,competitionId:t,registrationId:n,attempts:o}){const{data:i}=await(0,r.o)(a.Hd.api.updateRoundResult(t,e),{headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({registration_id:n,round_id:e,attempts:o})});return i}},10243:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(1460),o=n(1026);t.default=function({orgs:e}){return null==e?r.createElement(r.Fragment,null,r.createElement("h1",null,a.Ay.t("regional_organizations.title")),r.createElement("p",null,a.Ay.t("regional_organizations.empty"))):r.createElement(r.Fragment,null,r.createElement("h1",null,a.Ay.t("regional_organizations.title")),r.createElement("p",null,a.Ay.t("regional_organizations.content")),r.createElement("div",{className:"organizations-list"},e.map((e=>r.createElement("div",{key:e.name,className:"organization-box"},r.createElement("a",{target:"_blank",rel:"noreferrer",className:"hide-new-window-icon",href:e.website},r.createElement("img",{src:e.logo_url,alt:""}),r.createElement("div",{className:"organization-info"+(e.logo_url?" hide-until-hover":"")},r.createElement("div",{className:"country"},e.country),r.createElement("div",{className:"name"},e.name))))))),r.createElement("h2",null,a.Ay.t("regional_organizations.how_to.title")),r.createElement("p",null,a.Ay.t("regional_organizations.how_to.description")),r.createElement("h3",null,a.Ay.t("regional_organizations.requirements.title")),r.createElement("ol",null,a.Ay.tArray("regional_organizations.requirements.list").map(((e,t)=>r.createElement("li",{key:`regional_organizations.requirements.list.${t.toString()}`},e)))),r.createElement("h3",null,a.Ay.t("regional_organizations.application_instructions.title")),r.createElement("p",null,r.createElement(o.default,{i18nKey:"regional_organizations.application_instructions.description_html"})))}},10265:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(96540),a=n(3487),o=n(2543),i=n.n(o),l=n(90161),s=n(49346),c=n(25991),u=n(47737),d=n(59971),m=n(73477),p=n(95790),f=n(12845),g=n(51319),E=n(83995);function v(e){return e?E.Fx.byId[e].expectedSolveCount:0}var y=n(66048);const A=e=>({competitionId:e.competition_id||"",roundTypeId:e.round_type_id||"",roundId:e.round_id||"",formatId:e.format_id||"",eventId:e.event_id||""}),b=e=>({attempts:i().times(v(e.format_id),(t=>e.attempts&&e.attempts[t]||0)),markerBest:e.regional_single_record,markerAvg:e.regional_average_record}),h=e=>({wcaId:e.wca_id||"",name:e.name||"",countryIso2:e.country_iso2||""});function _({result:e,save:t,saving:n,onCreate:o,onUpdate:i,onDelete:p}){const{id:f}=e,_=function(e){return[3,5].includes(v(e.format_id))&&!["333mbf","333mbo"].includes(e.event_id)}(e),[w,C]=(0,r.useState)(h(e)),[S,I]=(0,r.useState)(A(e)),[P,O]=(0,r.useState)(b(e));(0,r.useEffect)((()=>{O(b(e)),I(A(e)),C(h(e))}),[e]);const[R,k]=(0,r.useState)({}),j=(0,r.useCallback)(((e,t)=>{k(t),void 0===t.errors&&(void 0===f?o({result:e,response:t}):i({result:e,response:t}))}),[f,k,o,i]),T=(0,r.useCallback)((e=>{k({errors:["The request to the server failed. This is definitely unexpected, you may consider contacting the WST with the error below!",e.toString()]})}),[k]),x=(0,r.useCallback)((e=>{const n=void 0===f?(0,y.Vm)(""):(0,y.Vm)(f);t(n,e,(t=>j(e.result,t)),{method:void 0===f?"POST":"PATCH"},T)}),[t,f,j,T]),D=(0,r.useCallback)((()=>{t((0,y.Vm)(e.id),{},(t=>p({result:e,response:t})),{method:"DELETE"},T)}),[t,e,p,T]),F=(0,r.useCallback)((e=>{C(h(e)),k({})}),[k,C]);return r.createElement("div",{className:"result-form"},r.createElement("h3",null,"Round data"),r.createElement(c.default,{roundData:S,setRoundData:I}),r.createElement("h3",null,"Person data"),r.createElement(u.default,{trigger:r.createElement(a.A,{positive:!0,compact:!0,size:"small"},"Create new person"),onPersonCreate:F,competitionId:S.competitionId}),r.createElement(s.default,{personData:w,setPersonData:C}),r.createElement("h3",null,"Attempts"),r.createElement(l.default,{eventId:e.event_id,state:P,setState:O,computeAverage:_}),r.createElement(m.default,{response:R}),r.createElement("div",null,r.createElement(a.A,{positive:!0,loading:n,disabled:n,onClick:()=>x((({eventId:e,formatId:t,competitionId:n,roundTypeId:r,roundId:a},o,i)=>{const l=E.Xr.byIso2[o.countryIso2],s={person_id:o.wcaId,person_name:o.name,country_id:l?l.id:void 0,best:(0,g.bE)(i.attempts),average:(0,g.G8)(i.attempts,e,i.attempts.length),regional_average_record:i.markerAvg,regional_single_record:i.markerBest,event_id:e,format_id:t,competition_id:n,round_type_id:r,round_id:a};return i.attempts.forEach(((e,t)=>{s[`value${t+1}`]=e})),{result:s}})(S,w,P))},"Save"),r.createElement(a.A,{primary:!0,as:"a",loading:n,disabled:n,href:(0,y.uC)(S.competitionId,S.eventId)},"Go to competition results"),r.createElement(a.A,{secondary:!0,as:"a",loading:n,disabled:n,href:(0,y.SY)(w.wcaId,S.competitionId,S.eventId,S.roundTypeId)},"Go to Fix results")),f&&r.createElement(d.default,{deleteAction:D}))}var w=function({result:e,sync:t}){const{save:n,saving:o}=(0,f.A)(),[i,l]=(0,r.useState)(void 0),[s,c]=(0,r.useState)(void 0),[u,d]=(0,r.useState)(void 0),m=(0,r.useCallback)((e=>{d(e),t()}),[t,d]);return i?r.createElement(p.default,{wcaId:i.result.person_id,eventId:e.event_id,competitionId:e.competition_id,response:i.response}):u?r.createElement("div",null,r.createElement(p.default,{wcaId:u.result.person_id,eventId:e.event_id,competitionId:e.competition_id,response:u.response}),r.createElement(a.A,{secondary:!0,loading:o,disabled:o,onClick:()=>d(void 0)},"Go back for more edits")):s?r.createElement(p.default,{wcaId:s.result.wca_id,eventId:e.event_id,competitionId:e.competition_id,response:s.response}):r.createElement(_,{result:e,save:n,saving:o,onCreate:l,onUpdate:m,onDelete:c})}},10319:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(95472),a=n(31746),o=n(96540),i=n(97665),l=n(57097),s=n(2543),c=n.n(s),u=n(1460),d=n(89407),m=n(43703),p=n(45567),f=n(81333),g=n(7862),E=n(66048);function v({competitionId:e,confirmationData:t,toggleKey:n}){const{[n]:a}=t,s=(0,m.useFormErrorHandler)(),d=(0,i.jE)(),g=(0,l.n)({mutationFn:({compId:e,toggleValue:t})=>(0,p.o)((0,E.fu)(e),{headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({[n]:t})}).then((e=>e.data)),onSuccess:(e,t)=>d.setQueryData((0,f.confirmationDataQueryKey)(t.compId),e.data),onError:s}),v=(0,o.useCallback)(((t,{checked:n})=>{g.mutate({compId:e,toggleValue:n})}),[e,g]);return o.createElement(r.A.Checkbox,{checked:a,onChange:v,disabled:g.isPending,label:u.Ay.t(`competitions.competition_form.labels.admin.${c().snakeCase(n)}`)})}function y({competitionId:e}){const{isAdminView:t}=(0,d.Pj)(),{data:n,isLoading:i}=(0,f.useConfirmationData)(e);return t?i?o.createElement(g.default,null):o.createElement(o.Fragment,null,o.createElement(a.A,{style:{marginTop:0}},u.Ay.t("competitions.announcements")),o.createElement(r.A.Group,{widths:"equal"},o.createElement(v,{competitionId:e,confirmationData:n,toggleKey:"isConfirmed"}),o.createElement(v,{competitionId:e,confirmationData:n,toggleKey:"isVisible"}))):null}},10526:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(50363),o=n(41935),i=n(16523),l=n(57598);t.default=function({value:e,onChange:t,model:n,label:s,multiple:c}){const[u,d]=(0,l.A)(!1);return r.createElement(r.Fragment,null,r.createElement(o.IdWcaSearch,{value:e,onChange:t,model:n,label:s,multiple:c,params:{adminSearch:!0,email:u}}),n===i.default.user&&r.createElement(r.Fragment,null,r.createElement(a.A,{label:"Enable email search",value:u,onChange:d}),r.createElement("p",null,"Note: When email search is enabled, you can search only with email, and you are expected to enter the full email address.")))}},11198:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(73574),o=n(1489),i=n(3487),l=n(5074),s=n(65632),c=n(97286),u=n(57097),d=n(83995),m=n(95522),p=n(10054),f=n(65119),g=n(7862),E=n(50057);function v({competitionId:e,competitors:t,round:n}){return 0===t.length?r.createElement(a.A,{negative:!0},"No Results entered yet"):r.createElement(m.A,null,r.createElement(y,{competitionId:e,competitors:t,round:n}))}function y({competitionId:e,competitors:t,round:n}){const a=d.AZ.byId[n.event_id].recommendedFormat().expectedSolveCount,[m,v]=(0,r.useState)(0),[y,A]=(0,r.useState)(t[0].id),[b,h]=(0,r.useState)(_.times(a,_.constant(0))),{data:w,isLoading:C}=(0,c.I)({queryKey:(0,f.roundResultsKey)(n.id),queryFn:()=>(0,f.default)(n.id,e)}),{mutate:S,isPending:I}=(0,u.n)({mutationFn:p.default}),P=(0,r.useMemo)((()=>w?t.find((e=>e.id===w[m].registration_id)):{}),[t,m,w]);return C?r.createElement(g.default,null):r.createElement(o.A,null,r.createElement(o.A.Column,{width:1,verticalAlign:"middle"},0!==m&&r.createElement(i.A,{onClick:()=>{h(w[m-1].attempts.map((e=>e.result))),v((e=>e-1))}},"<")),r.createElement(o.A.Column,{width:7},r.createElement(l.A,{loading:I},r.createElement(E.default,{registrationId:P.id,handleAttemptChange:(e,t)=>{const n=[...b];n[e]=t,h(n)},handleSubmit:async()=>{S({roundId:n.id,registrationId:y,competitionId:e,attempts:b})},handleRegistrationIdChange:(e,{value:t})=>{A(t)},header:"Double Check Result",attempts:b,competitors:t,solveCount:a,eventId:n.event_id}))),r.createElement(o.A.Column,{width:1,verticalAlign:"middle"},m!==w.length-1&&r.createElement(i.A,{onClick:()=>{h(w[m+1].attempts.map((e=>e.result))),v((e=>e+1))}},">")),r.createElement(o.A.Column,{textAlign:"center",width:7,verticalAlign:"middle"},r.createElement(s.A,{fluid:!0,raised:!0},r.createElement(s.A.Header,null,m+1," ","of"," ",w.length,r.createElement("br",null),n.name),r.createElement(s.A.Content,null,"Double-check"),r.createElement(s.A.Description,null,"Here you can iterate over results ordered by entry time (newest first). When doing double-check you can place a scorecard next to the form to quickly compare attempt results. For optimal experience make sure to always put entered/updated scorecard at the top of the pile."))))}},11217:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({cronjobName:e}){const{data:t}=await(0,r.o)(a.uP.cronjob.details(e));return t}},11332:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(27089),o=n(31746),i=n(83995),l=n(95522),s=n(59731);function c({podiums:e,competitionId:t,competitors:n}){return r.createElement(l.A,null,r.createElement(u,{podiums:e,competitionId:t,competitors:n}))}function u({podiums:e,competitionId:t,competitors:n}){return r.createElement(a.A,{fluid:!0},r.createElement(o.A,null,"Podiums"),e.map((e=>r.createElement(r.Fragment,null,r.createElement(o.A,{as:"h3"},i.AZ.byId[e.event_id].name),e.live_podium.length>0?r.createElement(s.default,{results:e.live_podium,competitionId:t,competitors:n,event:i.AZ.byId[e.event_id]}):"Podiums to be determined"))))}},11554:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(5074),o=n(83995),i=n(3011),l=n(46756),s=n(30736);function c({competitionInfo:e,userId:t}){const[n,c]=(0,r.useState)(),[u,d]=(0,r.useState)(),m=e=>{const t=o.AZ.byId[e];c(e),d(t.recommendedFormat().sortBy)},p=void 0!==n,f=(0,r.useRef)(),g=()=>{var e;return null===f||void 0===f||null===(e=f.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"center"})};return r.createElement(a.A,null,r.createElement(l.default,{eventList:e.event_ids,selectedEvent:n,onEventClick:e=>e!==n&&m(e),onClearClick:()=>{c(void 0),d(void 0)}}),p?r.createElement(i.default,{competitionInfo:e,selectedEvent:n,sortedBy:u,setSortedBy:d,userId:t,userRowRef:f,onScrollToMeClick:g}):r.createElement(s.default,{competitionInfo:e,eventIds:e.event_ids,onEventClick:m,userId:t,userRowRef:f,onScrollToMeClick:g}))}},11768:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(79519),o=n(66048),i=n(83995),l=n(7862),s=n(80405),c=n(25681);function u(){const{data:e,loading:t,error:n,sync:u}=(0,a.A)(o.VB.userGroups.list(i.Hn.teams_committees)),{data:d,loading:m,error:p,sync:f}=(0,a.A)(o.VB.userGroups.list(i.Hn.councils)),g=(0,r.useMemo)((()=>[...e||[],...d||[]]),[d,e]),E=(0,r.useCallback)((e=>{e.group_type===i.Hn.teams_committees?u():f()}),[f,u]);return t||m?r.createElement(l.default,null):n||p?r.createElement(s.default,null):r.createElement(c.default,{groups:g,sync:E})}},11778:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(5074),o=n(92257),i=n(53959),l=n(95522),s=n(66048),c=n(91283),u=n(34975);function d({competitionId:e,competitors:t}){return r.createElement(l.A,null,r.createElement(m,{competitionId:e,competitors:t}))}function m({competitionId:e,competitors:t}){const[n,l]=(0,c.A)("");return r.createElement(a.A,null,r.createElement(o.A,{placeholder:"Search Competitor",value:n,onChange:l,icon:"magnifying_glass"}),r.createElement(i.A,{basic:"very",selectable:!0},r.createElement(i.A.Header,null,r.createElement(i.A.HeaderCell,{width:1}),r.createElement(i.A.HeaderCell,null)),r.createElement(i.A.Body,null,t.filter((e=>e.user.name.includes(n))).map((t=>r.createElement(i.A.Row,null,r.createElement(i.A.Cell,null,r.createElement(u.default,{iso2:t.user.country_iso2})),r.createElement(i.A.Cell,null,r.createElement("a",{href:s.Hd.personResults(e,t.id)},t.user.name))))))))}},12008:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(96285),a=n(96540),o=n(50363),i=n(5074),l=n(31746),s=n(1489),c=n(35907),u=n(46942),d=n.n(u),m=n(64047),p=n(64417),f=n(18858),g=n(24391),E=n(26027),v=n(1460),y=n(83995),A=n(21531);function b({dates:e,timeZone:t,activeRooms:n,activeEvents:r,activeVenueOrNull:i,competitionName:l,wcifEvents:s}){const c=r.flatMap((e=>e.rounds)),[u,d]=(0,E.A)(!0,"scheduleTableExpanded"),p=n.flatMap((e=>e.activities)).toSorted(m.eA),f=r.map((({id:e})=>e)),g=p.filter((e=>["other",...f].includes((0,m.l7)(e)))).filter((e=>!(0,m.pj)(e,s)));return a.createElement(a.Fragment,null,a.createElement(o.A,{name:"details",label:v.Ay.t("competitions.schedule.more_details"),toggle:!0,checked:u,onChange:(e,t)=>d(t.checked)}),e.map((e=>{const r=(0,m.dE)(g,e,t),o=(0,m.N)(r);return a.createElement(h,{key:e.toMillis(),date:e,timeZone:t,groupedActivities:o,rounds:c,rooms:n,isExpanded:u,activeVenueOrNull:i,competitionName:l,wcifEvents:s})})))}function h({date:e,timeZone:t,groupedActivities:n,rounds:o,rooms:c,isExpanded:u,activeVenueOrNull:d,competitionName:p,wcifEvents:E}){const y=v.Ay.t("competitions.schedule.schedule_for_full_date",{date:e.toLocaleString(r.c9.DATE_HUGE)}),A=n.length>0,b=A&&n[0][0].startTime,h=A&&n[n.length-1][0].endTime,C=d&&`${(0,f.xW)(d.latitudeMicrodegrees)},${(0,f.xW)(d.longitudeMicrodegrees)}`;return a.createElement(i.A,{basic:!0},a.createElement(l.A,{as:"h2"},A&&a.createElement(g.default,{startDate:b,endDate:h,timeZone:t,name:p,address:C}),A&&" ",y),a.createElement(s.A,{centered:!0,divided:"vertically",className:"schedule-events"},a.createElement(_,{isExpanded:u}),A?n.map((e=>{const n=e[0],r=o.find((e=>e.id===(0,m.xB)(n)));return a.createElement(w,{key:n.id,isExpanded:u,activityGroup:e,round:r,rooms:c,timeZone:t,wcifEvents:E})})):a.createElement(s.A.Row,{columns:1},a.createElement(s.A.Column,{textAlign:"center"},a.createElement("em",null,v.Ay.t("competitions.schedule.no_activities"))))))}function _({isExpanded:e}){return a.createElement(s.A.Row,{only:"computer"},a.createElement(s.A.Column,{width:e?1:2},v.Ay.t("competitions.schedule.start")),a.createElement(s.A.Column,{width:e?1:2},v.Ay.t("competitions.schedule.end")),a.createElement(s.A.Column,{width:e?4:7},v.Ay.t("competitions.schedule.activity")),a.createElement(s.A.Column,{width:e?3:5},v.Ay.t("competitions.schedule.room_or_stage")),e&&a.createElement(a.Fragment,null,a.createElement(s.A.Column,{width:1},v.Ay.t("competitions.events.format")),a.createElement(s.A.Column,{width:2},a.createElement("a",{href:"#time-limit"},v.Ay.t("competitions.events.time_limit"))),a.createElement(s.A.Column,{width:2},a.createElement("a",{href:"#cutoff"},v.Ay.t("competitions.events.cutoff"))),a.createElement(s.A.Column,{width:2},v.Ay.t("competitions.events.proceed"))))}function w({isExpanded:e,activityGroup:t,round:n,rooms:r,timeZone:o,wcifEvents:i}){const l=t[0],{startTime:u,endTime:f}=l,g=l.activityCode.startsWith("other")?l.name:(0,m.cV)(l,i),E=l.activityCode.startsWith("other")?"other":(0,A.Eh)(l.activityCode).eventId,b=t.map((e=>e.id)),{format:h,timeLimit:_,cutoff:w,advancementCondition:C}=n||{},S=r.filter((e=>e.activities.some((e=>b.includes(e.id)))));return a.createElement(a.Fragment,null,a.createElement(s.A.Row,{only:"computer"},a.createElement(s.A.Column,{width:e?1:2},(0,p.jD)(u,o)),a.createElement(s.A.Column,{width:e?1:2},(0,p.jD)(f,o)),a.createElement(s.A.Column,{width:e?4:7},g),a.createElement(s.A.Column,{width:e?3:5},S.map((e=>e.name)).join(", ")),e&&a.createElement(a.Fragment,null,a.createElement(s.A.Column,{width:1},w&&h&&`${y.Fx.byId[w.numberOfAttempts].shortName} / `,h&&y.Fx.byId[h].shortName),a.createElement(s.A.Column,{width:2},n&&(0,A.fI)(n,i),_&&a.createElement(a.Fragment,null,1===_.cumulativeRoundIds.length&&a.createElement("a",{href:"#cumulative-time-limit"},"*"),_.cumulativeRoundIds.length>1&&a.createElement("a",{href:"#cumulative-across-rounds-time-limit"},"**"))),a.createElement(s.A.Column,{width:2},w&&(0,A.qY)(n)),a.createElement(s.A.Column,{width:2},C&&(0,A.Oh)(n)))),a.createElement(s.A.Row,{only:"tablet mobile"},a.createElement(s.A.Column,{textAlign:"left",mobile:6,tablet:4},v.Ay.t("competitions.schedule.range.from"),a.createElement("br",null),a.createElement("b",null,(0,p.jD)(u,o))),a.createElement(s.A.Column,{textAlign:"center",mobile:4,tablet:8},a.createElement(c.A,{size:"big",className:d()("cubing-icon",`event-${E}`)})),a.createElement(s.A.Column,{textAlign:"right",mobile:6,tablet:4},v.Ay.t("competitions.schedule.range.to"),a.createElement("br",null),a.createElement("b",null,(0,p.jD)(f,o))),a.createElement(s.A.Column,{textAlign:"center",mobile:16,tablet:10},a.createElement("b",null,g)),a.createElement(s.A.Column,{textAlign:"center",mobile:16,tablet:6},S.map((e=>e.name)).join(", ")),e&&"other"!==E&&a.createElement(a.Fragment,null,h&&a.createElement(a.Fragment,null,a.createElement(s.A.Column,{textAlign:"left",mobile:6,tablet:4},v.Ay.t("competitions.events.format")),a.createElement(s.A.Column,{textAlign:"right",mobile:10,tablet:4},a.createElement("b",null,w&&`${y.Fx.byId[w.numberOfAttempts].shortName} / `,y.Fx.byId[h].shortName))),_&&a.createElement(a.Fragment,null,a.createElement(s.A.Column,{textAlign:"left",mobile:6,tablet:4},v.Ay.t("competitions.events.time_limit")),a.createElement(s.A.Column,{textAlign:"right",mobile:10,tablet:4},a.createElement("b",null,n&&(0,A.fI)(n,i),1===_.cumulativeRoundIds.length&&a.createElement("a",{href:"#cumulative-time-limit"},"*"),_.cumulativeRoundIds.length>1&&a.createElement("a",{href:"#cumulative-across-rounds-time-limit"},"**")))),w&&a.createElement(a.Fragment,null,a.createElement(s.A.Column,{textAlign:"left",mobile:6,tablet:4},v.Ay.t("competitions.events.cutoff")),a.createElement(s.A.Column,{textAlign:"right",mobile:10,tablet:4},a.createElement("b",null,(0,A.qY)(n)))),C&&a.createElement(a.Fragment,null,a.createElement(s.A.Column,{textAlign:"left",mobile:6,tablet:4},v.Ay.t("competitions.events.proceed")),a.createElement(s.A.Column,{textAlign:"right",mobile:10,tablet:4},a.createElement("b",null,(0,A.Oh)(n)))))))}},12300:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(24106),a=n(16147),o=n(53959),i=n(35907),l=n(50363),s=n(96540),c=n(45382),u=n(52322),d=n(1460),m=n(64417),p=n(80824),f=n(66048),g=n(94028),E=n(83995),v=n(34975);const y=e=>(null===e||void 0===e?void 0:e.length)>12?`${e.slice(0,12)}...`:e;function A({timestamp:e,registeredOn:t,paymentStatus:n,hasPaid:a,paidOn:o,usesPaymentIntegration:i}){if(e)return(0,m.MS)(null!==o&&void 0!==o?o:t);if(i&&!a){let e=d.Ay.t("registrations.list.payment_requested_on",{date:(0,m.MS)(t)}),a=s.createElement("span",null,d.Ay.t("registrations.list.not_paid"));return"initialized"===n&&(e=d.Ay.t("competitions.registration_v2.list.payment.initialized",{date:(0,m.MS)(o)})),"refund"===n&&(e=d.Ay.t("competitions.registration_v2.list.payment.refunded",{date:(0,m.MS)(o)}),a=s.createElement("span",null,d.Ay.t("competitions.registration_v2.list.payment.refunded_status"))),s.createElement(r.A,{content:e,trigger:a})}return s.createElement(r.A,{content:(0,m.MS)(null!==o&&void 0!==o?o:t),trigger:s.createElement("span",null,(0,m.Gp)(null!==o&&void 0!==o?o:t))})}function b({columnsExpanded:e,registration:t,isSelected:n,onCheckboxChange:m,competitionInfo:b,index:h,draggable:_=!1,withPosition:w=!1,color:C,distinguishPaidUnpaid:S=!1}){var I;const{dob:P,region:O,events:R,comments:k,email:j,timestamp:T}=e,{id:x,wca_id:D,name:F,country:M,dob:L,email:N}=t.user,{registered_on:$,event_ids:H,comment:V,admin_comment:B,waiting_list_position:U}=t.competing,{paid_amount_iso:q,updated_at:W,payment_status:z,has_paid:G}=null!==(I=t.payment)&&void 0!==I?I:{},K=b["using_payment_integrations?"],Z=S&&K&&!G?void 0:C,Y=()=>{navigator.clipboard.writeText(N),(0,u.showMessage)("Copied email address to clipboard.","positive")};return s.createElement(c.sx,{key:t.user_id.toString(),draggableId:t.user_id.toString(),index:h,isDragDisabled:!_},(e=>{var c;return s.createElement(a.o,{innerRef:e.innerRef},s.createElement(o.A.Row,Object.assign({key:x,active:n},e.draggableProps,e.dragHandleProps),s.createElement(o.A.Cell,{className:Z},_?s.createElement(i.A,{name:"bars"}):s.createElement(l.A,{onChange:m,checked:n,style:{margin:0}})),w&&s.createElement(o.A.Cell,null,U),s.createElement(o.A.Cell,null,s.createElement("a",{href:(0,f.pu)(t.id)},d.Ay.t("registrations.list.edit"))),s.createElement(o.A.Cell,null,D?s.createElement("a",{href:(0,f.hs)(D)},D):s.createElement("a",{href:(0,f.lY)(x)},s.createElement(i.A,{name:"edit"}),d.Ay.t("users.edit.profile"))),s.createElement(o.A.Cell,null,F),P&&s.createElement(o.A.Cell,null,L),s.createElement(o.A.Cell,null,(null===M||void 0===M?void 0:M.iso2)&&s.createElement(s.Fragment,null,s.createElement(v.default,{iso2:M.iso2,withoutTooltip:O})," ",O&&(null===(c=E.Xr.byIso2)||void 0===c||null===(c=c[M.iso2])||void 0===c?void 0:c.name))),s.createElement(o.A.Cell,null,s.createElement(A,{timestamp:T,paidOn:W,hasPaid:G,registeredOn:$,paymentStatus:z,usesPaymentIntegration:b["using_payment_integrations?"]})),b["using_payment_integrations?"]&&s.createElement(o.A.Cell,null,0!==q?(0,g.i)(q,b.currency_code):""),R?b.event_ids.map((e=>s.createElement(o.A.Cell,{key:`event-${e}`},H.includes(e)&&s.createElement(p.default,{id:e,size:"1em"})))):s.createElement(r.A,{content:H.map((e=>s.createElement(p.default,{key:e,id:e,size:"1em"}))),position:"top center",trigger:s.createElement(o.A.Cell,null,s.createElement("span",null,H.length," ",s.createElement(i.A,{name:"magnify"})))}),s.createElement(o.A.Cell,null,t.guests),k&&s.createElement(s.Fragment,null,s.createElement(o.A.Cell,null,s.createElement(r.A,{content:V,trigger:s.createElement("span",null,y(V))})),s.createElement(o.A.Cell,null,s.createElement(r.A,{content:B,trigger:s.createElement("span",null,y(B))}))),s.createElement(o.A.Cell,null,s.createElement("a",{href:`mailto:${N}`},j?N:s.createElement(r.A,{content:N,trigger:s.createElement("span",null,s.createElement(i.A,{name:"mail"}))}))," ",s.createElement(i.A,{link:!0,onClick:Y,name:"copy",title:d.Ay.t("competitions.registration_v2.update.email_copy")}))))}))}},12515:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({roundId:e,competitionId:t,registrationId:n,attempts:o}){const{data:i}=await(0,r.o)(a.Hd.api.addRoundResult(t,e),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({registration_id:n,round_id:e,attempts:o})});return i}},12761:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(55969),o=n(22869);const i=["crop"];t.default=function(e){let{crop:t}=e,n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);const[l,s]=(0,r.useState)(),[c,u]=(0,r.useState)(),d=(0,r.useMemo)((()=>{if(t&&l&&c)return(0,o.Et)(t,l,c)}),[t,c,l]),m=(0,r.useMemo)((()=>d?100/d.width*100+"%":"inherit"),[d]),p=(0,r.useMemo)((()=>d?100/d.height*100+"%":"inherit"),[d]),f=(0,r.useMemo)((()=>d?`-${100/d.height*d.y}%`:"0px"),[d]),g=(0,r.useMemo)((()=>d?`-${100/d.width*d.x}%`:"0px"),[d]);return r.createElement(a.A,Object.assign({},n,{style:{width:m,height:p,maxWidth:"initial",objectFit:"cover",marginTop:f,marginLeft:g},onLoad:e=>{const{naturalWidth:t,naturalHeight:n}=e.currentTarget;s(t),u(n)}}))}},12799:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o(e,t){const{data:n}=await(0,r.o)(a.v9.tickets.getDetailsBeforeAnonymization(e,t));return n}},12845:function(e,t,n){"use strict";var r=n(96540),a=n(45567);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=e=>{throw e};t.A=()=>{const[e,t]=(0,r.useState)(!1),n=(0,r.useCallback)(((e,n,r,s={},c=l)=>{t(!0),(0,a.o)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(n)},s)).then((e=>r(e.data))).catch(c).finally((()=>t(!1)))}),[t]);return{saving:e,save:n}}},13113:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(64695),o=(n(30025),n(96285));const i=e=>(0,r.useMemo)((()=>(e=>!!e&&o.c9.fromISO(e,{zone:"UTC"}).setZone("local",{keepLocalTime:!0}).toJSDate())(e)),[e]);t.default=function({id:e,name:t,isoDate:n,onChange:l,shouldCloseOnSelect:s,showTimeInput:c=!1,showYearDropdown:u=!1,dropdownMode:d=null,scrollableYearDropdown:m=!1,showIcon:p=!1,placeholderText:f=null,selectsStart:g=!1,selectsEnd:E=!1,isoStartDate:v=null,isoEndDate:y=null,isoMinDate:A=null,isoMaxDate:b=null,dateFormatOverride:h=null,timeFormatOverride:_=null,required:w=!1}){const C=i(n),S=(0,r.useCallback)((e=>{const t=o.c9.fromJSDate(e).setZone("UTC",{keepLocalTime:!0}),n=c?t.toISO({suppressMilliseconds:!0}):t.toISODate();l(n)}),[l,c]),I=i(v),P=i(y),O=i(A),R=i(b),k=_||"p",j=h||"P",T=c?j+k:j;return r.createElement(a.Ay,{id:e,name:t,className:"ui input",selected:C,onChange:S,shouldCloseOnSelect:s,showTimeInput:c,showYearDropdown:u,dropdownMode:d,scrollableYearDropdown:m,timeInputLabel:"UTC",dateFormat:T,timeFormat:k,showIcon:p,placeholderText:f,selectsStart:g,selectsEnd:E,startDate:I,endDate:P,minDate:O,maxDate:R,required:w})}},13285:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(96540),a=n(2543),o=n.n(a),i=n(57097),l=n(89407),s=n(66048),c=n(23875),u=n(20326),d=n(45567),m=n(81333),p=n(95522),f=n(1460);function g({competition:e=null,isCloning:t=!1}){const n=(0,m.useQueryRedirect)(),a=(0,i.n)({mutationFn:e=>(0,d.o)(s.Lf,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then((e=>e.data)),onSuccess:n});return r.createElement(l.Ay,{reducer:o().identity,initialState:{isAdminView:!1,isPersisted:!1,isSeriesPersisted:!1}},r.createElement(c.default,{initialObject:e,saveMutation:a,saveButtonText:f.Ay.t("competitions.competition_form.submit_create_value")},r.createElement(u.default,{isCloning:t})))}function E({competition:e=null,isCloning:t=!1}){return r.createElement(p.A,null,r.createElement(g,{competition:e,isCloning:t}))}},13797:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(96540);function a(e,t){const[n,a]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const n=setTimeout((()=>{a(e)}),t);return()=>clearTimeout(n)}),[e,t]),n}},13873:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(3487),o=n(50363);t.default=function({deleteAction:e}){const[t,n]=(0,r.useState)(!1),i=(0,r.useCallback)((()=>n((e=>!e))),[n]);return r.createElement("div",null,r.createElement(a.A,{negative:!0,className:"delete-scramble-button",disabled:!t,onClick:e},"Delete the scramble"),r.createElement(o.A,{label:"Yes, I want to delete that scramble",checked:t,onChange:i}))}},14133:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(81934);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=(e,t,n,r=[])=>{if(0===r.length)return o(o({},e),{},"function"===typeof n?{[t]:n(e[t])}:{[t]:n});const a=r.shift(),i=e[a]||{};return o(o({},e),{},{[a]:l(i,t,n,r)})},s={[r.ChangesSaved]:(e,{payload:t})=>o(o({},e),{},{initialObject:t.override||e.object}),[r.SetErrors]:(e,{payload:t})=>o(o({},e),{},{errors:t.errors}),[r.UpdateFormValue]:(e,{payload:t})=>o(o({},e),{},{object:l(e.object,t.key,t.value,[...t.sections])})};function c(e,t){const n=s[t.type];return n?n(e,t):e}},14391:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(96540),a=n(31746),o=n(3487),i=n(53959),l=n(24106),s=n(97286),c=n(2543),u=n.n(c),d=n(64417),m=n(83995),p=n(80824),f=n(1460),g=n(40823),E=n(7862),v=n(5889);const y=(e,t)=>"event_ids"===e?m.AZ.official.flatMap((e=>t.includes(e.id)?r.createElement(p.default,{key:e.id,id:e.id,style:{cursor:"unset"}}):[])):t;function A({registrationId:e}){const{isLoading:t,data:n,refetch:c}=(0,s.I)({queryKey:["registration-history",e],queryFn:()=>(0,v.getRegistrationHistory)(e)}),{data:m,isLoading:p}=(0,s.I)({queryKey:["history-user",n],queryFn:()=>(0,g.default)(u().uniq(n.flatMap((e=>"user"===e.actor_type||"worker"===e.actor_type?Number(e.actor_id):[])))),enabled:Boolean(n)});return t||p?r.createElement(E.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,f.Ay.t("registrations.registration_history.title"),r.createElement(o.A,{floated:"right",onClick:c},"Refresh")),r.createElement(i.A,null,r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,null,f.Ay.t("competitions.registration_v2.list.timestamp")),r.createElement(i.A.HeaderCell,null,f.Ay.t("registrations.registration_history.changes")),r.createElement(i.A.HeaderCell,null,f.Ay.t("registrations.registration_history.acting_user")),r.createElement(i.A.HeaderCell,null,f.Ay.t("registrations.registration_history.action")))),r.createElement(i.A.Body,null,n.map((e=>{var t,n;return r.createElement(i.A.Row,{key:e.timestamp},r.createElement(i.A.Cell,null,r.createElement(l.A,{content:(0,d.FT)(e.timestamp),trigger:r.createElement("span",null,`${(0,d.dy)(e.timestamp)} ${(0,d.Wb)(e.timestamp)}`)})),r.createElement(i.A.Cell,null,Object.entries(e.changed_attributes).map((([e,t])=>r.createElement("span",{key:e},"Changed"," ",e," ","to"," ",y(e,t)," ",r.createElement("br",null))))),r.createElement(i.A.Cell,null,null!==(t=null===(n=m.find((t=>t.id===Number(e.actor_id))))||void 0===n?void 0:n.name)&&void 0!==t?t:e.actor_id),r.createElement(i.A.Cell,null,e.action))})))))}},14487:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o},readValueRecursive:function(){return c},useSectionAllowIgnoreDisabled:function(){return s},useSectionDisabled:function(){return l},useSections:function(){return i}});var r=n(96540);const a=(0,r.createContext)();function o({children:e,section:t=[],disabled:n=!1,allowIgnoreDisabled:o=!0}){const i=(0,r.useMemo)((()=>[t,n,o]),[t,n,o]);return r.createElement(a.Provider,{value:i},e)}const i=()=>(0,r.useContext)(a)[0],l=()=>(0,r.useContext)(a)[1],s=()=>(0,r.useContext)(a)[2],c=(e,t=[])=>{if(0===t.length)return e;const[n,r]=(e=>{const t=[...e];return[t.shift(),t]})(t),a=(null===e||void 0===e?void 0:e[n])||{};return c(a,r)}},14526:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(96540),a=n(53959),o=n(3487),i=n(2543),l=n.n(i),s=n(46942),c=n.n(s),u=n(1460),d=n(66048),m=n(60301);const p=e=>l().kebabCase(e);function f({delegates:e,isAdminMode:t,isAllLeadDelegates:n,isAllNonLeadDelegates:i}){const l=(0,r.useMemo)((()=>e.filter((e=>"trainee_delegate"!==e.metadata.status||t))),[e,t]);return r.createElement("div",{style:{overflowX:"scroll"}},r.createElement(a.A,{unstackable:!0},r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{collapsing:!0}),r.createElement(a.A.HeaderCell,null,u.Ay.t("delegates_page.table.name")),r.createElement(a.A.HeaderCell,null,u.Ay.t("delegates_page.table.role")),!n&&r.createElement(a.A.HeaderCell,null,u.Ay.t("delegates_page.table.region")),i&&r.createElement(r.Fragment,null,r.createElement(a.A.HeaderCell,null,u.Ay.t("delegates_page.table.first_delegated")),r.createElement(a.A.HeaderCell,null,u.Ay.t("delegates_page.table.last_delegated")),r.createElement(a.A.HeaderCell,null,"Date Since Last Delegated"),r.createElement(a.A.HeaderCell,null,u.Ay.t("delegates_page.table.total_delegated")),r.createElement(a.A.HeaderCell,null)))),r.createElement(a.A.Body,null,l.map((e=>r.createElement(a.A.Row,{className:c()(`${p(e.metadata.status)}`),key:e.user.id},r.createElement(a.A.Cell,{verticalAlign:"middle"},r.createElement(o.A.Group,{vertical:!0},r.createElement(o.A,{href:`mailto:${e.user.email}`,icon:"envelope"}),t&&r.createElement(o.A,{href:`users/${e.user.id}/edit`,icon:"edit"}))),r.createElement(a.A.Cell,null,r.createElement(m.default,{user:e.user,hideBorder:!0,leftAlign:!0,subtexts:e.user.wca_id?[e.user.wca_id]:[]})),r.createElement(a.A.Cell,null,u.Ay.t(`enums.user_roles.status.delegate_regions.${e.metadata.status}`)),!n&&r.createElement(a.A.Cell,null,e.metadata.location),i&&r.createElement(r.Fragment,null,r.createElement(a.A.Cell,null,e.metadata.first_delegated),r.createElement(a.A.Cell,null,e.metadata.last_delegated),r.createElement(a.A.Cell,null,e.date_since_last_delegated),r.createElement(a.A.Cell,null,e.metadata.total_delegated),r.createElement(a.A.Cell,{href:(0,d.KR)({display:"admin",years:"all",delegate:e.user.id,state:"past"})},u.Ay.t("delegates_page.table.history")))))))))}},14597:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(96540),a=n(31746),o=n(60654),i=n(35907),l=n(66048),s=n(7862),c=n(53254),u=n(83995),d=n(73367);function m({activeRoles:e}){const{loggedInUserPermissions:t,loading:n}=(0,c.A)();return n?r.createElement(s.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,"Active Roles"),r.createElement(o.A,{divided:!0,relaxed:!0},null===e||void 0===e?void 0:e.map((e=>{const n=function(e){return e.group.group_type===u.Hn.delegate_regions?[u.r$.senior_delegate,u.r$.regional_delegate].includes(e.metadata.status)?(0,l.fy)(u.yv.regionsManager):(0,l.fy)(u.yv.regions):e.group.group_type===u.Hn.teams_committees?(0,l.fy)(u.yv.groupsManager):e.group.group_type===u.Hn.translators?(0,l.fy)(u.yv.translators):null}(e);return r.createElement(o.A.Item,{key:e.id,disabled:!(t.canEditGroup(e.group.id)&&n)},r.createElement(o.A.Content,{floated:"left",href:n},r.createElement(i.A,{name:"edit",size:"large",link:!0})),r.createElement(o.A.Content,null,r.createElement(o.A.Header,null,(0,d.P)(e)),r.createElement(o.A.Description,null,(0,d.J)(e))))}))))}},14655:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(97286),a=n(96540),o=n(5795),i=n(7862),l=n(58706),s=n(33160),c=n(69034),u=n(37202);function d({results:e}){const[t]=e,n=t.map((([e,t])=>({single:e,average:t})));return a.createElement(u.default,{rows:n,config:c.slimConfig})}function m({filterState:e}){const{event:t,region:n,gender:m,show:p}=e,{data:f,isLoading:g}=(0,r.I)({queryKey:["records",t,n,m,p],queryFn:()=>(0,o.getRecords)(t,n,m,p),select:e=>(0,c.augmentApiResults)(e,p)});if(g)return a.createElement(i.default,null);switch(p){case"mixed":return a.createElement(l.default,{results:f},(e=>a.createElement(u.default,{rows:e,config:c.mixedRecordsConfig})));case"slim":return a.createElement(d,{results:f});case"separate":return a.createElement(s.default,{results:f},((e,t)=>a.createElement(u.default,{rows:e,config:(0,c.separateRecordsConfig)(t)})));case"history":return a.createElement(l.default,{results:f},(e=>a.createElement(u.default,{rows:e,config:(0,c.historyConfig)(!1)})));case"mixed history":return a.createElement(u.default,{rows:f,config:(0,c.historyConfig)(!0)});default:return console.error(`Invalid record table: ${p}`),null}}},14780:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(24106),o=n(79519),i=n(1460),l=n(66048),s=n(83995);function c({userId:e}){const{data:t}=(0,o.A)(l.VB.userRoles.list({userId:e,isActive:!0,isGroupHidden:!1},["lead","eligibleVoter","groupTypeRank","status:desc","groupName"].join(","))),n=t||[];return r.createElement("div",{className:"positions-container"},n.map((e=>{const{roleTitle:t,groupTitle:n,badgeClass:o,url:c}=function(e){return e.group.group_type===s.Hn.delegate_regions?{roleTitle:i.Ay.t(`enums.user_roles.status.${e.group.group_type}.${e.metadata.status}`),groupTitle:i.Ay.t(`enums.user_roles.status.${e.group.group_type}.${e.metadata.status}`),badgeClass:"delegate-badge",url:l.xI}:[s.Hn.teams_committees,s.Hn.councils].includes(e.group.group_type)?{roleTitle:`${e.group.metadata.friendly_id.toUpperCase()} ${i.Ay.t(`enums.user_roles.status.${e.group.group_type}.${e.metadata.status}`)}`,groupTitle:e.group.name,badgeClass:`team-${e.metadata.status.replace("_","-")}-badge`,url:(0,l.jb)(e.group.metadata.friendly_id)}:e.group.group_type===s.Hn.board?{roleTitle:e.group.group_type.toUpperCase(),groupTitle:i.Ay.t(`user_groups.group_types.${e.group.group_type}`),badgeClass:"team-member-badge",url:l.X2}:e.group.group_type===s.Hn.officers?{roleTitle:`${i.Ay.t(`enums.user_roles.status.${e.group.group_type}.${e.metadata.status}`)}`,groupTitle:i.Ay.t(`user_groups.group_types.${e.group.group_type}`),badgeClass:"officer-badge",url:l.X2}:e.group.group_type===s.Hn.translators?{roleTitle:i.Ay.t("user_groups.group_types.translators"),groupTitle:e.group.name,badgeClass:"team-member-badge",url:l.mQ}:{}}(e);return r.createElement(a.A,{content:n,position:"bottom center",inverted:!0,trigger:r.createElement("span",{className:`badge ${o}`},r.createElement("a",{href:c},t))})})))}},16013:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(2543),o=n.n(a),i=n(57097),l=n(89407),s=n(66048),c=n(23875),u=n(75908),d=n(20326),m=n(95522),p=n(81333),f=n(45567),g=n(1460);function E({competition:e,editingUserId:t,storedEvents:n,isAdminView:a,isSeriesPersisted:m,areResultsSubmitted:E}){const v=e.competitionId,y=`${(0,s.No)(v)}?adminView=${a}`,A=(0,p.useQueryRedirect)(),b=(0,i.n)({mutationFn:e=>(0,f.o)(y,{headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(e)}).then((e=>e.data)),onSuccess:A}),h=(0,p.useQueryDataSetter)((0,p.confirmationDataQueryKey)(v)),_=(0,i.n)({mutationFn:()=>(0,f.o)((0,s.b6)(v),{method:"PUT"}).then((e=>e.data)),onSuccess:h}),w=(0,i.n)({mutationFn:()=>(0,f.o)((0,s.No)(v),{method:"DELETE"}),onSuccess:()=>window.location.replace(s.A)}),{data:C,isLoading:S}=(0,p.useConfirmationData)(e.competitionId),I=[{id:"confirm",mutation:_,enabled:(null===C||void 0===C?void 0:C.canConfirm)&&!(null!==C&&void 0!==C&&C.isConfirmed)&&!a,confirmationMessage:g.Ay.t("competitions.competition_form.submit_confirm"),buttonText:g.Ay.t("competitions.competition_form.submit_confirm_value"),buttonProps:{positive:!0}},{id:"delete",mutation:w,enabled:!(null!==C&&void 0!==C&&C.cannotDeleteReason)&&!(null!==C&&void 0!==C&&C.isConfirmed),confirmationMessage:g.Ay.t("competitions.competition_form.submit_delete"),buttonText:g.Ay.t("competitions.competition_form.submit_delete_value"),buttonProps:{negative:!0}}],P=(0,r.useMemo)((()=>{if(S)return!0;const{isConfirmed:e}=C;return e&&!a}),[C,a,S]),O=(0,r.useMemo)((()=>{const{staff:{staffDelegateIds:n,traineeDelegateIds:r}}=e,o=[...n,...r].includes(t);return a||o&&!E}),[e,t,a,E]);return r.createElement(l.Ay,{reducer:o().identity,initialState:{isAdminView:a,isPersisted:!0,isSeriesPersisted:m}},r.createElement(c.default,{initialObject:e,saveMutation:b,CustomHeader:u.default,footerActions:I,saveButtonText:g.Ay.t("competitions.competition_form.submit_update_value"),globalDisabled:P,globalAllowIgnoreDisabled:O},r.createElement(d.default,{storedEvents:n})))}function v({competition:e,editingUserId:t,storedEvents:n=[],isAdminView:a=!1,isSeriesPersisted:o=!1,areResultsSubmitted:i=!1}){return r.createElement(m.A,null,r.createElement(E,{competition:e,editingUserId:t,storedEvents:n,isAdminView:a,isSeriesPersisted:o,areResultsSubmitted:i}))}},16523:function(e,t,n){"use strict";n.r(t);t.default={user:0,person:1,competition:2,userRole:3}},16574:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(31746),o=n(3487),i=n(87977),l=n(79519),s=n(66048),c=n(83995),u=n(7862),d=n(80405),m=n(39531),p=n(53254),f=n(83080);function g(){const{data:e,loading:t,error:n,sync:g}=(0,l.A)(s.VB.userRoles.list({isActive:!0,groupType:c.Hn.banned_competitors},"startDate")),{data:E,loading:v,error:y,sync:A}=(0,l.A)(s.VB.userRoles.list({isActive:!1,groupType:c.Hn.banned_competitors},"startDate:desc")),{data:b,loading:h,error:_}=(0,l.A)(s.VB.userGroups.list(c.Hn.banned_competitors)),{loggedInUserPermissions:w,permissionsLoading:C}=(0,p.A)(),[S,I]=(0,r.useState)(null);if(t||v||h||C)return r.createElement(u.default,null);if(n||y||_)return r.createElement(d.default,null);const P=b.some((e=>w.canEditGroup(e.id)));return r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,r.createElement(a.A,null,"Banned Competitors"),P&&r.createElement(o.A,{onClick:()=>I({action:"new"})},"Ban new competitor"),r.createElement(m.default,{bannedCompetitorRoles:e,canEditBannedCompetitors:P,editBannedCompetitor:I})),r.createElement(r.Fragment,null,r.createElement(a.A,null,"Past Banned Competitors"),r.createElement(m.default,{bannedCompetitorRoles:E,canEditBannedCompetitors:P,editBannedCompetitor:I})),r.createElement(i.A,{open:!!S,onClose:()=>I(null)},r.createElement(i.A.Header,null,"Add/Edit Banned Competitor"),r.createElement(i.A.Content,null,r.createElement(f.default,{sync:()=>{g(),A()},banAction:null===S||void 0===S?void 0:S.action,banActionRole:null===S||void 0===S?void 0:S.role,closeForm:()=>I(null)}))))}},16769:function(e,t,n){"use strict";var r=n(96540);t.A=(e=void 0)=>{const[t,n]=(0,r.useState)(e);return[t,(0,r.useCallback)(((e,t=void 0)=>{n(t?!t.active:e)}),[n])]}},16791:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(96540),a=n(2543),o=n.n(a),i=n(6957),l=n(95472),s=n(1460),c=n(83995),u=n(21531),d=n(89407),m=n(91283),p=n(72220),f=n(41798),g=n(72272),E=n(99358),v=n(34368),y=n(72599),A=n(13113);function b({type:e,resultType:t,level:n,onChange:a,eventId:o}){switch(e){case"attemptResult":return"333mbf"===o?r.createElement(f.default,{eventId:o,value:n,onChange:e=>a(e),label:r.createElement(i.A,null,s.Ay.t(`common.${t}`))}):r.createElement(p.default,{eventId:o,value:n,onChange:e=>a(e),label:r.createElement(i.A,null,s.Ay.t(`common.${t}`)),resultType:t});case"ranking":return r.createElement(l.A.Input,{type:"number",min:1,value:n,onChange:e=>a(parseInt(e.target.value,10)),label:r.createElement(i.A,null,s.Ay.t("qualification.type.ranking"))});default:return null}}function h({wcifEvent:e,disabled:t,disabledReason:n}){var a,p,f;const h=c.AZ.byId[e.id],{qualification:_}=e,w=(0,d.wA)(),[C,S]=(0,m.A)(null!==(a=null===_||void 0===_?void 0:_.resultType)&&void 0!==a?a:0),[I,P]=(0,m.A)(null!==(p=null===_||void 0===_?void 0:_.type)&&void 0!==p?p:"attemptResult"),[O,R]=(0,r.useState)(null!==(f=null===_||void 0===_?void 0:_.whenDate)&&void 0!==f?f:""),[k,j]=(0,r.useState)((null===_||void 0===_?void 0:_.level)||0),T=()=>!o().isEqual(_,{resultType:C,type:I,whenDate:O,level:k}),x=s.Ay.t("qualification.for_event",{event:h.name}),D=(0,u.Id)(e,_,{short:!0});return r.createElement(E.default,{trigger:D,title:x,reset:()=>{var e,t,n,r;S(null!==(e=null===_||void 0===_?void 0:_.resultType)&&void 0!==e?e:""),P(null!==(t=null===_||void 0===_?void 0:_.type)&&void 0!==t?t:""),R(null!==(n=null===_||void 0===_?void 0:_.whenDate)&&void 0!==n?n:""),j(null!==(r=null===_||void 0===_?void 0:_.level)&&void 0!==r?r:0)},onOk:()=>{T()&&w((0,g.updateQualification)(e.id,C?{type:I,resultType:C,whenDate:O,level:k}:null))},hasUnsavedChanges:T(),disabled:t,tooltip:n,triggerButtonProps:{name:"qualification"}},r.createElement(y.default,{qualificationResultType:C,onChange:S,eventId:h.id}),C?r.createElement(v.default,{qualificationType:I,onChange:P}):null,C&&I?r.createElement(r.Fragment,null,r.createElement(b,{type:I,level:k,resultType:C,onChange:j,eventId:h.id}),r.createElement(l.A.Field,null,r.createElement(i.A,null,s.Ay.t("qualification.deadline.description")),r.createElement(A.default,{onChange:R,isoDate:O})),r.createElement("br",null),r.createElement("p",null,(0,u.Id)(e,{type:I,resultType:C,whenDate:O,level:k}))):null)}},16946:function(e,t,n){"use strict";n.r(t),n.d(t,{getCompetitions:function(){return l},getEvents:function(){return i},getResults:function(){return o}});var r=n(45567),a=n(66048);async function o({wcaId:e,competitionId:t,eventId:n}){const{data:o}=await(0,r.o)(a.uP.persons.results(e,t,n));return o||{}}async function i({wcaId:e,competitionId:t}){const n=await o({wcaId:e,competitionId:t});return _.uniq(_.map(n,"event_id"))}async function l({wcaId:e}){const t=await o({wcaId:e});return _.uniqBy(t,"competition_id").map((e=>({competitionId:e.competition_id,competitionName:e.competition_name})))}},17068:function(e,t,n){"use strict";n.r(t);var r=n(46942),a=n.n(r),o=n(13387),i=n(24106),l=n(96540),s=n(80824),c=n(83995);t.default=function({selected:e,eventIds:t,onSelect:n}){return l.createElement(o.A,{text:!0,className:"event-menu-bar"},t.map(((t,r)=>l.createElement(i.A,{key:t,content:c.AZ.byId[t].name,trigger:l.createElement(o.A.Item,null,l.createElement(s.default,{key:t,id:t,onClick:()=>n(t,r),className:a()(e===t&&"selected")})),inverted:!0,size:"tiny"}))))}},18150:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(97286),o=n(99418),i=n(7862);function l({md:e,id:t=crypto.randomUUID()}){const{data:n,isLoading:l}=(0,a.I)({queryKey:["markdown",t],queryFn:()=>window.wca.renderMarkdownRequest(e),staleTime:1/0});return l?r.createElement(i.default,null):r.createElement("span",{dangerouslySetInnerHTML:{__html:o.A.sanitize(n)}})}},18163:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(60654),o=n(31746);const i=[{section:"Guides",links:[{title:"Delegate Handbook",link:"https://documents.worldcubeassociation.org/edudoc/delegate-handbook/delegate-handbook.pdf"},{title:"Guidelines for Disciplinary Incidents",link:"https://documents.worldcubeassociation.org/edudoc/guidelines-for-disciplinary-incidents/guidelines-for-disciplinary-incidents.pdf"},{title:"Visual Guide for Regulation 3j",link:"https://drive.google.com/file/d/1m6THsA8fXRN7QFM4ApJbm6eVODKGbMLx/view"},{title:"Visual Guide for Regulation 5b5f",link:"https://drive.google.com/file/d/15XszaCGNvy3Dk6X6qERzZWZaDH1RH04z/view"}]},{section:"Forms",links:[{title:"Gear Order Form",link:"https://forms.gle/owX3ppZahYkoq9s48"},{title:"Equipment Funding Form",link:"https://docs.google.com/forms/d/e/1FAIpQLSebkWMyG2kRzR3cDm3jXFVMFCwd5u4XI6Yt35givu0SOidpHg/viewform"},{title:"Travel Reimbursement Form",link:"https://docs.google.com/forms/d/12tz2I_EeBORm14kQO6ZB5TOp321YbXkIXvrxUNIHxN0/viewform"},{title:"WR Submission Form",link:"https://docs.google.com/forms/d/e/1FAIpQLSeLrkLhFnIy1QNGoWoZT4jsOIibNJ_xc9qTd_YKBpcuMIq-LA/viewform"}]}];function l({title:e,link:t}){return r.createElement(a.A.Item,null,r.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},e))}function s(){return r.createElement(r.Fragment,null,r.createElement(o.A,{as:"h2"},"Important Links"),i.map((({section:e,links:t})=>r.createElement(a.A,{key:e},r.createElement(o.A,{as:"h3"},e),r.createElement(a.A,null,t.map((({title:e,link:t})=>r.createElement(l,{key:t,title:e,link:t}))))))))}},18279:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(96540),a=n(95472),o=n(12845),i=n(66048),l=n(83995),s=n(7862),c=n(16523),u=n(41935);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={SENIOR_MEMBER:"senior_member",MEMBER:"member",RESIGN:"resign"},g=[{name:"Senior Member",value:f.SENIOR_MEMBER},{name:"Member",value:f.MEMBER},{name:"Resign",value:f.RESIGN}];function E({closeForm:e,syncData:t,group:n,oldLeader:d}){const[p,E]=(0,r.useState)({newLeader:null,oldLeaderStatus:g[0].value}),{save:v}=(0,o.A)(),[y,A]=(0,r.useState)(!1),b=(e,{name:t,value:n})=>E(m(m({},p),{},{[t]:n})),h=()=>{t(),e(),A(!1)},_=()=>{p.oldLeaderStatus!==f.RESIGN&&d?v(i.VB.userRoles.create(),{userId:d.id,groupId:n.id,status:p.oldLeaderStatus},h,{method:"POST"}):h()};return y?r.createElement(s.default,null):r.createElement(a.A,{onSubmit:()=>{A(!0),v(i.VB.userRoles.create(),{userId:p.newLeader.id,groupId:n.id,status:l.zY.leader},_,{method:"POST"})}},r.createElement(a.A.Field,{label:"New Leader",control:u.default,name:"newLeader",value:null===p||void 0===p?void 0:p.newLeader,onChange:b,model:c.default.user,multiple:!1}),d&&r.createElement(a.A.Field,{label:"Old Leader Status",control:a.A.Dropdown,name:"oldLeaderStatus",value:null===p||void 0===p?void 0:p.oldLeaderStatus,onChange:b,options:g.map((e=>({key:e.value,text:e.name,value:e.value})))}),r.createElement(a.A.Button,{onClick:()=>e()},"Cancel"),r.createElement(a.A.Button,{type:"submit"},"Save"))}},18397:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(8829),o=n(27089);t.default=function({showIf:e,children:t}){return r.createElement(a.A,{visible:e,animation:"slide down"},r.createElement(o.A,{fluid:!0,className:"field"},t))}},18719:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(96540),a=n(31746),o=n(3487),i=n(53959),l=n(87977),s=n(95472),c=n(79519),u=n(66048),d=n(83995),m=n(80405),p=n(7862),f=n(12845),g=n(41935),E=n(16523);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){const{data:e,loading:t,error:n,sync:v}=(0,c.A)(u.VB.userRoles.list({groupType:d.Hn.translators,isActive:!0},"name")),{data:A,loading:b,error:h}=(0,c.A)(u.VB.userGroups.list(d.Hn.translators,"name",{isActive:!0})),{save:_,saving:w}=(0,f.A)(),[C,S]=(0,r.useState)(!1),[I,P]=(0,r.useState)({}),[O,R]=(0,r.useState)(null),k=n||h||O,j=(e,{name:t,value:n})=>P(y(y({},I),{},{[t]:n}));return t||b||w?r.createElement(p.default,null):k?r.createElement(m.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h2"},"Active translators"),r.createElement(o.A,{onClick:()=>S(!0)},"Add Translator"),r.createElement(i.A,{celled:!0},r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,null,"Locale"),r.createElement(i.A.HeaderCell,null,"Translator"),r.createElement(i.A.HeaderCell,null,"Actions"))),r.createElement(i.A.Body,null,e.map((e=>r.createElement(i.A.Row,null,r.createElement(i.A.Cell,null,e.group.metadata.locale),r.createElement(i.A.Cell,null,e.user.name),r.createElement(i.A.Cell,null,r.createElement(o.A,{onClick:()=>function(e){_(u.VB.userRoles.delete(e.id),{},v,{method:"DELETE"})}(e)},"End Role"))))))),C&&r.createElement(l.A,{size:"fullscreen",open:C,onClose:()=>{S(!1),P({})}},r.createElement(l.A.Content,null,r.createElement(a.A,null,"Add Translator"),r.createElement(s.A,{onSubmit:()=>{_(u.VB.userRoles.create(),{groupId:I.groupId,userId:I.user.id},(()=>{v(),P({}),S(!1)}),{method:"POST"},(e=>{R(e),P({}),S(!1)}))}},r.createElement(s.A.Field,{label:"Locale",control:s.A.Select,name:"groupId",value:I.groupId,onChange:j,options:A.map((e=>({key:e.id,text:e.name,value:e.id})))}),r.createElement(s.A.Field,{label:"New Translator",control:g.default,name:"user",value:I.user,onChange:j,model:E.default.user,multiple:!1}),r.createElement(o.A,{type:"submit"},"Submit")))))}},18770:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(96540),a=n(31111);function o(){const e=(0,a.ko)(),t=(0,r.useRef)(),n=(0,r.useCallback)((()=>e.invalidateSize(!1)),[e]);return(0,r.useEffect)((()=>{const e=t.current;return e.contentWindow.addEventListener("resize",n),()=>{var t;null===(t=e.contentWindow)||void 0===t||t.removeEventListener("resize",n)}}),[t,n]),r.createElement("iframe",{title:"invisibleIFrame",src:"about:blank",className:"invisible-iframe-map",ref:t})}},18858:function(e,t,n){"use strict";n.d(t,{BZ:function(){return b},LS:function(){return h},MN:function(){return y},Se:function(){return R},UU:function(){return C},W0:function(){return T},YE:function(){return _},_$:function(){return k},c4:function(){return v},dU:function(){return O},h6:function(){return m},lW:function(){return A},mg:function(){return w},nl:function(){return I},qV:function(){return P},wo:function(){return E},xW:function(){return p},ym:function(){return j},zM:function(){return S}});var r=n(2543),a=n.n(r),o=n(96285),i=n(79389),l=n(21531),s=n(1460);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){const t=Math.trunc(1e6*parseFloat(e));return Number.isNaN(t)?0:t}function p(e){const t=e/1e6;return Number.isNaN(t)?0:t}function f(e){return 0===e.length?[]:[...e,...f(e.flatMap((e=>e.childActivities)))]}const g=e=>a().max(e.map((e=>e.id)))||0;function E(e){return g(e.venues)+1}function v(e){const t=e.venues.flatMap((e=>e.rooms));return g(t)+1}function y(e){const t=e.venues.flatMap((e=>e.rooms)).flatMap((e=>f(e.activities)));return g(t)+1}function A(e,t){const n=t.id+y(e);return u(u({},t),{},{id:n,childActivities:t.childActivities.map((t=>A(e,t)))})}function b(e,t){const n=t.id+v(e);return u(u({},t),{},{id:n,activities:t.activities.map((t=>A(e,t)))})}function h(e,t){const n=t.id+E(e);return u(u({},t),{},{id:n,rooms:t.rooms.map((t=>b(e,t)))})}function _(e){const{eventId:t}=(0,l.Eh)(e);return"333fm"===t||"333mbf"===t||"other-lunch"===e||"other-awards"===e?60:30}function w(e){return e.toUTC().toISO({suppressMilliseconds:!0})}function C(e,t){const n=o.dw.fromISO(t);return w(o.c9.fromISO(e).plus(n))}function S(e,t){const n=o.dw.fromISO(e).toMillis()*t;return o.dw.fromMillis(n).rescale().toISO()}function I(e,t){const n=o.c9.fromISO(e),r=o.c9.fromISO(t).diff(n);return Math.abs(r.toMillis())}function P(e,t){const n=o.dw.fromISO(e),r=o.dw.fromISO(t);return n.plus(r).rescale().toISO()}function O(e,t,n){return w(o.c9.fromISO(e).setZone(t).setZone(n,{keepLocalTime:!0}))}const R=(e,t=[],n=[])=>({name:(0,s.Lc)(s.Xn,(()=>(0,l.oR)(e))),activityCode:e,childActivities:t,extensions:n}),k="activityAttachment";function j(e,t){const n=(0,i.ls)(e.start,t),r=(0,i.ls)(e.end,t),a=w(n),o=w(r),{[k]:l}=e.extendedProps;return{activity:u(u(u({},R(l.activityCode)),l),{},{startTime:a,endTime:o}),startLuxon:n,endLuxon:r}}const T=e=>e.name},19467:function(e,t,n){"use strict";n.r(t),n.d(t,{getPersons:function(){return o}});var r=n(45567),a=n(66048);async function o(e,t,n){const{data:o}=await(0,r.o)(`${a.Kh}?search=${n}&order=asc&offset=${10*(e-1)}&limit=10&region=${null!==t&&void 0!==t?t:"all"}`,{headers:{Accept:"application/json"}});return o}},19504:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/LogoImages/WCA Lockup Positive Primary-145f869bd2b5a2bd855b.svg"},19529:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(73574),o=n(60654),i=n(1026),l=n(1460),s=n(66048);function c({reasons:e,competitionInfo:t,userInfo:n}){return r.createElement(a.A,{negative:!0},r.createElement(i.default,{i18nKey:"registrations.please_fix_profile_html",options:{comp:t.name,profile:`<a href='${(0,s.lY)(n.id)}' >${l.Ay.t("registrations.profile")}</a>`}}),r.createElement(o.A,{bulleted:!0},e.map((e=>r.createElement(o.A.Item,{key:e},r.createElement("span",{dangerouslySetInnerHTML:{__html:e}}))))))}},19698:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(96540),a=n(5074),o=n(31746),i=n(21295),l=n(3487),s=n(50363),c=n(2543),u=n.n(c),d=n(1460),m=n(83995),p=n(20045);const f=Array.from(m.RG),g=Intl.supportedValuesOf("timeZone"),E=u().uniq(f.concat(g)),v=(0,p.Z)(E,new Date).map((e=>({key:e,text:e,value:e}))),{timeZone:y}=Intl.DateTimeFormat().resolvedOptions();function A({activeVenueOrNull:e,hasMultipleVenues:t,activeTimeZone:n,setActiveTimeZone:c,followVenueSelection:u,setFollowVenueSelection:m}){return r.createElement(a.A,null,r.createElement(o.A,{size:"small"},d.Ay.t("competitions.schedule.time_zone")),d.Ay.t("competitions.schedule.timezone_setting")," ",r.createElement(i.A,{search:!0,selection:!0,value:n,onChange:(e,t)=>c(t.value),options:v}),r.createElement("br",null),r.createElement(l.A,{compact:!0,icon:"home",content:d.Ay.t("competitions.schedule.timezone_set_local"),labelPosition:"left",onClick:()=>c(y)}),e&&r.createElement(l.A,{compact:!0,icon:"map pin",content:d.Ay.t("competitions.schedule.timezone_set_venue"),labelPosition:"left",onClick:()=>c(e.timezone)})," ",t&&r.createElement(s.A,{label:d.Ay.t("competitions.schedule.timezone_follow_venue"),checked:u,onChange:(e,t)=>m(t.checked)}))}},19940:function(e,t,n){"use strict";function r(){r=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){var i=RegExp(e,r);return t.set(i,o||t.get(e)),a(i,n.prototype)}function o(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var a=r[n];if("number"==typeof a)t[n]=e[a];else{for(var o=0;void 0===e[a[o]]&&o+1<a.length;)o++;t[n]=e[a[o]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=o(n,this);var r=n.indices;r&&(r.groups=o(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var a=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)(>|$)/g,(function(e,t,n){if(""===n)return e;var r=a[t];return Array.isArray(r)?"$"+r.join("$"):"number"==typeof r?"$"+r:""})))}if("function"==typeof r){var i=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(o(e,i)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},r.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}n.d(t,{Zo:function(){return l},gT:function(){return i},vG:function(){return s}});const o=r(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/,{r:1,g:2,b:3}),i="#ffffff",l="#666666",s=e=>{const[t,n,r]=(e=>{const t=e.match(o);return null!==t?[parseInt(t.groups.r,16),parseInt(t.groups.g,16),parseInt(t.groups.b,16)]:[0,0,0]})(e);return.299*t+.587*n+.114*r>186?"#000000":i}},20008:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({ticketId:e}){const{data:t}=await(0,r.o)(a.v9.tickets.editPersonValidators(e));return t||{}}},20045:function(e,t,n){"use strict";n.d(t,{D:function(){return o},Z:function(){return l}});var r=n(96285);const a=(e,t,n,a)=>{const o=new Intl.DateTimeFormat(a,{timeZone:e,timeZoneName:t}),i=r.c9.fromISO(n);return o.formatToParts(i.toJSDate()).find((e=>"timeZoneName"===e.type)).value},o=(e,t,n)=>`${e} (${((e,t,n)=>a(e,"long",t,n))(e,t,n)}, ${((e,t)=>a(e,"shortOffset",t,"en-US").replace("GMT","UTC"))(e,t)})`,i=(e,t)=>r.c9.fromISO(t).setZone(e).offset,l=(e,t)=>e.toSorted(((e,n)=>{const r=i(e,t),a=i(n,t);return r===a?e.localeCompare(n):r-a}))},20171:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(37865),o=n(97665),i=n(87462);const l=new a.E;t.default=function({canViewAdminDetails:e=!1}){return r.createElement(o.Ht,{client:l},r.createElement(i.default,{canViewAdminDetails:e}))}},20326:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(96540),a=n(36713),o=n(80955),i=n(77949),l=n(50605),s=n(33846),c=n(54905),u=n(93846),d=n(40117),m=n(52363),p=n(80879),f=n(21966),g=n(80907),E=n(80656),v=n(92314),y=n(34622);function A({isCloning:e=!1,storedEvents:t=[]}){return r.createElement(r.Fragment,null,r.createElement(p.default,null),r.createElement(o.default,null),r.createElement(a.A,null),r.createElement(E.default,null),r.createElement(f.default,null),r.createElement(g.default,null),r.createElement(a.A,null),r.createElement(v.default,null),r.createElement(i.InputMarkdown,{id:"information",required:!0,ignoreDisabled:!0}),r.createElement(l.default,null),r.createElement(s.default,null),r.createElement(a.A,null),r.createElement(i.InputChampionships,{id:"championships",noHint:"blank"}),r.createElement(a.A,null),r.createElement(c.default,null),r.createElement(a.A,null),r.createElement(d.default,null),r.createElement(u.default,null),r.createElement(a.A,null),r.createElement(m.default,{isCloning:e,storedEvents:t}),r.createElement(i.InputTextArea,{id:"remarks"}),e&&r.createElement(y.default,{section:"cloning"},r.createElement(i.InputBoolean,{id:"cloneTabs"})))}},20536:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(66048),o=n(83995),i=n(79519),l=n(7862),s=n(80405),c=n(43);function u(){const{data:e,loading:t,error:n,sync:u}=(0,i.A)(a.VB.userRoles.list({groupType:o.Hn.board,isActive:!0},"name"));return t?r.createElement(l.default,null):n?r.createElement(s.default,null):r.createElement(c.default,{boardRoles:e,sync:u})}},20789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96540),a=n(59739),o=n(83995);function i(){return r.createElement(r.Fragment,null,r.createElement(a.default,{cronjobName:o.Xp.DumpDeveloperDatabase}),r.createElement(a.default,{cronjobName:o.Xp.DumpPublicResultsDatabase}))}},21531:function(e,t,n){"use strict";n.d(t,{An:function(){return p},Ax:function(){return f},Eh:function(){return d},Id:function(){return I},Oh:function(){return P},Xh:function(){return S},a7:function(){return C},aL:function(){return b},eJ:function(){return u},fI:function(){return y},fW:function(){return A},ip:function(){return g},oR:function(){return E},qY:function(){return O},tv:function(){return h},uu:function(){return v},w1:function(){return _},yt:function(){return m}});var r=n(96540),a=n(96285),o=n(83995),i=n(1460),l=n(278),s=n(12845),c=n(51319);function u(){const{save:e,saving:t}=(0,s.A)(),n=e=>{alert(`Something went wrong while saving.\n${e.message}`)};return{saveWcif:(0,r.useCallback)(((t,r,a,o={},i=n)=>{e(`/api/v0/competitions/${t}/wcif`,r,a,o,i)}),[e]),saving:t}}function d(e){let t,n,r;const a=e.split("-"),o=a.shift();return a.forEach((a=>{const o=a[0],i=a.substring(1);if("r"===o)t=parseInt(i,10);else if("g"===o)n=i;else{if("a"!==o)throw new Error(`Unrecognized activity code part: ${a} of ${e}`);r=i}})),{eventId:o,roundNumber:t,group:n,attempt:r}}function m(e){const{eventId:t,roundNumber:n}=d(e);return`${o.AZ.byId[t].name}, Round ${n}`}function p(e,t,n=!1){return e===t?n?"c":"f":1===e?n?"d":"1":2===e?n?"e":"2":n?"g":"3"}const f=(e,t,n=null)=>{const r=i.Ay.t(`events.${e}`),a=i.Ay.t(`rounds.${t}.name`),o=i.Ay.t("round.name",{event_name:r,round_name:a});if(n){return`${o} (${i.Ay.t("attempts.attempt_name",{number:n})})`}return o},g=(e,t,n)=>{const{eventId:r,roundNumber:a,attempt:o}=d(e),i=p(a,n.rounds.length,Boolean(t.cutoff));return f(r,i,o)},E=e=>{if(e.startsWith("other-"))return i.Ay.t(`activity.${e.substring(6)}`);const{eventId:t,roundNumber:n,attempt:r}=d(e),a=`${i.Ay.t(`events.${t}`)}, ${i.Ay.t("round.round_number",{round_number:n})}`;if(r){return`${a}, ${i.Ay.t("attempts.attempt_name",{number:r})}`}return a},v=e=>{const{roundNumber:t,attempt:n}=d(e),r=`R${t}`;return n?`${r}A${n}`:r};function y(e,t){const n=e.timeLimit,{eventId:r}=d(e.id);if(null===n)return i.Ay.t(`time_limit.${r}`);const a=(0,c.xb)(n.centiseconds);if(0===n.cumulativeRoundIds.length)return a;if(1===n.cumulativeRoundIds.length)return i.Ay.t("time_limit.cumulative.one_round",{time:a});const o=t.flatMap((e=>e.rounds)),l=n.cumulativeRoundIds.map((e=>{const n=o.find((t=>t.id===e)),{eventId:r}=d(n.id),a=t.find((e=>e.id===r));return g(n.id,n,a)})).join(", ");return i.Ay.t("time_limit.cumulative.across_rounds",{time:a,rounds:l})}function A(e){let t=e.eventId;return e.roundNumber&&(t+=`-r${e.roundNumber}`),e.group&&(t+=`-g${e.group}`),t}function b(e,t){const n=parseInt(t,10);return e.venues.flatMap((e=>e.rooms)).find((e=>e.id===n))}function h(e,t){const n=parseInt(t,10);return e.venues.find((e=>e.rooms.some((e=>e.id===n))))}function _(e,t){return e.venues.flatMap((({rooms:e})=>e.flatMap((({activities:e})=>e)))).find((e=>e.id===t))}function w(e,t){return a.c9.fromISO(e).toMillis()===a.c9.fromISO(t).toMillis()}function C(e,t){return e.activityCode===t.activityCode&&w(e.startTime,t.startTime)&&w(e.endTime,t.endTime)}function S(e,t){return e.venues.flatMap((({rooms:e})=>e.flatMap((({activities:e})=>e)))).filter((e=>C(e,t)))}function I(e,t,{short:n}={}){if(!t)return"-";let r="-";if(t.whenDate){r=a.c9.fromISO(t.whenDate,{zone:"UTC"}).setZone("local").toString().substring(0,10)}const s=i.Ay.t("qualification.deadline.by_date",{date:r}),c=o.AZ.byId[e.id];switch(t.resultType){case"single":case"average":if("ranking"===t.type){const e=`qualification.${t.resultType}.ranking`;return`${i.Ay.t(e,{ranking:t.level})} ${s}`}if("anyResult"===t.type){const e=`qualification.${t.resultType}.any_result`;return`${i.Ay.t(e)} ${s}`}if(c.isTimedEvent){const r=`qualification.${t.resultType}.time`;return`${i.Ay.t(r,{time:(0,l.Nh)(t.level,e.id,n)})} ${s}`}if(c.isFewestMoves){const e=`qualification.${t.resultType}.moves`,n="average"===t.resultType?t.level/100:t.level;return`${i.Ay.t(e,{moves:n})} ${s}`}if(c.isMultipleBlindfolded){const e=`qualification.${t.resultType}.points`;return`${i.Ay.t(e,{points:(0,l.cK)(t.level)})} ${s}`}return"-";default:return"-"}}function P(e,{short:t}={}){if(!e.advancementCondition)return null;const n=e.advancementCondition,r=t?".short":"",a=i.Ay.t(`formats${r}.${e.format}`),{eventId:s}=d(e.id),u=o.AZ.byId[s];switch(n.type){case"ranking":return i.Ay.t(`advancement_condition${r}.ranking`,{ranking:n.level});case"percent":return i.Ay.t(`advancement_condition${r}.percent`,{percent:n.level});case"attemptResult":return u.isTimedEvent?i.Ay.t(`advancement_condition${r}.attempt_result.time`,{round_format:a,time:(0,c.xb)(n.level)}):u.isFewestMoves?i.Ay.t(`advancement_condition${r}.attempt_result.moves`,{round_format:a,moves:n.level}):u.isMultipleBlindfolded?i.Ay.t(`advancement_condition${r}.attempt_result.points`,{round_format:a,points:(0,l.cK)(n.level)}):null;default:return null}}function O(e,{short:t}={}){const{eventId:n}=d(e.id),r=o.AZ.byId[n];if(r.isTimedEvent){const n=(0,c.xb)(e.cutoff.attemptResult);return t?n:i.Ay.t("cutoff.time",{count:e.cutoff.numberOfAttempts,time:n})}if(r.isFewestMoves){const n=e.cutoff.attemptResult;return t?n:i.Ay.t("cutoff.moves",{count:e.cutoff.numberOfAttempts,moves:n})}if(r.isMultipleBlindfolded){const n=(0,l.cK)(e.cutoff.attemptResult);return t?n:i.Ay.t("cutoff.points",{count:e.cutoff.numberOfAttempts,points:n})}return null}},21660:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(3487),o=n(58814),i=n(35907),l=n(6957);function s({email:e}){return r.createElement(a.A,{as:"div",labelPosition:"right"},r.createElement(a.A,{animated:"vertical",onClick:()=>{navigator.clipboard.writeText(e)}},r.createElement(o.A,{hidden:!0},r.createElement(i.A,{name:"copy"})),r.createElement(o.A,{visible:!0},r.createElement(i.A,{name:"mail"}))),r.createElement(l.A,{as:"a",basic:!0,pointing:"left",href:`mailto:${e}`},e))}},21966:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(73574),o=n(66048),i=n(1460),l=n(52067),s=n(7862),c=n(91592),u=n(79519),d=n(43703);function m({missingDate:e,missingLocation:t}){return r.createElement(a.A,{negative:!0},e&&r.createElement("p",null,i.Ay.t("competitions.adjacent_competitions.no_date_yet")),t&&r.createElement("p",null,i.Ay.t("competitions.adjacent_competitions.no_location_yet")))}function p(){const{competitionId:e,venue:{coordinates:t},startDate:n,endDate:a}=(0,d.useFormObject)(),p=parseFloat(t.lat),f=parseFloat(t.long),g=!n||!a,E=!t||Number.isNaN(p)||Number.isNaN(f),v=(0,r.useMemo)((()=>{const t=new URLSearchParams;return g||E||(t.append("id",e),t.append("latitude_degrees",p.toString()),t.append("longitude_degrees",f.toString()),t.append("start_date",n),t.append("end_date",a)),t}),[e,p,f,n,a,g,E]),y=(0,r.useMemo)((()=>`${o.eB}?${v.toString()}`),[v]),{data:A,loading:b}=(0,u.A)(y),h=i.Ay.t("competitions.adjacent_competitions.label",{days:5,kms:10});return b?r.createElement(c.default,{label:h},r.createElement(s.default,null)):g||E?r.createElement(c.default,{label:h},r.createElement(m,{missingDate:g,missingLocation:E})):r.createElement(c.default,{label:h},r.createElement(l.default,{comps:A}))}},22035:function(e,t,n){"use strict";var r=n(96540),a=n(2543),o=n.n(a),i=n(54076);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.A=(e,t,n,a)=>{const c=(0,i.A)(e,t),u=(0,i.A)(e,"roundId");return(0,r.useCallback)(((e,r=void 0)=>{const i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),d=c(e,r);o().set(i,t,d);const m=a[i.eventId].rounds.find((e=>e.roundTypeId===i.roundTypeId&&e.formatId===i.formatId));u(null===m||void 0===m?void 0:m.roundId)}),[t,n,a,c,u])}},22239:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96540),a=n(3487),o=n(66048);function i(){return r.createElement(r.Fragment,null,r.createElement(a.A,{href:o.gz},"WCA all voting members"),r.createElement(a.A,{href:o.cx},"WCA leaders and seniors"))}},22758:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(79519),o=n(66048),i=n(83995),l=n(7862),s=n(80405),c=n(44153);function u(){const{data:e,loading:t,error:n}=(0,a.A)(o.VB.userGroups.list(i.Hn.delegate_regions,"name",{isActive:!0,isRootGroup:!0}));return t?r.createElement(l.default,null):n?r.createElement(s.default,null):r.createElement(c.RegionsDetailView,{regions:e})}},22969:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/LogoImages/WCA Lockup Mono White-228dbd5f6f7fe8e5c25a.svg"},23319:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(56559),a=n(66048);async function o(e){const t=(0,a.pT)(e),{data:n}=await(0,r.A)(t,{method:"PATCH",headers:{"Content-Type":"application/json"}});return n}},23593:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(96540),a=n(73574),o=n(3487),i=n(27089),l=n(74813),s=n(2543),c=n.n(s),u=n(21531),d=n(37700),m=n(45743),p=n(89407),f=n(58894),g=n(64478),E=n(5455),v=n(95522);function y({wcifEvents:e,countryZones:t,referenceTime:n,calendarLocale:s}){const{competitionId:m,wcifSchedule:f,initialWcifSchedule:v}=(0,p.Pj)(),y=(0,p.wA)(),[A,b]=(0,r.useState)(-1),h=(0,r.useMemo)((()=>!c().isEqual(f,v)),[f,v]),_=(0,r.useCallback)((e=>{if(h){const t="You have unsaved changes, are you sure you want to leave?";return e.returnValue=t,t}return null}),[h]);(0,r.useEffect)((()=>(window.addEventListener("beforeunload",_),()=>{window.removeEventListener("beforeunload",_)})),[_]);const{saveWcif:w,saving:C}=(0,u.eJ)(),S=(0,r.useCallback)((()=>{w(m,{schedule:f},(()=>y((0,d.changesSaved)())))}),[m,y,w,f]),I=()=>r.createElement(a.A,{color:"blue"},"You have unsaved changes. Don't forget to"," ",r.createElement(o.A,{onClick:S,disabled:C,loading:C,color:"blue"},"save your changes!")),P=(e,t)=>{const{index:n}=t;b(A===n?-1:n)};return r.createElement(r.Fragment,null,r.createElement(i.A,{text:!0},r.createElement("p",null,'Depending on the size and setup of the competition, it may take place in several rooms of several venues. Therefore a schedule is necessarily linked to a specific room. Each room may have its own schedule (with all or a subset of events). So you can start creating the competition\u2019s schedule below by adding at least one venue with one room. Then you will be able to select this room in the "Edit schedules" panel, and drag and drop event rounds (or attempts for some events) on it.'),r.createElement("p",null,'For the typical simple competition, creating one "Main venue" with one "Main room" is enough. If your competition has a single venue but multiple "stages" with different schedules, please input them as different rooms.')),r.createElement("div",null,h&&I(),r.createElement(l.A,{fluid:!0,styled:!0},r.createElement(l.A.Title,{index:0,active:0===A,onClick:P},"Edit venues information"),r.createElement(l.A.Content,{active:0===A},0===A&&r.createElement(g.default,{countryZones:t,referenceTime:n})),r.createElement(l.A.Title,{index:1,active:1===A,onClick:P},"Edit schedules"),r.createElement(l.A.Content,{active:1===A},1===A&&r.createElement(E.default,{wcifEvents:e,referenceTime:n,calendarLocale:s}))),h&&I()))}function A({competitionId:e,wcifEvents:t,wcifSchedule:n,countryZones:a,referenceTime:o,calendarLocale:i}){return r.createElement(p.Ay,{reducer:m.default,initialState:{competitionId:e,wcifSchedule:n,initialWcifSchedule:n}},r.createElement(f.A,null,r.createElement(v.A,null,r.createElement(y,{wcifEvents:t,countryZones:a,referenceTime:o,calendarLocale:i}))))}},23875:function(e,t,n){"use strict";n.r(t),n.d(t,{FormActionButton:function(){return f},default:function(){return E}});var r=n(96540),a=n(3487),o=n(73574),i=n(99338),l=n(5074),s=n(90447),c=n(95472),u=n(36713),d=n(48058),m=n(43703),p=n(58894);function f({mutation:e,enabled:t=!0,confirmationMessage:n=null,buttonText:o=null,buttonProps:i,onUnload:l,children:s}){const c=(0,p.S)(),u=function(e,t,n){const{onSuccess:a,onError:o}=(0,m.useFormContext)();return(0,r.useCallback)((()=>{window.removeEventListener("beforeunload",n),e.mutate(t,{onSuccess:e=>{e.redirect||a()},onError:o})}),[n,e,t,a,o])}(e,(0,m.useFormObject)(),l),d=(0,r.useCallback)((()=>{n?c({content:n}).then(u):u()}),[c,n,u]);return t?r.createElement(a.A,Object.assign({onClick:d,disabled:e.isPending,loading:e.isPending},i),o||s):null}function g({children:e,saveMutation:t,CustomHeader:n=null,footerActions:g=[],saveButtonText:E=null}){const{unsavedChanges:v,errors:y}=(0,m.useFormContext)(),A=(0,r.useCallback)((e=>{if(v){const t="You have unsaved changes, are you sure you want to leave?";return e.returnValue=t,t}return null}),[v]);(0,r.useEffect)((()=>(window.addEventListener("beforeunload",A),()=>window.removeEventListener("beforeunload",A))),[A]);const b=e=>r.createElement(f,{mutation:t,buttonText:e,buttonProps:{primary:!0},onUnload:A}),h=(e=!0)=>r.createElement(o.A,{info:!0},"You have unsaved changes.",e&&r.createElement(r.Fragment,null," ","Don't forget to"," ",b("save your changes!"))),_=(0,r.useRef)();return r.createElement(r.Fragment,null,r.createElement("div",{ref:_},r.createElement(d.default,{errors:y}),n&&r.createElement(i.A.Dimmable,{as:l.A,blurring:!0,dimmed:v},r.createElement(i.A,{active:v},"You have unsaved changes. Please save the competition before taking any other action."),r.createElement(n,null)),v&&r.createElement(s.A,{context:_,offset:20,styleElement:{zIndex:2e3}},h()),r.createElement(c.A,null,e)),r.createElement(u.A,null),v&&h(!1),r.createElement(p.A,null,r.createElement(a.A.Group,null,b(E||"Save"),!v&&g.map((e=>r.createElement(f,Object.assign({key:e.id,onUnload:A},e)))))))}function E({children:e,initialObject:t,saveMutation:n,CustomHeader:a=null,footerActions:o=[],saveButtonText:i=null,globalDisabled:l=!1,globalAllowIgnoreDisabled:s=!0}){return r.createElement(m.default,{initialObject:t,globalDisabled:l,globalAllowIgnoreDisabled:s},r.createElement(g,{saveMutation:n,CustomHeader:a,footerActions:o,saveButtonText:i},e))}},23922:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(85692),o=n(27089),i=n(1460),l=n(83995),s=n(5087),c=n(81922);function u({isLoading:e,hasMoreCompsToLoad:t,numCompetitions:n,bottomRef:a}){return e||t?r.createElement("div",{ref:a,name:"page-bottom"}):n>0&&r.createElement(o.A,{text:!0,textAlign:"center"},i.Ay.t("competitions.index.no_more_comps"))}t.default=function({competitions:e,filterState:t,shouldShowRegStatus:n,shouldShowAdminDetails:o,isLoading:d,regStatusLoading:m,fetchMoreCompetitions:p,hasMoreCompsToLoad:f}){const{ref:g,inView:E}=(0,a.Wx)();switch((0,r.useEffect)((()=>{f&&E&&!d&&p()}),[f,E,d,p]),t.timeOrder){case"present":{if(o)return r.createElement(r.Fragment,null,r.createElement(s.default,{competitions:e,title:i.Ay.t("competitions.index.titles.ongoing_and_upcoming"),shouldShowRegStatus:n,shouldShowAdminDetails:o,selectedDelegate:t.delegate,regStatusLoading:m,isLoading:d,hasMoreCompsToLoad:f}),r.createElement(u,{isLoading:d,hasMoreCompsToLoad:f,numCompetitions:null===e||void 0===e?void 0:e.length,bottomRef:g}));const a=null===e||void 0===e?void 0:e.filter((e=>(0,c.LT)(e))),l=null===e||void 0===e?void 0:e.filter((e=>!(0,c.LT)(e)&&!(0,c.ac)(e)));return r.createElement(r.Fragment,null,(null===a||void 0===a?void 0:a.length)>0&&r.createElement(s.default,{competitions:a,title:i.Ay.t("competitions.index.titles.in_progress"),shouldShowRegStatus:n,selectedDelegate:t.delegate,regStatusLoading:m,isLoading:d&&!(null!==l&&void 0!==l&&l.length),hasMoreCompsToLoad:f&&!(null!==l&&void 0!==l&&l.length)}),r.createElement(s.default,{competitions:l,title:i.Ay.t("competitions.index.titles.upcoming"),shouldShowRegStatus:n,selectedDelegate:t.delegate,regStatusLoading:m,isLoading:d,hasMoreCompsToLoad:f}),r.createElement(u,{isLoading:d,hasMoreCompsToLoad:f,numCompetitions:null===l||void 0===l?void 0:l.length,bottomRef:g}))}case"recent":return r.createElement("div",{id:"competitions-list"},r.createElement(s.default,{competitions:e,title:i.Ay.t("competitions.index.titles.recent",{count:l.Ll.competitionRecentDays}),shouldShowRegStatus:n,shouldShowAdminDetails:o,selectedDelegate:t.delegate,isLoading:d,regStatusLoading:m,hasMoreCompsToLoad:f}),r.createElement(u,{isLoading:d,hasMoreCompsToLoad:f,numCompetitions:null===e||void 0===e?void 0:e.length,bottomRef:g}));case"past":return r.createElement("div",{id:"competitions-list"},r.createElement(s.default,{competitions:e,title:"all_years"===t.selectedYear?i.Ay.t("competitions.index.titles.past_all"):i.Ay.t("competitions.index.titles.past",{year:t.selectedYear}),shouldShowRegStatus:n,shouldShowAdminDetails:o,selectedDelegate:t.delegate,isLoading:d,regStatusLoading:m,hasMoreCompsToLoad:f}),r.createElement(u,{isLoading:d,hasMoreCompsToLoad:f,numCompetitions:null===e||void 0===e?void 0:e.length,bottomRef:g}));case"by_announcement":return r.createElement("div",{id:"competitions-list"},r.createElement(s.default,{competitions:e,title:i.Ay.t("competitions.index.titles.by_announcement"),shouldShowRegStatus:n,shouldShowAdminDetails:o,selectedDelegate:t.delegate,isLoading:d,regStatusLoading:m,hasMoreCompsToLoad:f,isSortedByAnnouncement:!0}),r.createElement(u,{isLoading:d,hasMoreCompsToLoad:f,numCompetitions:null===e||void 0===e?void 0:e.length,bottomRef:g}));case"custom":return r.createElement("div",{id:"competitions-list"},r.createElement(s.default,{competitions:e,title:i.Ay.t("competitions.index.titles.custom"),shouldShowRegStatus:n,shouldShowAdminDetails:o,selectedDelegate:t.delegate,isLoading:d,regStatusLoading:m,hasMoreCompsToLoad:f}),r.createElement(u,{isLoading:d,hasMoreCompsToLoad:f,numCompetitions:null===e||void 0===e?void 0:e.length,bottomRef:g}));default:return{}}}},24178:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(96540),a=n(54070),o=n(63129),i=n(73591),l=n(10526),s=n(16523),c=n(91283),u=n(8069);const d=[{id:s.default.user,name:"User"},{id:s.default.person,name:"Person"}];function m(){const[e,t]=(0,c.A)(0),[n,m]=(0,c.A)(),p=d[e],f=(e,{value:n})=>{t(n),m(null)};return r.createElement(r.Fragment,null,r.createElement(a.A,{grouped:!0},r.createElement("div",null,"Select where to search for"),d.map(((t,n)=>r.createElement(o.A,{key:t.id},r.createElement(i.A,{label:t.name,value:n,checked:e===n,onChange:f}))))),r.createElement(l.default,{label:`Search ${p.name}`,model:p.id,multiple:!1,value:n,onChange:m}),r.createElement(u.default,{userId:p.id===s.default.user?n:null,wcaId:p.id===s.default.person?n:null}))}},24391:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96285),a=n(96540),o=n(60654);function i({startDate:e,endDate:t,timeZone:n,name:i,address:l,allDay:s}){const c=s?{days:1}:{},u=s?"yyyyMMdd":"yyyyMMdd'T'HHmmssZ",d=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${i}&dates=${r.c9.fromISO(e,{zone:n}).toFormat(u)}/${r.c9.fromISO(t,{zone:n}).plus(c).toFormat(u)}${l?`&location=${l}`:""}`;return a.createElement("a",{href:d,target:"_blank",rel:"noreferrer",className:"hide-new-window-icon"},a.createElement(o.A.Icon,{name:"calendar plus",link:!0}))}},24943:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(143),o=n(54485),i=n(86029);function l({dataItem:e,dataItems:t,index:n}){return r.createElement(i.default,{result:e,results:t,index:n,adminMode:!1})}t.default=function({dataItem:e}){return r.createElement(a.default,{dataItem:e,HeaderComponent:o.default,RowComponent:l,moreClassNames:"event-results"})}},25119:function(e,t,n){"use strict";n.r(t),n.d(t,{InlineEditForm:function(){return s}});var r=n(96540),a=n(76283),o=n(66048),i=n(42171),l=n(53192);function s({dataItem:e,sync:t}){return r.createElement(l.default,{scramble:e,sync:t})}t.default=function({id:e}){return r.createElement(a.default,{id:e,dataUrlFn:o.t3,dataType:"scramble",DisplayTable:i.default,EditForm:s})}},25375:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(60727),o=n(12845),i=n(66048),l=n(83995),s=n(7862),c=n(95630),u=n(47511);function d({ticketDetails:e,sync:t,currentStakeholder:n}){var d;const{ticket:m}=e,{save:p,saving:f}=(0,o.A)();return e.ticket.metadata.status===l.XE.edit_person.closed?null:f?r.createElement(s.default,null):r.createElement(r.Fragment,null,r.createElement(c.default,{ticketDetails:e}),r.createElement(u.default,{requestedChanges:null===(d=m.metadata)||void 0===d?void 0:d.tickets_edit_person_fields}),r.createElement(a.default,{wcaId:m.metadata.wca_id,onSuccess:()=>{p(i.v9.tickets.updateStatus(m.id),{ticket_status:l.XE.edit_person.closed,acting_stakeholder_id:n.id},t,{method:"POST"})}}))}},25681:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(53959),o=n(35907),i=n(87977),l=n(18279);function s({groups:e,sync:t}){const[n,s]=(0,r.useState)();return r.createElement(r.Fragment,null,r.createElement(a.A,{celled:!0},r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,null),r.createElement(a.A.HeaderCell,null,"Group"),r.createElement(a.A.HeaderCell,null,"Leader"))),r.createElement(a.A.Body,null,e.map((e=>{var t;return r.createElement(a.A.Row,{key:e.id},r.createElement(a.A.Cell,null,r.createElement(o.A,{link:!0,name:"edit",onClick:()=>s(e)})),r.createElement(a.A.Cell,null,e.name),r.createElement(a.A.Cell,null,null===(t=e.lead_user)||void 0===t?void 0:t.name))})))),r.createElement(i.A,{open:!!n,onClose:()=>s(null)},r.createElement(i.A.Header,null,`Edit ${null===n||void 0===n?void 0:n.name} Leader`),r.createElement(i.A.Content,null,r.createElement(l.default,{syncData:()=>t(n),group:n,oldLeader:null===n||void 0===n?void 0:n.lead_user,closeForm:()=>s(null)}))))}},25991:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(1489),i=n(24106),l=n(35907),s=n(2543),c=n.n(s),u=n(83995),d=n(54076),m=n(22035),p=n(66048),f=n(45567);const g=(e,t)=>({key:e,value:e,text:t.byId[e].name}),E=(e,t,n,r)=>c().uniq(e[t].rounds.map((e=>e[n]))).map((e=>g(e,r)));t.default=function({roundData:e,setRoundData:t}){const{competitionId:n,roundTypeId:s,eventId:c,formatId:v}=e,y=(0,d.A)(t,"competitionId"),[A,b]=(0,r.useState)((({eventId:e,formatId:t,roundTypeId:n,roundId:r})=>({[e]:{eventId:e,rounds:[{formatId:t,roundTypeId:n,roundId:r}]}}))(e)),h=(0,m.A)(t,"eventId",e,A),_=(0,m.A)(t,"formatId",e,A),w=(0,m.A)(t,"roundTypeId",e,A),[C,S]=(0,r.useState)(null),I=Object.keys(A).map((e=>g(e,u.AZ))),P=E(A,c,"roundTypeId",u.uY),O=E(A,c,"formatId",u.Fx);return r.createElement(a.A,null,r.createElement(o.A,{stackable:!0,padded:!0,columns:4},r.createElement(o.A.Column,null,r.createElement(a.A.Input,{label:"Competition ID",value:n,onChange:y,error:C,icon:r.createElement(i.A,{trigger:r.createElement(l.A,{circular:!0,link:!0,onClick:()=>{return e=n,S(null),void(0,f.o)((0,p.yb)(e)).then((({data:e})=>{b(e)})).catch((e=>S(e.message)));var e},name:"sync"}),content:"Get the events and round data for that competition",position:"top right"})})),r.createElement(o.A.Column,null,r.createElement(a.A.Select,{label:"Event",value:c,onChange:h,options:I})),r.createElement(o.A.Column,null,r.createElement(a.A.Select,{label:"Round type",value:s,onChange:w,options:P})),r.createElement(o.A.Column,null,r.createElement(a.A.Select,{label:"Format",value:v,onChange:_,options:O}))))}},26027:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var r=n(96540);function a(e,t){let n;try{n=JSON.parse(localStorage.getItem(t))}catch(i){n=null}const[a,o]=(0,r.useState)((()=>null===n?(localStorage.setItem(t,JSON.stringify(e)),e):n));return[a,function(e){o(e),localStorage.setItem(t,JSON.stringify(e))}]}},26474:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(2543),a=n.n(r),o=n(53959),i=n(96540),l=n(94028);const s=(e,t)=>{const n=a().sum(e.map((e=>e.payment.paid_amount_iso)));return(0,l.i)(n,t.currency_code)};function c({columnsExpanded:e,registrations:t,competitionInfo:n,withPosition:r=!1}){const{events:l,comments:c}=e,u=t.filter((e=>!e.user.wca_id)).length,d=new Set(t.map((e=>{var t;return null===(t=e.user.country)||void 0===t?void 0:t.iso2})).filter(Boolean)).size,m=a().sum(t.map((e=>e.guests))),p=Object.fromEntries(n.event_ids.map((e=>{const n=t.filter((t=>t.competing.event_ids.includes(e))).length;return[e,n]})));return i.createElement(o.A.Row,null,i.createElement(o.A.Cell,{colSpan:r?5:4},`${u} First-Timers + ${t.length-u} Returners = ${t.length} People`),i.createElement(o.A.Cell,null,`${d} Countries`),i.createElement(o.A.Cell,{key:"registered on"}),n["using_payment_integrations?"]&&i.createElement(o.A.Cell,null,s(t,n)),l?n.event_ids.map((e=>i.createElement(o.A.Cell,{key:`footer-count-${e}`},p[e]))):i.createElement(o.A.Cell,null),i.createElement(o.A.Cell,null,m),c&&i.createElement(i.Fragment,null,i.createElement(o.A.Cell,{key:"comment"}),i.createElement(o.A.Cell,{key:"note"})),i.createElement(o.A.Cell,{key:"email"}))}},27066:function(e,t,n){"use strict";n.r(t),n.d(t,{calculateQueryKey:function(){return i},createSearchParams:function(){return l}});var r=n(96285),a=n(83995);const o=e=>"_"===e[0];function i(e,t=!1){let n="";"past"===(null===e||void 0===e?void 0:e.timeOrder)?n=`${e.selectedYear}`:"custom"===(null===e||void 0===e?void 0:e.timeOrder)&&(n=`start${e.customStartDate}-end${e.customEndDate}`);const r=t?null===e||void 0===e?void 0:e.adminStatus:null;return{timeOrder:null===e||void 0===e?void 0:e.timeOrder,region:null===e||void 0===e?void 0:e.region,selectedEvents:null===e||void 0===e?void 0:e.selectedEvents,delegate:null===e||void 0===e?void 0:e.delegate,search:null===e||void 0===e?void 0:e.search,time:n,shouldIncludeCancelled:null===e||void 0===e?void 0:e.shouldIncludeCancelled,adminStatus:r}}function l(e,t,n=!1){const{region:i,selectedEvents:l,delegate:s,search:c,timeOrder:u,selectedYear:d,customStartDate:m,customEndDate:p,adminStatus:f,shouldIncludeCancelled:g}=e,E=r.c9.now(),v=new URLSearchParams({});if(i&&"all"!==i){const e=o(i)?"continent":"country_iso2";v.append(e,i)}if(l&&l.length>0&&l.forEach((e=>v.append("event_ids[]",e))),s&&v.append("delegate",s),c&&v.append("q",c),n&&f&&"all"!==f&&v.append("admin_status",f),v.append("include_cancelled",g),"present"===u)v.append("sort","start_date,end_date,name"),v.append("ongoing_and_future",E.toISODate()),v.append("page",t);else if("recent"===u){const e=E.minus({days:a.Ll.competitionRecentDays});v.append("sort","-end_date,-start_date,name"),v.append("start",e.toISODate()),v.append("end",E.toISODate()),v.append("page",t)}else if("past"===u)"all_years"===d?(v.append("sort","-end_date,-start_date,name"),v.append("end",E.toISODate()),v.append("page",t)):(v.append("sort","-end_date,-start_date,name"),v.append("start",`${d}-1-1`),v.append("end",E.year===d?E.toISODate():`${d}-12-31`),v.append("page",t));else if("by_announcement"===u)v.append("sort","-announced_at,name"),v.append("page",t);else if("custom"===u){const e=r.c9.fromISO(m,{zone:"UTC"}),n=r.c9.fromISO(p,{zone:"UTC"});v.append("sort","start_date,end_date,name"),v.append("start",e.isValid?e.toISODate():""),v.append("end",n.isValid?n.toISODate():""),v.append("page",t)}return v}},27211:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/LogoImages/WCA Logo Only Negative Primary-c1bcfa96866be4e8ecc6.svg"},27217:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(96540),a=n(27089),o=n(31746),i=n(1489),l=n(2543),s=n.n(l),c=n(79519),u=n(66048),d=n(83995),m=n(7862),p=n(80405),f=n(1460),g=n(60301);function E(){const{data:e,loading:t,error:n}=(0,c.A)(u.VB.userRoles.list({groupType:d.Hn.translators})),l=(0,r.useMemo)((()=>s().groupBy(e||[],(e=>e.group.id))),[e]);return t?r.createElement(m.default,null):n?r.createElement(p.default,null):r.createElement(a.A,{fluid:!0},r.createElement(o.A,{as:"h2"},f.Ay.t("page.translators.title")),Object.entries(l).map((([e,t])=>r.createElement(r.Fragment,{key:e},r.createElement(o.A,{as:"h3"},t[0].group.name),r.createElement(i.A,{padded:!0},t.map((e=>r.createElement(g.default,{key:e.id,user:e.user}))))))))}},27227:function(e,t,n){"use strict";function r(e,t,n){const r=t[e];if(!r)return!0;const a=n[r.resultType].find((t=>t.eventId===e));if(!a)return!1;switch(r.type){case"anyResult":case"ranking":return!0;case"attemptResult":return a.best<r.level;default:return!1}}function a(e,t,n){return _.isEmpty(t)?[]:e.filter((e=>!r(e,t,n)))}n.d(t,{G:function(){return a},m:function(){return r}})},27705:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(5074),o=n(3487),i=n(35907),l=n(50363),s=n(87977),c=n(95472),u=n(37700),d=n(89407),m=n(58894),p=n(21531),f=n(91283);function g({isOpen:e,selectedRoomId:t,roomOptions:n,close:a}){const{wcifSchedule:i}=(0,d.Pj)(),l=(0,d.wA)(),g=(0,m.S)(),[E,v]=(0,f.A)(),y=(0,p.tv)(i,t),A=(0,p.tv)(i,E),b=y.id===(null===A||void 0===A?void 0:A.id),h=()=>{v(void 0),a()},_=()=>{l((0,u.copyRoomActivities)(E,t)),h()};return r.createElement(s.A,{open:e,dimmer:"blurring"},r.createElement(s.A.Header,null,"Copy Existing Schedule"),r.createElement(s.A.Content,{as:c.A},r.createElement(c.A.Select,{label:"Room to copy from",name:"roomId",options:n,value:E,onChange:v})),r.createElement(s.A.Actions,null,r.createElement(o.A,{icon:"copy",content:"Copy",positive:!0,disabled:void 0===E,onClick:()=>{b?_():g({content:"The room you selected is in a different venue. You should probably only be copying from a different venue for a multi-location fewest moves competition. If so, make sure you correctly set all venue time zones BEFORE proceeding with this copy. Are you sure you want to proceed?"}).then(_)}}),r.createElement(o.A,{icon:"cancel",content:"Cancel",negative:!0,onClick:h})))}t.default=function({selectedRoomId:e,shouldUpdateMatches:t,setShouldUpdateMatches:n}){const{wcifSchedule:s}=(0,d.Pj)(),[c,u]=(0,r.useState)(!1),m=s.venues.flatMap((t=>t.rooms.filter((t=>t.activities.length>0&&t.id!==e)).map((e=>({key:e.id,text:`${t.name} - ${e.name}`,value:e.id})))));return m.length>0&&r.createElement(a.A,null,r.createElement(g,{isOpen:c,selectedRoomId:e,roomOptions:m,close:()=>u(!1)}),r.createElement(o.A,{compact:!0,icon:!0,labelPosition:"left",onClick:()=>u(!0)},r.createElement(i.A,{name:"calendar plus"}),"Copy another room"),r.createElement(l.A,{label:"Apply changes to matching activities (same type, start time, and end time) in other rooms",checked:t,onChange:n}))}},28672:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(2543),o=n.n(a),i=n(49608);t.default=function({round:e,adminMode:t}){const n=Object.values(o().groupBy(e.scrambles,"group_id"));return r.createElement(r.Fragment,null,n.flatMap((e=>e.map(((e,n,a)=>r.createElement(i.default,{key:e.id,scramble:e,scrambles:a,adminMode:t}))))))}},28782:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(97286),a=n(97665),o=n(57097),i=n(96540),l=n(31746),s=n(3487),c=n(73574),u=n(53959),d=n(2543),m=n.n(d),p=n(94889),f=n(88887),g=n(7862),E=n(62728),v=n(1460),y=n(52322),A=n(89407),b=n(94028),h=n(40823),_=n(91283),w=n(58894);function C({registrationId:e,competitionId:t}){const{data:n,isLoading:a,refetch:o}=(0,r.I)({queryKey:["registration-payments",e],queryFn:()=>(0,p.default)(e),select:e=>e.charges.filter((e=>0!==e.iso_amount_refundable))}),{data:c,isLoading:u}=(0,r.I)({queryKey:["payments-user",n],queryFn:()=>(0,h.default)(m().uniq(n.map((e=>e.user_id)))),enabled:Boolean(n)});return a||u?i.createElement(g.default,null):i.createElement(i.Fragment,null,i.createElement(l.A,null,"Payments",i.createElement(s.A,{floated:"right",onClick:o},"Refresh")),i.createElement(S,{registrationId:e,payments:n,competitionId:t,userInfo:c}))}function S({registrationId:e,payments:t,competitionId:n,userInfo:r}){const l=(0,A.wA)(),s=(0,a.jE)(),{mutate:d,isPending:m}=(0,o.n)({mutationFn:f.default,onSuccess:t=>{const{message:n,refunded_charge:r}=t;l((0,y.showMessage)(`payments.messages.${n}`,"positive")),s.setQueryData(["payments",e],(e=>({charges:[...e.charges.filter((e=>e.payment_id!==r.payment_id)),r]}))),s.invalidateQueries({queryKey:["registration-history",e]})},onError:e=>{const{error:t}=e.json;l((0,y.showMessage)(`payments.errors.refund.${t}`,"negative"))}});return 0===t.length?i.createElement(c.A,{warning:!0},v.Ay.t("payments.messages.charges_refunded")):i.createElement(u.A,null,i.createElement(u.A.Header,null,i.createElement(u.A.Row,null,i.createElement(u.A.HeaderCell,null,v.Ay.t("payments.labels.net_payment")),i.createElement(u.A.HeaderCell,null,v.Ay.t("payments.labels.original_payment")),i.createElement(u.A.HeaderCell,null,v.Ay.t("registrations.refund_form.labels.refund_amount")),i.createElement(u.A.HeaderCell,null))),i.createElement(u.A.Body,null,t.map((e=>i.createElement(I,{payment:e,refundMutation:d,isMutating:m,competitionId:n,key:e.payment_id,userInfo:r})))))}function I({payment:e,refundMutation:t,isMutating:n,competitionId:r,userInfo:a}){const[o,l]=(0,_.A)(e.iso_amount_refundable),c=(0,w.S)();return i.createElement(i.Fragment,null,i.createElement(u.A.Row,null,i.createElement(u.A.Cell,null,(0,b.i)(e.iso_amount_refundable,e.currency_code)),i.createElement(u.A.Cell,null,(0,b.i)(e.iso_amount_payment,e.currency_code)),i.createElement(u.A.Cell,null,i.createElement(E.default,{currency:e.currency_code.toUpperCase(),value:o,onChange:l,max:e.iso_amount_refundable})),i.createElement(u.A.Cell,null,i.createElement(s.A,{onClick:()=>c({content:v.Ay.t("registrations.refund_confirmation")}).then((()=>{t({competitionId:r,paymentId:e.payment_id,paymentProvider:e.payment_provider,amount:o},{onSuccess:e=>{const{refunded_charge:t}=e;l((e=>Math.min(e,t.iso_amount_refundable)))}})})),disabled:n},v.Ay.t("registrations.refund")))),e.refunding_payments.map((e=>{var t;return i.createElement(u.A.Row,{key:e.payment_id},i.createElement(u.A.Cell,null),i.createElement(u.A.Cell,null),i.createElement(u.A.Cell,null,(0,b.i)(e.iso_amount_payment,e.currency_code)),i.createElement(u.A.Cell,null,"Refunded by"," ",null===(t=a.find((t=>t.id===Number(e.user_id))))||void 0===t?void 0:t.name))})))}},28986:function(){},29654:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return e.map((e=>{const n=t.find((t=>t.id===e.user_id));return n?a(a({},e),{},{user:n}):e}))}n.r(t),n.d(t,{addUserData:function(){return i}})},30410:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(13387),o=n(5074),i=n(31746),l=n(3487),s=n(1489),c=n(50363),u=n(8829),d=n(73574),m=n(19940),p=n(18858),f=n(1460);function g({venues:e,activeVenueOrNull:t,activeVenueIndex:n,setActiveVenueIndex:s,timeZoneCount:c,rooms:u,activeRoomIds:d,updateRooms:m,toggleRoom:p,setActiveTimeZone:g}){const y=e.length,A=t=>{const n=(t>-1?[e[t]]:e).flatMap((e=>e.rooms)).map((e=>e.id));m(n),s(t)},[b,h]=(0,r.useState)(!1);return r.createElement(r.Fragment,null,y>1&&r.createElement(a.A,{borderless:!0,fluid:!0,stackable:!0,style:{overflowX:"auto",overflowY:"hidden"}},r.createElement(a.A.Item,{name:f.Ay.t("competitions.schedule.all_venues"),active:-1===n,onClick:()=>A(-1)}),e.map(((e,t)=>r.createElement(a.A.Item,{key:e.id,name:e.name,active:t===n,onClick:()=>A(t)})))),r.createElement(v,{activeVenueOrNull:t,venueCount:y,timeZoneCount:c}),u.length>1&&r.createElement(o.A,null,r.createElement(i.A,{size:"small"},f.Ay.t("competitions.schedule.rooms_panel.title")," ",r.createElement(l.A,{primary:!0,size:"mini",content:f.Ay.t("competitions.schedule.rooms_panel.all"),onClick:()=>m(u.map((e=>e.id)))}),r.createElement(l.A,{size:"mini",content:f.Ay.t("competitions.schedule.rooms_panel.none"),onClick:()=>m([])}),r.createElement(l.A,{toggle:!0,size:"mini",content:f.Ay.t("competitions.schedule.rooms_panel.show_buttons"),active:b,onClick:()=>h((e=>!e))})),r.createElement(E,{rooms:u,activeRoomIds:d,toggleRoom:p,setTimeZoneForRoom:t=>{const n=e.find((e=>e.rooms.some((e=>e.id===t))));n&&g(n.timezone)},showTimeZoneButton:b})))}function E({rooms:e,activeRoomIds:t,toggleRoom:n,setTimeZoneForRoom:a,showTimeZoneButton:i}){return r.createElement(s.A,{stackable:!0,columns:Math.min(4,e.length)},e.map((({id:e,name:d,color:p})=>r.createElement(s.A.Column,{key:e},r.createElement(l.A,{as:o.A,padded:!0,fluid:!0,basic:!0,attached:i&&"top",inverted:(0,m.vG)(p)===m.gT,style:{backgroundColor:p,opacity:t.includes(e)?1:.5},onClick:()=>n(e)},r.createElement(c.A,{as:o.A,basic:!0,floated:"left",checked:t.includes(e),readOnly:!0}),d),r.createElement(u.A,{visible:i,animation:"scale",duration:150},r.createElement(l.A,{fluid:!0,basic:!0,attached:"bottom",size:"small",compact:!0,icon:"globe",content:f.Ay.t("competitions.schedule.rooms_panel.use_time_zone"),onClick:()=>a(e),style:{textAlign:"right"}}))))))}function v({activeVenueOrNull:e,venueCount:t}){const{name:n,timezone:a}=e||{},o=`https://google.com/maps/place/${(0,p.xW)(null===e||void 0===e?void 0:e.latitudeMicrodegrees)},${(0,p.xW)(null===e||void 0===e?void 0:e.longitudeMicrodegrees)}`;return r.createElement(d.A,null,r.createElement(d.A.Content,null,e?r.createElement(r.Fragment,null,r.createElement("p",{dangerouslySetInnerHTML:{__html:f.Ay.t("competitions.schedule.venue_selection_html",{venue_name:`<a target="_blank" href=${o} rel="noreferrer">\n                  ${n}\n                </a>`,count:t})}}),f.Ay.t("competitions.schedule.timezone_message",{timezone:a})):r.createElement("p",null,f.Ay.t("competitions.schedule.venue_selection_all",{venueCount:t}))))}},30736:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(97286),a=n(96540),o=n(5074),i=n(53959),l=n(2543),s=n.n(l),c=n(5889),u=n(246),d=n(80824),m=n(66048),p=n(1460),f=n(83995),g=n(65710),E=n(43036),v=n(80405),y=n(7862),A=n(34975);const b=(0,u.default)(["name","country","total"]);function h({competitionInfo:e,eventIds:t,onEventClick:n,userId:l,userRowRef:u,onScrollToMeClick:d}){const{isLoading:m,data:p,isError:A}=(0,r.I)({queryKey:["registrations",e.id],queryFn:()=>(0,c.getConfirmedRegistrations)(e),retry:!1}),[h,S]=(0,a.useReducer)(b,{sortColumn:"name",sortDirection:"ascending"}),{sortColumn:I,sortDirection:P}=h,O=(0,a.useMemo)((()=>{if(p){let e=[];switch(I){case"country":e=[e=>{var t,n;return null===(t=f.Xr.byIso2[null===(n=e.user.country)||void 0===n?void 0:n.iso2])||void 0===t?void 0:t.name}];break;case"total":e=[e=>e.competing.event_ids.length]}e.push("user.name");const t="descending"===P?"desc":"asc";return s().orderBy(p,e,[t])}return[]}),[p,I,P]);if(A)return a.createElement(v.default,{componentName:"Competitors"});if(m)return a.createElement(o.A,null,a.createElement(y.default,null));const{userIsInTable:R}=(0,g.getUserPositionInfo)(p,l),{registrationCount:k,newcomerCount:j,returnerCount:T}=(0,g.getPeopleCounts)(p);return a.createElement(a.Fragment,null,a.createElement(E.default,{scrollToMeIsShown:R,userRankIsShown:!1,registrationCount:k,newcomerCount:j,returnerCount:T,onScrollToMeClick:d}),a.createElement("div",{style:{overflowX:"auto"}},a.createElement(i.A,{striped:!0,sortable:!0,unstackable:!0,compact:!0,singleLine:!0,textAlign:"left"},a.createElement(_,{eventIds:t,sortedColumn:I,sortedDirection:P,onSortableColumnClick:e=>S({type:"CHANGE_SORT",sortColumn:e}),onEventColumnClick:n}),a.createElement(w,{registrations:O,eventIds:t,userId:l,userRowRef:u}),a.createElement(C,{registrations:p,eventIds:t}))))}function _({eventIds:e,sortedColumn:t,sortedDirection:n,onSortableColumnClick:r,onEventColumnClick:o}){return a.createElement(i.A.Header,null,a.createElement(i.A.Row,null,a.createElement(i.A.HeaderCell,{sorted:"name"===t?n:void 0,onClick:()=>r("name")},p.Ay.t("activerecord.attributes.registration.name")),a.createElement(i.A.HeaderCell,{sorted:"country"===t?n:void 0,onClick:()=>r("country")},p.Ay.t("activerecord.attributes.user.country_iso2")),e.map((e=>a.createElement(i.A.HeaderCell,{textAlign:"center",key:`registration-table-header-${e}`,onClick:()=>o(e)},a.createElement(d.default,{id:e,size:"1em",className:"selected"})))),a.createElement(i.A.HeaderCell,{textAlign:"center",sorted:"total"===t?n:void 0,onClick:()=>r("total")},p.Ay.t("registrations.list.total"))))}function w({registrations:e,eventIds:t,userId:n,userRowRef:r}){return a.createElement(i.A.Body,null,e.length>0?e.map((e=>{var o;const l=e.user_id===n;return a.createElement(i.A.Row,{key:`registration-table-row-${e.user.id}`,active:l},a.createElement(i.A.Cell,null,a.createElement("div",{ref:l?r:void 0},e.user.wca_id?a.createElement("a",{href:(0,m.hs)(e.user.wca_id)},e.user.name):e.user.name)),a.createElement(i.A.Cell,null,(null===(o=e.user.country)||void 0===o?void 0:o.iso2)&&a.createElement(a.Fragment,null,a.createElement(A.default,{iso2:e.user.country.iso2,withoutTooltip:!0})," ",f.Xr.byIso2[e.user.country.iso2].name)),t.map((t=>a.createElement(i.A.Cell,{textAlign:"center",key:`registration-table-row-${e.user.id}-${t}`},e.competing.event_ids.includes(t)&&a.createElement(d.default,{id:t,size:"1em",hoverable:!1})))),a.createElement(i.A.Cell,{textAlign:"center"},e.competing.event_ids.length))})):a.createElement(i.A.Row,null,a.createElement(i.A.Cell,{textAlign:"center",colSpan:t.length+3})))}function C({registrations:e,eventIds:t}){const{registrationCount:n,countryCount:r,eventCounts:o,eventCountsSum:l}=(0,g.getTotals)(e,t);return a.createElement(i.A.Footer,null,a.createElement(i.A.Row,null,a.createElement(i.A.Cell,null,`${n} ${p.Ay.t("registrations.registration_info_people.person",{count:n})}`),a.createElement(i.A.Cell,null,`${p.Ay.t("registrations.list.country_plural",{count:r})}`),t.map((e=>a.createElement(i.A.Cell,{textAlign:"center",key:`footer-count-${e}`},o[e]))),a.createElement(i.A.Cell,{textAlign:"center"},l)))}},31216:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({cronjobName:e}){const{data:t}=await(0,r.o)(a.v9.cronjob.run(e),{method:"POST",headers:{"Content-Type":"application/json"}});return t}},31797:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(24106),o=n(12761);t.default=function({avatar:e={},avatarClass:t="",title:n="",size:i="medium",disableHover:l=!1}){const{url:s,thumb_url:c}=e;if(!["tiny","small","medium","large"].includes(i))throw new Error(`Invalid size: ${i} must be one of 'small', 'medium', or 'large'`);const u={x:e.thumbnail_crop_x,y:e.thumbnail_crop_y,width:e.thumbnail_crop_w,height:e.thumbnail_crop_h,unit:"px"},d=c&&{backgroundImage:`url(${c})`,backgroundSize:"cover"},m=r.createElement("div",{className:`user-avatar-image-${i} ${t}`,title:n,style:d},!c&&r.createElement(o.default,{crop:u,src:s}));return l||!s?m:r.createElement(a.A,{trigger:m,flowing:!0,hoverable:!0},r.createElement("img",{alt:"avatar",src:s,width:"200"}),!!n&&r.createElement("h3",null,n))}},32192:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(15402),o=n(3487),i=n(41935),l=n(16523),s=n(7862),c=n(46882),u=n(60727);function d(){const[e,t]=(0,c.A)(),[n,d]=(0,r.useState)(!1),{wcaId:m}=e;return n?r.createElement(s.default,null):r.createElement(r.Fragment,null,r.createElement("div",null,'To know the difference between fix and update, refer to the Delegate Handbook\'s "Requesting Changes to Personal Data" section.'),m?r.createElement(r.Fragment,null,r.createElement(a.A,null,r.createElement(a.A.Content,null,r.createElement(a.A.Header,null,`WCA ID: ${m}`),r.createElement(a.A.Description,null,r.createElement(o.A,{onClick:()=>{d(!0),t("wcaId","")}},"Clear")))),r.createElement(u.default,{wcaId:m,showDestroyButton:!0})):r.createElement(i.default,{onChange:(e,{value:n})=>{d(!0),t("wcaId",n.id)},multiple:!1,model:l.default.person}))}},32194:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(5074),o=n(95472),i=n(31746),l=n(69960),s=n(3487),c=n(2543),u=n.n(c),d=n(82664),m=n(83995),p=n(1460),f=n(600);function g({filterState:e,filterActions:t,showCategories:n,clearEventIsAllowed:c=!1}){const{event:g,region:E,rankingType:v,gender:y,show:A}=e,{setEvent:b,setRegion:h,setRankingType:_,setGender:w,setShow:C}=t,S=(0,r.useMemo)((()=>{var e;return"world"===E?"all":(null===(e=m.Xr.real.find((e=>e.id===E)))||void 0===e?void 0:e.iso2)||E}),[E]);return r.createElement(a.A,{raised:!0},r.createElement(o.A,null,r.createElement(o.A.Field,null,r.createElement(d.default,{title:p.Ay.t("results.selector_elements.events_selector.event"),selectedEvents:[g],onEventClick:b,hideAllButton:!0,hideClearButton:!c||!g,onClearClick:()=>b(void 0),showBreakBeforeButtons:!1})),r.createElement(o.A.Field,null,r.createElement(f.default,{region:S,onRegionChange:(e,{value:t})=>h(function(e){var t,n;return e===f.ALL_REGIONS_VALUE?"world":null!==(t=null===(n=m.Xr.byIso2[e])||void 0===n?void 0:n.id)&&void 0!==t?t:e}(t))})),r.createElement(o.A.Group,{widths:"equal"},v&&r.createElement(o.A.Field,null,r.createElement(i.A,{as:"h6"},p.Ay.t("results.selector_elements.type_selector.type")),r.createElement(l.A,{primary:!0,compact:!0,widths:2},r.createElement(s.A,{active:"single"===v,onClick:()=>_("single")},p.Ay.t("results.selector_elements.type_selector.single")),"333mbf"!==g&&r.createElement(s.A,{active:"average"===v,onClick:()=>_("average")},p.Ay.t("results.selector_elements.type_selector.average")))),r.createElement(o.A.Field,null,r.createElement(i.A,{as:"h6"},p.Ay.t("results.selector_elements.gender_selector.gender")),r.createElement(l.A,{compact:!0,color:"teal",widths:3},r.createElement(s.A,{active:"All"===y,onClick:()=>w("All")},p.Ay.t("results.selector_elements.gender_selector.gender_all")),r.createElement(s.A,{active:"Male"===y,onClick:()=>w("Male")},p.Ay.t("results.selector_elements.gender_selector.male")),r.createElement(s.A,{active:"Female"===y,onClick:()=>w("Female")},p.Ay.t("results.selector_elements.gender_selector.female")))),r.createElement(o.A.Field,null,r.createElement(i.A,{as:"h6"},p.Ay.t("results.selector_elements.show_selector.show")),r.createElement(l.A,{compact:!0,color:"teal",widths:n.length},n.map((e=>r.createElement(s.A,{key:e,active:A===e,onClick:()=>C(e)},p.Ay.t(`results.selector_elements.show_selector.${u().snakeCase(e.replace(/^\d+/,"").trim())}`)))))))))}},32229:function(e,t,n){"use strict";n.d(t,{Ak:function(){return i},O6:function(){return a},mV:function(){return o}});var r=n(83995);function a(e){switch(e){case r.Hn.teams_committees:return r.p_;case r.Hn.councils:return r.zY;case r.Hn.delegate_regions:return r.r$;default:return null}}function o(e,t){if(t===r.Hn.delegate_regions)switch(e){case r.r$.trainee_delegate:return r.r$.junior_delegate;case r.r$.junior_delegate:return r.r$.delegate;default:return null}return null}function i(e,t){if(t===r.Hn.delegate_regions)switch(e){case r.r$.junior_delegate:return r.r$.trainee_delegate;case r.r$.delegate:return r.r$.junior_delegate;default:return null}return null}},32259:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(83744),a=n(72272);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=(e,t,n)=>e.map((e=>{var r;return i(i({},e),{},{rounds:null!==e&&void 0!==e&&null!==(r=e.rounds)&&void 0!==r&&r.length?e.rounds.map((e=>t.includes(e.id)?i(i({},e),n(e)):e)):e.rounds})})),c={[a.ChangesSaved]:e=>i(i({},e),{},{initialWcifEvents:e.wcifEvents}),[a.AddEvent]:(e,{payload:t})=>i(i({},e),{},{wcifEvents:e.wcifEvents.map((e=>e.id===t.eventId?i(i({},e),{},{rounds:[]}):e))}),[a.RemoveEvent]:(e,{payload:t})=>{const{eventId:n}=t,a=e.wcifEvents.find((e=>e.id===n)).rounds.map((e=>e.id));return i(i({},e),{},{wcifEvents:e.wcifEvents.map((e=>e.id===t.eventId?{id:e.id,rounds:null}:(0,r.removeSharedTimeLimits)(e,a)))})},[a.AddRounds]:(e,{payload:t})=>{var n;const{eventId:a,roundsToAddCount:o}=t,l=null!==(n=e.wcifEvents.find((e=>e.id===a)).rounds)&&void 0!==n?n:[],s=Array(o).fill(null).map(((e,t)=>(0,r.generateWcifRound)(a,l.length+t+1)));return i(i({},e),{},{wcifEvents:e.wcifEvents.map((e=>e.id===a?i(i({},e),{},{rounds:[...l,...s]}):e))})},[a.RemoveRounds]:(e,{payload:t})=>{const{eventId:n,roundsToRemoveCount:a}=t,o=e.wcifEvents.find((e=>e.id===n)),l=o.rounds.slice(o.rounds.length-a).map((e=>e.id)),s=i(i({},o),{},{rounds:o.rounds.slice(0,o.rounds.length-a)});return s.rounds.length>0&&(s.rounds[s.rounds.length-1].advancementCondition=null),i(i({},e),{},{wcifEvents:e.wcifEvents.map((e=>e.id===n?s:(0,r.removeSharedTimeLimits)(e,l)))})},[a.UpdateRoundFormat]:(e,{payload:t})=>i(i({},e),{},{wcifEvents:s(e.wcifEvents,[t.roundId],(()=>({format:t.format})))}),[a.SetScrambleSetCount]:(e,{payload:t})=>i(i({},e),{},{wcifEvents:s(e.wcifEvents,[t.roundId],(()=>({scrambleSetCount:t.scrambleSetCount})))}),[a.UpdateCutoff]:(e,{payload:t})=>i(i({},e),{},{wcifEvents:s(e.wcifEvents,[t.roundId],(()=>({cutoff:t.cutoff})))}),[a.UpdateTimeLimit]:(e,{payload:t})=>{const n=s(e.wcifEvents,e.wcifEvents.flatMap((e=>{var t,n;return null!==(t=null===(n=e.rounds)||void 0===n?void 0:n.map((e=>e.id)))&&void 0!==t?t:[]})),(e=>{var n;return null!==(n=e.timeLimit)&&void 0!==n&&n.cumulativeRoundIds?{timeLimit:i(i({},e.timeLimit),{},{cumulativeRoundIds:e.timeLimit.cumulativeRoundIds.filter((e=>![t.roundId,...t.timeLimit.cumulativeRoundIds].includes(e)))})}:{}}));return i(i({},e),{},{wcifEvents:s(n,[t.roundId,...t.timeLimit.cumulativeRoundIds],(()=>({timeLimit:t.timeLimit})))})},[a.UpdateAdvancementCondition]:(e,{payload:t})=>i(i({},e),{},{wcifEvents:s(e.wcifEvents,[t.roundId],(()=>({advancementCondition:t.advancementCondition})))}),[a.UpdateQualification]:(e,{payload:t})=>i(i({},e),{},{wcifEvents:e.wcifEvents.map((e=>e.id===t.eventId?i(i({},e),{},{qualification:t.qualification}):e))})};function u(e,t){const n=c[t.type];return n?n(e,t):e}},32366:function(e,t,n){"use strict";n.r(t);var r=n(83995),a=n(66048),o=n(37794),i=n(32192),l=n(16574),s=n(62e3),c=n(18719),u=n(59897),d=n(71638),m=n(50258),p=n(32823),f=n(61532),g=n(44153),E=n(68194),v=n(53027),y=n(18163),A=n(88970),b=n(11768),h=n(20536),_=n(56628),w=n(22758),C=n(51951),S=n(22239),I=n(9168),P=n(4870),O=n(24178),R=n(68036),k=n(55677),j=n(73374),T=n(20789),x=n(43601),D=n(3190);t.default={[r.yv.postingDashboard]:{name:"Posting Dashboard",component:o.default},[r.yv.editPerson]:{name:"Edit Person",component:i.default},[r.yv.regionsManager]:{name:"Regions Manager",component:C.default},[r.yv.groupsManagerAdmin]:{name:"Groups Manager Admin",component:s.default},[r.yv.bannedCompetitors]:{name:"Banned Competitors",component:l.default},[r.yv.translators]:{name:"Translators",component:c.default},[r.yv.duesExport]:{name:"Dues Export",component:u.default},[r.yv.countryBands]:{name:"Country Bands",link:a.gb},[r.yv.delegateProbations]:{name:"Delegate Probations",component:d.default},[r.yv.xeroUsers]:{name:"Xero Users",component:m.default},[r.yv.duesRedirect]:{name:"Dues Redirect",component:p.default},[r.yv.delegateForms]:{name:"Delegate Forms",component:f.default},[r.yv.regions]:{name:"Regions",component:g.default},[r.yv.subordinateDelegateClaims]:{name:"Subordinate Delegate Claims",link:a.qG},[r.yv.subordinateUpcomingCompetitions]:{name:"Subordinate Upcoming Competitions",link:a.gT},[r.yv.leaderForms]:{name:"Leader Forms",component:E.default},[r.yv.groupsManager]:{name:"Groups Manager",component:v.default},[r.yv.importantLinks]:{name:"Important Links",component:y.default},[r.yv.seniorDelegatesList]:{name:"Senior Delegates List",component:A.default},[r.yv.leadersAdmin]:{name:"Leaders Admin",component:b.default},[r.yv.boardEditor]:{name:"Board Editor",component:h.default},[r.yv.officersEditor]:{name:"Officers Editor",component:_.default},[r.yv.regionsAdmin]:{name:"Regions Admin",component:w.default},[r.yv.downloadVoters]:{name:"Download Voters",component:S.default},[r.yv.generateDbToken]:{name:"Generate DB Token",link:a.Iu},[r.yv.approveAvatars]:{name:"Approve Avatars",component:I.default},[r.yv.editPersonRequests]:{name:"Edit Person Requests",component:P.default},[r.yv.anonymizationScript]:{name:"Anonymization Script",component:O.default},[r.yv.serverStatus]:{name:"Server Status",link:a.GW},[r.yv.runValidators]:{name:"Run Validators",component:k.default},[r.yv.createNewComers]:{name:"Create Newcomers",component:R.default},[r.yv.checkRecords]:{name:"Check Records",component:x.default},[r.yv.computeAuxiliaryData]:{name:"Compute Auxiliary Data",component:j.default},[r.yv.generateDataExports]:{name:"Generate Data Exports",component:T.default},[r.yv.fixResults]:{name:"Fix Results",component:D.default},[r.yv.mergeProfiles]:{name:"Merge Profiles",link:a.mp},[r.yv.reassignConnectedWcaId]:{name:"Reassign Connected WCA ID",link:a.xs}}},32823:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(96540),a=n(53959),o=n(35907),i=n(3487),l=n(87977),s=n(95472),c=n(56991),u=n(79519),d=n(66048),m=n(80405),p=n(7862),f=n(12845),g=n(600),E=n(41935),v=n(16523);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){const{data:e,loading:t,error:n,sync:y}=(0,u.A)(d.wr),b=(0,u.A)(d.NW),{save:h,saving:_}=(0,f.A)(),[w,C]=(0,r.useState)(!1),[S,I]=(0,r.useState)(),[P,O]=(0,r.useState)({redirectType:"Country"}),R=(e,{name:t,value:n})=>O(A(A({},P),{},{[t]:n}));return t||_||b.loading?r.createElement(p.default,null):n||b.err?r.createElement(m.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{celled:!0},r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,null,"Type"),r.createElement(a.A.HeaderCell,null,"From"),r.createElement(a.A.HeaderCell,null,"To"),r.createElement(a.A.HeaderCell,null))),r.createElement(a.A.Body,null,null===e||void 0===e?void 0:e.map((e=>r.createElement(a.A.Row,{key:e.id},r.createElement(a.A.Cell,null,e.redirect_source_type),r.createElement(a.A.Cell,null,e.redirect_source.name),r.createElement(a.A.Cell,null,e.redirect_to.name),r.createElement(a.A.Cell,null,r.createElement(o.A,{name:"trash",link:!0,onClick:()=>I(e.id)}))))))),r.createElement(i.A,{onClick:()=>C(!0)},"New Dues Redirect"),r.createElement(l.A,{open:w,onClose:()=>C(!1)},r.createElement(l.A.Header,null,"New Dues Redirect"),r.createElement(l.A.Content,null,r.createElement(s.A,{onSubmit:()=>{h(d.wr,P,(()=>{C(!1),y()}),{method:"POST"})}},r.createElement(s.A.Select,{label:"Type",placeholder:"Type",name:"redirectType",options:[{key:"country",text:"Country",value:"Country"},{key:"organizer",text:"Organizer",value:"User"}],value:P.redirectType,onChange:R}),"Country"===P.redirectType&&r.createElement(g.default,{label:"From",name:"redirectFromCountryIso2",onlyCountries:!0,nullable:!0,region:P.redirectFromCountryIso2,onRegionChange:R}),"User"===P.redirectType&&r.createElement(E.IdWcaSearch,{name:"redirectFromOrganizerId",value:P.redirectFromOrganizerId,onChange:R,multiple:!1,model:v.default.user}),r.createElement(s.A.Select,{label:"To",placeholder:"To",name:"redirectToId",options:b.data.map((e=>({key:e.id,text:e.name,value:e.id}))),value:P.redirectTo,onChange:R}),r.createElement(s.A.Button,{type:"submit"},"Submit"),r.createElement(s.A.Button,{onClick:()=>C(!1)},"Cancel")))),r.createElement(c.A,{open:S,content:"Are you sure you want to delete?",onCancel:()=>I(null),onConfirm:()=>{const e=S;h(`${d.wr}/${e}`,{},(()=>{I(null),y()}),{method:"DELETE"})}}))}},33070:function(e,t,n){"use strict";n.r(t),n.d(t,{CompetitionTag:function(){return d},MiscTag:function(){return u},RegulationTag:function(){return c}});var r=n(96540),a=n(3487),o=n(24106),i=n(78732),l=n(66048);function s(e,t){return r.createElement(a.A,{basic:!0,onClick:()=>e(t)},"Filter by this tag")}function c({id:e,type:t,description:n,link:a,addToSearch:o}){const i=r.createElement("a",{target:"_blank",rel:"noreferrer",className:"hide-new-window-icon",href:a},t,"s ","Reference");return r.createElement(m,{tagType:"incident",labelClass:"primary",label:e,title:`${t} ${e}`,description:n,links:i,buttons:o&&s(o,e)})}function u({tag:e,addToSearch:t}){return r.createElement(m,{tagType:"incident",labelClass:"default",label:e,title:e,buttons:t&&s(t,e)})}function d({id:e,name:t,comments:n}){const a=(0,r.useContext)(i.N),o=a?r.createElement(r.Fragment,null,r.createElement("a",{target:"_blank",rel:"noreferrer",className:"hide-new-window-icon",href:(0,l.No)(e)},"Competition Page"),r.createElement("br",null),r.createElement("a",{target:"_blank",rel:"noreferrer",className:"hide-new-window-icon",href:(0,l.FZ)(e)},"Delegate Report")):r.createElement("a",{target:"_blank",rel:"noreferrer",className:"hide-new-window-icon",href:(0,l.No)(e)},"Competition Page");return r.createElement(m,{tagType:"competition",labelClass:"info",label:e,title:t,description:a?n:null,links:o})}function m({tagType:e,labelClass:t,label:n,title:a,description:i,links:l,buttons:s}){return r.createElement(o.A,{header:a,content:r.createElement(r.Fragment,null,i&&r.createElement(r.Fragment,null,r.createElement("hr",null),r.createElement("span",{dangerouslySetInnerHTML:{__html:i}})),l&&r.createElement(r.Fragment,null,r.createElement("hr",null),l),s&&r.createElement(r.Fragment,null,r.createElement("hr",null),s)),on:"click",trigger:r.createElement("span",{className:`${e}-tag label label-${t}`},n)})}},33160:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96540),a=n(31746),o=n(1460);function i({results:e,children:t}){const[,n,i]=e;return r.createElement(r.Fragment,null,r.createElement(a.A,null,o.Ay.t("results.selector_elements.type_selector.single")),t(n,"single"),r.createElement(a.A,null,o.Ay.t("results.selector_elements.type_selector.average")),t(i,"average"))}},33438:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(95472),o=n(37865),i=n(97286),l=n(13113),s=n(37422),c=n(7862),u=n(80405);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=new o.E;function g({range:e,setRange:t}){const n=Boolean((null===e||void 0===e?void 0:e.startDate)&&(null===e||void 0===e?void 0:e.endDate));return r.createElement(r.Fragment,null,r.createElement(a.A.Field,{label:"Start Date",control:l.default,showYearDropdown:!0,dateFormatOverride:"yyyy-MM-dd",dropdownMode:"select",isoDate:null===e||void 0===e?void 0:e.startDate,onChange:n=>{t(m(m({},e),{},{startDate:n}))}}),r.createElement(a.A.Field,{label:"End Date",control:l.default,showYearDropdown:!0,dateFormatOverride:"yyyy-MM-dd",dropdownMode:"select",isoDate:null===e||void 0===e?void 0:e.endDate,onChange:n=>{t(m(m({},e),{},{endDate:n}))}}),n&&r.createElement(E,{range:e}))}function E({range:e}){const{data:t,isLoading:n,isError:a}=(0,i.I)({queryKey:["competitionCountInRange",e.startDate,e.endDate],queryFn:()=>(0,s.default)(e.startDate,e.endDate)},f);return n?r.createElement(c.default,null):a?r.createElement(u.default,null):`The checks will run for ${t} competitions`}},33497:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(96540),a=n(5074),o=n(31746),i=n(53959),l=n(2543),s=n.n(l),c=n(83995),u=n(95522),d=n(51319),m=n(66048),p=n(59731);function f({results:e,user:t,competitionId:n}){return r.createElement(u.A,null,r.createElement(g,{results:e,user:t,competitionId:n}))}function g({results:e,user:t,competitionId:n}){const l=s().groupBy(e,"event_id");return r.createElement(a.A,null,r.createElement(o.A,null,t.name),s().map(l,((e,t)=>r.createElement(r.Fragment,null,r.createElement(o.A,{as:"h3"},c.AZ.byId[t].name),r.createElement(i.A,null,r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,null,"Round"),r.createElement(i.A.HeaderCell,null,"Rank"),s().times(c.AZ.byId[t].recommendedFormat().expectedSolveCount).map((e=>r.createElement(i.A.HeaderCell,{key:e},e+1))),r.createElement(i.A.HeaderCell,null,"Average"),r.createElement(i.A.HeaderCell,null,"Best"))),r.createElement(i.A.Body,null,e.map((e=>{const{round:a,attempts:o,ranking:l,average:s,best:u}=e;return r.createElement(i.A.Row,null,r.createElement(i.A.Cell,{width:1},r.createElement("a",{href:m.Hd.roundResults(n,a.id)},"Round"," ",a.number)),r.createElement(i.A.Cell,{width:1,style:(0,p.rankingCellStyle)(e)},l),o.map((e=>r.createElement(i.A.Cell,null,(0,d.U2)(e.result,c.AZ.byId[t].id)))),r.createElement(i.A.Cell,null,(0,d.U2)(s,c.AZ.byId[t].id)),r.createElement(i.A.Cell,null,(0,d.U2)(u,c.AZ.byId[t].id)))}))))))))}},33846:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96540),a=n(77949),o=n(34622);function i(){return r.createElement(o.default,{section:"staff"},r.createElement(a.InputUsers,{id:"staffDelegateIds",delegateOnly:!0,required:!0,ignoreDisabled:!0}),r.createElement(a.InputUsers,{id:"traineeDelegateIds",traineeOnly:!0,ignoreDisabled:!0}),r.createElement(a.InputUsers,{id:"organizerIds",required:!0,ignoreDisabled:!0}),r.createElement(a.InputString,{id:"contact",mdHint:!0,ignoreDisabled:!0}))}},33976:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(96540),a=n(3487),o=n(73574),i=n(31746),l=n(21660),s=n(66048),c=n(1460),u=n(79519),d=n(7862),m=n(80405),p=n(43723);function f({group:e,canViewPastRoles:t}){const{data:n,loading:f,error:g}=(0,u.A)(s.VB.userRoles.list({isActive:!0,groupId:e.id},"status:desc,name")),{data:E,loading:v,error:y}=(0,u.A)(s.VB.userRoles.list({isActive:!1,groupId:e.id},"status:desc,name"));return f||v?r.createElement(d.default,null):g||y?r.createElement(m.default,null):r.createElement(r.Fragment,null,r.createElement("p",null,c.Ay.t(`page.teams_committees_councils.groups_description.${e.metadata.friendly_id}`)),(!e.metadata.preferred_contact_mode||"email"===e.metadata.preferred_contact_mode)&&r.createElement(l.default,{email:e.metadata.email}),"contact_form"===e.metadata.preferred_contact_mode&&r.createElement(a.A,{href:(0,s.tF)(e.metadata.friendly_id)},c.Ay.t("page.teams_committees_councils.contact_button")),"no_contact"===e.metadata.preferred_contact_mode&&r.createElement(o.A,null,c.Ay.t("page.teams_committees_councils.no_contact_description")),r.createElement(p.default,{roleList:n}),t&&r.createElement(r.Fragment,null,r.createElement(i.A,null,"Past Roles"),r.createElement(p.default,{roleList:E})))}},34070:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(96540),a=n(27089),o=n(31746),i=n(1489),l=n(13387),s=n(35907),c=n(6957),u=n(5074),d=n(21295),m=n(82330),p=n(58894),f=n(32366),g=n(95522);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y({heading:e,pages:t,pageNotifications:n,loggedInUserId:y}){const[A,b]=(0,m.A)(),h=r.useMemo((()=>{if(-1===t.findIndex((e=>e===A)))return b(t[0]),()=>null;const e=f.default[A];return e.component?e.component:(window.open(e.link),()=>null)}),[t,A,b]),_=r.useMemo((()=>t.map((e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:e,notification:null===n||void 0===n?void 0:n[e]},f.default[e])))),[t,n]);return r.createElement(g.A,null,r.createElement(a.A,{fluid:!0},r.createElement(o.A,{as:"h1"},e),r.createElement(i.A,null,r.createElement(i.A.Column,{only:"computer",computer:4},r.createElement(l.A,{vertical:!0,fluid:!0},_.map((e=>r.createElement(l.A.Item,{key:e.id,name:e.name,active:e.id===A,onClick:()=>e.component?b(e.id):window.open(e.link)},!e.component&&r.createElement(s.A,{name:"external alternate"}),void 0!==e.notification&&r.createElement(c.A,{color:0===e.notification?"green":"red"},e.notification),e.name))))),r.createElement(i.A.Column,{stretched:!0,computer:12,mobile:16,tablet:16},r.createElement(u.A,null,r.createElement(i.A,{container:!0,padded:!0},r.createElement(i.A.Row,{only:"tablet mobile"},r.createElement(d.A,{inline:!0,options:_.map((e=>({key:e.id,text:e.name,value:e.id,icon:!e.component&&"external alternate",label:e.notification&&{color:"red",content:e.notification}}))),value:A,onChange:(e,{value:t})=>b(t)})),r.createElement(i.A.Row,{style:{margin:0}},r.createElement("div",{style:{width:"100%"}},r.createElement(p.A,null,r.createElement(h,{loggedInUserId:y}))))))))))}},34156:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(96540),a=n(27089),o=n(31746),i=n(1489),l=n(13387),s=n(5074),c=n(21295),u=n(1460),d=n(66048),m=n(83995),p=n(79519),f=n(7862),g=n(80405),E=n(82330),v=n(33976);function y({canViewPastRoles:e}){const{data:t,loading:n,error:y}=(0,p.A)(d.VB.userGroups.list(m.Hn.teams_committees,"name",{isActive:!0,isHidden:!1})),{data:A,loading:b,error:h}=(0,p.A)(d.VB.userGroups.list(m.Hn.councils,"name",{isActive:!0,isHidden:!1})),_=n||b,w=(0,r.useMemo)((()=>_?[]:[...t||[],...A||[]]),[_,t,A]),C=(0,r.useMemo)((()=>w.map((e=>({id:e.id,text:u.Ay.t(`page.teams_committees_councils.groups_name.${e.metadata.friendly_id}`),friendlyId:e.metadata.friendly_id})))),[w]),[S,I]=(0,E.A)(),P=(0,r.useMemo)((()=>w.find((e=>e.metadata.friendly_id===S))),[w,S]),O=Boolean(P);return(0,r.useEffect)((()=>{_||O||(w.length>0?I(w[0].metadata.friendly_id):I(null))}),[_,O,w,I]),_||!P?r.createElement(f.default,null):y||h?r.createElement(g.default,null):r.createElement(a.A,{fluid:!0},r.createElement(o.A,{as:"h2"},u.Ay.t("page.teams_committees_councils.title")),r.createElement("p",null,u.Ay.t("page.teams_committees_councils.description")),r.createElement(i.A,{centered:!0},r.createElement(i.A.Row,null,r.createElement(i.A.Column,{only:"computer",computer:4},r.createElement(l.A,{vertical:!0,fluid:!0},C.map((e=>r.createElement(l.A.Item,{key:e.id,content:e.text,active:e.friendlyId===S,onClick:()=>I(e.friendlyId)}))))),r.createElement(i.A.Column,{computer:12,mobile:16,tablet:16},r.createElement(s.A,null,r.createElement(i.A,{centered:!0},r.createElement(i.A.Row,{only:"computer"},r.createElement(o.A,null,`${u.Ay.t(`page.teams_committees_councils.groups_name.${P.metadata.friendly_id}`)}`)),r.createElement(i.A.Row,{only:"tablet mobile"},r.createElement(c.A,{inline:!0,options:C.map((e=>({key:e.id,text:e.text,value:e.friendlyId}))),value:S,scrolling:!0,onChange:(e,{value:t})=>I(t)})),r.createElement(i.A.Row,null,r.createElement(i.A.Column,null,r.createElement(v.default,{group:P,canViewPastRoles:e})))))))))}},34260:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m},useRegistration:function(){return p}});var r=n(96540),a=n(97286),o=n(89407),i=n(5889),l=n(52322),s=n(53274);const c=3e3,u=(0,r.createContext)(),d=({competitionId:e,userId:t,registrationId:n=null})=>n?(0,i.getSingleRegistration)(n):(0,i.getRegistrationByUser)(t,e);function m({competitionInfo:e,userInfo:t,registrationId:n,isProcessing:i,children:m}){var p;const f=(0,o.wA)(),[g,E]=(0,r.useState)(i),[v,y]=(0,r.useState)(0),A=(0,r.useCallback)((()=>{E(!0)}),[E]),b=(0,r.useCallback)((()=>{E(!1)}),[E]),{data:h,status:_}=(0,a.I)({queryKey:["registration-status-polling",t.id,e.id],queryFn:async()=>(0,s.default)(t.id,e.id),refetchInterval:c,onSuccess:()=>{y((e=>e+1))},enabled:g});(0,r.useEffect)((()=>{h&&!h.processing&&b()}),[h,b]);const{data:w,isFetching:C,refetch:S}=(0,a.I)({queryKey:["registration",e.id,t.id,n],queryFn:()=>d({competitionId:e.id,userId:t.id,registrationId:n}),onError:e=>{var t;f((0,l.showMessage)(`competitions.registration_v2.errors.${(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.json)||void 0===t?void 0:t.error)||"unknown"}`,"negative"))}}),I=w&&"cancelled"!==w.competing.registration_status,P=I&&"accepted"===w.competing.registration_status,O=I&&"rejected"===w.competing.registration_status,R=null===w||void 0===w||null===(p=w.payment)||void 0===p?void 0:p.has_paid,k=I&&"pending"===w.competing.registration_status,j=I&&"waiting_list"===w.competing.registration_status,T=(0,r.useMemo)((()=>({isRegistered:I,isAccepted:P,isRejected:O,hasPaid:R,isPending:k,isWaitingList:j,registration:w,refetchRegistration:S,isFetching:C,pollCounter:v,isPolling:g,startPolling:A,isProcessing:"success"!==_||h.processing,queueCount:null===h||void 0===h?void 0:h.queue_count})),[_,R,P,C,I,O,k,j,g,S,w,v,h,A]);return r.createElement(u.Provider,{value:T},m)}const p=()=>{const e=(0,r.useContext)(u);if(!e)throw new Error("useRegistration must be used within a RegistrationProvider");return e}},34323:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/LogoImages/WCA Lockup Mono Black-857fabd8a16f4c3098f0.svg"},34368:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c},qualificationTypeInput:function(){return s}});var r=n(96540),a=n(95472),o=n(6957),i=n(1460);const l=[{key:"1",value:"attemptResult",text:i.Ay.t("qualification.type.result")},{key:"2",value:"ranking",text:i.Ay.t("qualification.type.ranking")},{key:"3",value:"anyResult",text:i.Ay.t("qualification.type.any_result")}];function s({qualificationType:e,onChange:t}){return r.createElement(a.A.Select,{value:e,onChange:t,options:l,openOnFocus:!1,name:"qualificationType"})}function c({qualificationType:e,onChange:t}){return r.createElement(a.A.Field,{inline:!0},r.createElement(o.A,null,i.Ay.t("qualification.type_label")),r.createElement(a.A.Input,{as:s,qualificationType:e,onChange:t}))}},34374:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(79389),a=n(17632),o=n(1565),i=n(96285),l=n(96540),s=n(64047),c=n(19940),u=n(1460);function d({dates:e,timeZone:t,activeVenues:n,activeRooms:d,activeEventIds:m,calendarLocale:p,wcifEvents:f}){var g,E;const v=d.flatMap((e=>e.activities.filter((e=>["other",...m].includes((0,s.l7)(e)))).filter((e=>!(0,s.pj)(e,f))).map((t=>{const n=t.activityCode.startsWith("other")?t.name:(0,s.cV)(t,f),r=t.activityCode.startsWith("other")?c.Zo:e.color;return{title:n,start:t.startTime,end:t.endTime,backgroundColor:r,textColor:(0,c.vG)(r)}})))),y=n.flatMap((e=>e.rooms.flatMap((e=>e.activities)))),A=null!==(g=(0,s.Oi)(y,t))&&void 0!==g?g:"00:00:00",b=null!==(E=(0,s.iv)(y,t))&&void 0!==E?E:"00:00:00";return l.createElement(l.Fragment,null,l.createElement(a.A,{plugins:[o.A,r.Ay],initialView:"agendaForComp",views:{agendaForComp:{type:"timeGrid",visibleRange:{start:e[0].toJSDate(),end:e[e.length-1].toJSDate()}}},allDaySlot:!1,headerToolbar:!1,dayHeaderFormat:i.c9.DATE_HUGE,slotMinTime:A,slotMaxTime:b,slotDuration:"00:15:00",height:"auto",locale:p,timeZone:t,events:v}),0===v.length&&l.createElement("em",null,u.Ay.t("competitions.schedule.no_activities")))}},34383:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(1460);t.default=function({item:e}){return r.createElement("div",{className:"multisearch-item-incident"},a.Ay.t("incidents_log.incident")," ",e.title)}},34622:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(96540),a=n(14487);function o({section:e,children:t,disabled:n=!1,allowIgnoreDisabled:o=!0}){const i=(0,a.useSections)(),l=(0,a.useSectionDisabled)(),s=(0,a.useSectionAllowIgnoreDisabled)(),c=(0,r.useMemo)((()=>i.concat(e)),[i,e]);return r.createElement(a.default,{section:c,disabled:l||n,allowIgnoreDisabled:s&&o},t)}},34975:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(24106),o=n(46942),i=n.n(o),l=n(83995);function s({iso2:e,withoutTooltip:t=!1}){return t?r.createElement(u,{iso2:e}):r.createElement(c,{iso2:e})}function c({iso2:e}){return r.createElement(a.A,{id:"resultCountryFlagTooltip",position:"top center",content:l.Xr.byIso2[e].name,trigger:r.createElement("span",null,r.createElement(u,{iso2:e}))})}function u({iso2:e}){return r.createElement("span",{className:i()("fi",`fi-${e.toLowerCase()}`)})}},35244:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(34975);t.default=function({item:e}){return r.createElement("div",{className:"multisearch-item-competition"},r.createElement("div",null,e.name),r.createElement("div",{className:"extra-details"},r.createElement(a.default,{iso2:e.country_iso2}),`${e.city} (${e.id})`))}},36714:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(96540),a=n(90447),o=n(44296),i=n(52322),l=n(77791),s=n(89407),c=n(95522),u=n(58894),d=n(34260),m=n(43703),p=n(7862);function f({registrationId:e,competitionInfo:t,user:n}){const o=(0,r.useRef)();return r.createElement("div",{ref:o},r.createElement(c.A,null,r.createElement(s.Ay,{reducer:l.default,initialState:{messages:[]}},r.createElement(u.A,null,r.createElement(d.default,{competitionInfo:t,userInfo:n,registrationId:e},r.createElement(a.A,{context:o},r.createElement(i.default,null)),r.createElement(g,{registrationId:e,competitionInfo:t,user:n}))))))}function g({registrationId:e,competitionInfo:t,user:n}){const{registration:a,isFetching:i}=(0,d.useRegistration)();return i?r.createElement(p.default,null):r.createElement(m.default,{initialObject:a},r.createElement(o.default,{registrationId:e,competitionInfo:t,competitor:n}))}},37113:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(96540),a=n(92257),o=n(21295),i=n(53959),l=n(3487),s=n(35907),c=n(33070),u=n(86552),d=n(7862),m=n(80405),p=n(78732),f=n(79519),g=n(13797);var E=n(72401),v=n(66048);function y({resolved_at:e}){return e?"success":"warning"}function A({digest_worthy:e,digest_sent_at:t}){return e&&!t?"warning":"success"}const b=300,h="search",_="tags";function w({canManageIncidents:e=!1,canViewDelegateMatters:t=!1,allTags:n=[]}){const c=function(e=10,t=1){const[n,a]=(0,r.useState)(e),[o,i]=(0,r.useState)(t);return{entriesPerPage:n,setEntriesPerPage:function(e){i(1),a(e)},activePage:o,setActivePage:i}}(),y=(0,r.useMemo)((()=>new URLSearchParams(window.location.search)),[]),[A,w]=(0,r.useState)(y.get(h)||""),I=(0,E.A)((y.get(_)||"").split(",").filter(Boolean));(0,r.useEffect)((()=>{y.set(_,I.asArray.join(",")),window.history.replaceState({},"",`${window.location.pathname}?${y}`)}),[I.asArray,y]);const P=(0,g.A)(A,b),{data:O,headers:R,loading:k,error:j}=(0,f.A)((0,v.Bg)(c.entriesPerPage,c.activePage,I.asArray,P)),T=parseInt(R.get("total"),10),x=parseInt(R.get("per-page"),10),D=Math.ceil(T/x),F=n.map((e=>({key:e,text:e,value:e})));return r.createElement(p.N.Provider,{value:t},r.createElement("h1",null,"Incidents log"),r.createElement("div",null,r.createElement(a.A,{id:"incidents-log-search-container",placeholder:"Search incidents...",icon:"search",loading:k,value:A,onChange:(e,t)=>{var n;n=t.value,w(n),y.set(h,n),window.history.replaceState({},"",`${window.location.pathname}?${y}`),c.setActivePage(1)}}),r.createElement(o.A,{id:"incidents-log-tags-container",placeholder:"Filter by tags",multiple:!0,search:!0,selection:!0,options:F,value:I.asArray,onChange:(e,t)=>{I.update(t.value),c.setActivePage(1)}}),j&&r.createElement(m.default,{componentName:"IncidentsLog"}),k&&r.createElement(d.default,null),!k&&O&&r.createElement(r.Fragment,null,r.createElement(i.A,{striped:!0},r.createElement(C,null),r.createElement(S,{incidents:O,addTagToSearch:e=>{I.add(e),c.setActivePage(1)}})),r.createElement(u.default,{pagination:c,totalPages:D,totalEntries:T,allowChangingEntriesPerPage:!0}))),r.createElement("br",null),e&&r.createElement(l.A,{positive:!0,icon:r.createElement(s.A,{name:"plus"}),content:"New Incident",href:v.yk}))}function C(){const e=(0,r.useContext)(p.N);return r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,{width:4},"Title"),r.createElement(i.A.HeaderCell,{width:1},"Tags"),r.createElement(i.A.HeaderCell,{width:2},"Happened during"),r.createElement(i.A.HeaderCell,{width:1},"Status"),e&&r.createElement(i.A.HeaderCell,{width:1},"Sent in digest")))}function S({incidents:e,addTagToSearch:t}){return r.createElement(i.A.Body,null,e.map((e=>r.createElement(I,{key:e.id,incident:e,addTagToSearch:t}))))}function I({incident:e,addTagToSearch:t}){const n=(0,r.useContext)(p.N),{id:a,title:o,tags:l,competitions:s}=e;return r.createElement(i.A.Row,null,r.createElement(i.A.Cell,null,r.createElement("a",{href:(0,v.C_)(a)},o)),r.createElement(i.A.Cell,null,l.map((({name:e,id:n,url:a,content_html:o})=>void 0!==n?r.createElement(c.RegulationTag,{key:n,id:n,type:-1===a.indexOf("guideline")?"Regulation":"Guideline",link:a,description:o,addToSearch:t}):r.createElement(c.MiscTag,{key:e,tag:e,addToSearch:t})))),r.createElement(i.A.Cell,null,r.createElement("div",null,s.map((({id:e,name:t,comments:n})=>r.createElement(c.CompetitionTag,{key:e,id:e,name:t,comments:n}))))),r.createElement(i.A.Cell,{className:`text-${y(e)}`},function({resolved_at:e}){return e?"Resolved":"Pending"}(e)),n&&r.createElement(i.A.Cell,{className:`text-${A(e)}`},function({digest_worthy:e,digest_sent_at:t}){return e?t?"Sent":"Pending":""}(e)))}},37125:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(73574),o=n(35907),i=n(74813),l=n(2543),s=n.n(l),c=n(1460),u=n(34260),d=n(94028),m=n(57598),p=n(68103),f=n(64417);function g({message:e,icon:t,success:n,warning:i,negative:l}){return r.createElement(a.A,{icon:!0,success:n,warning:i,negative:l},r.createElement(o.A,{name:t}),r.createElement(a.A.Content,null,e))}function E({hasPaid:e,totalPaid:t,paymentFee:n,currencyCode:a}){const o=(0,d.i)(t,a),i=(0,d.i)(n,a);return e?r.createElement(g,{message:c.Ay.t("registrations.entry_fees_fully_paid",{paid:o}),icon:"checkmark",success:!0}):0===t?r.createElement(g,{message:c.Ay.t("registrations.entry_fees_fully_refunded"),icon:"remove circle",negative:!0}):r.createElement(g,{message:c.Ay.t("registrations.entry_fees_partially_paid",{paid:o,total:i}),icon:"warning circle",warning:!0})}function v({payments:e,competitionInfo:t,connectedAccountId:n,stripePublishableKey:a,user:l,nextStep:d}){const{hasPaid:g}=(0,u.useRegistration)(),v=s().sumBy(e,"iso_amount_refundable"),[y,A]=(0,m.A)(!1);return r.createElement(r.Fragment,null,r.createElement(E,{paymentFee:t.base_entry_fee_lowest_denomination,hasPaid:g,totalPaid:v,currencyCode:t.currency_code}),!g&&!(0,f.Pc)(t.registration_close)&&r.createElement(i.A,{styled:!0,fluid:!0},r.createElement(i.A.Title,{icon:!0,active:y,index:0,onClick:()=>A((e=>!e))},r.createElement(o.A,{name:"dropdown"}),c.Ay.t("registrations.entry_fees_pay_again")),r.createElement(i.A.Content,{active:y},r.createElement(p.default,{competitionInfo:t,connectedAccountId:n,nextStep:d,stripePublishableKey:a,user:l}))))}},37166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96285),a=n(96540),o=n(73574),i=n(1026),l=n(64417),s=n(83077);function c({registrationStart:e}){const t=r.c9.fromISO(e),n=(0,a.useCallback)((()=>(0,l.Sp)(t)),[t]),c=(0,s.default)(n);return c.seconds<0||c.minutes<0||c.hours<0||c.days<0?null:a.createElement(o.A,{info:!0},c.days<1&&c.hours<1?a.createElement(i.default,{i18nKey:"competitions.registration_v2.register.will_open_countdown",options:c}):a.createElement(i.default,{i18nKey:"registrations.will_open_html",options:{days:t.toRelative(),time:t.toLocaleString(r.c9.DATETIME_FULL)}}))}},37202:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(1530),a=n(33888),o=n(5074),i=n(53959),l=n(96540),s=n(1460);function c({rows:e,config:t}){const n=e||[],c=(0,r.N4)({data:n,columns:t,getCoreRowModel:(0,a.HT)()});return 0===n.length?l.createElement(o.A,null,s.Ay.t("search_results.index.not_found.generic")):l.createElement("div",{style:{overflowX:"scroll"}},l.createElement(i.A,{basic:"very",compact:"very",striped:!0,unstackable:!0,singleLine:!0},l.createElement(i.A.Header,null,c.getHeaderGroups().map((e=>l.createElement(i.A.Row,{key:e.id},e.headers.map((e=>l.createElement(i.A.HeaderCell,{key:e.id,colSpan:e.column.columnDef.colSpan},e.isPlaceholder?null:(0,r.Kv)(e.column.columnDef.header,e.getContext())))))))),l.createElement(i.A.Body,null,c.getRowModel().rows.map((e=>l.createElement(i.A.Row,{key:e.id},e.getVisibleCells().map((e=>e.column.columnDef.rendersOwnCells?l.createElement(l.Fragment,{key:e.id},(0,r.Kv)(e.column.columnDef.cell,e.getContext())):l.createElement(i.A.Cell,{key:e.id},(0,r.Kv)(e.column.columnDef.cell,e.getContext()))))))))))}},37422:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o(e,t){const{data:n}=await(0,r.o)(a.uP.competitions.countInRange(e,t));return n}},37700:function(e,t,n){"use strict";n.r(t),n.d(t,{AddActivity:function(){return a},AddRoom:function(){return f},AddVenue:function(){return p},ChangesSaved:function(){return r},CopyRoom:function(){return E},CopyRoomActivities:function(){return v},CopyVenue:function(){return g},EditActivity:function(){return o},EditRoom:function(){return u},EditVenue:function(){return c},MoveActivity:function(){return l},RemoveActivity:function(){return i},RemoveRoom:function(){return m},RemoveVenue:function(){return d},ScaleActivity:function(){return s},addActivity:function(){return A},addRoom:function(){return R},addVenue:function(){return O},changesSaved:function(){return y},copyRoom:function(){return j},copyRoomActivities:function(){return T},copyVenue:function(){return k},editActivity:function(){return b},editRoom:function(){return S},editVenue:function(){return C},moveActivity:function(){return _},removeActivity:function(){return h},removeRoom:function(){return P},removeVenue:function(){return I},scaleActivity:function(){return w}});const r="saving_started",a="ADD_ACTIVITY",o="EDIT_ACTIVITY",i="REMOVE_ACTIVITY",l="MOVE_ACTIVITY",s="SCALE_ACTIVITY",c="EDIT_VENUE",u="EDIT_ROOM",d="REMOVE_VENUE",m="REMOVE_ROOM",p="ADD_VENUE",f="ADD_ROOM",g="COPY_VENUE",E="COPY_ROOM",v="COPY_ROOM_ACTIVITIES",y=()=>({type:r}),A=(e,t)=>({type:a,payload:{wcifActivity:e,roomId:t}}),b=(e,t,n,r)=>({type:o,payload:{activityId:e,key:t,value:n,updateMatches:r}}),h=(e,t)=>({type:i,payload:{activityId:e,updateMatches:t}}),_=(e,t,n=!1)=>({type:l,payload:{activityId:e,isoDuration:t,updateMatches:n}}),w=(e,t,n,r=!1)=>({type:s,payload:{activityId:e,isoDeltaStart:t,isoDeltaEnd:n,updateMatches:r}}),C=(e,t,n)=>({type:c,payload:{venueId:e,propertyKey:t,newProperty:n}}),S=(e,t,n)=>({type:u,payload:{roomId:e,propertyKey:t,newProperty:n}}),I=e=>({type:d,payload:{venueId:e}}),P=e=>({type:m,payload:{roomId:e}}),O=()=>({type:p,payload:{}}),R=e=>({type:f,payload:{venueId:e}}),k=e=>({type:g,payload:{venueId:e}}),j=e=>({type:E,payload:{roomId:e}}),T=(e,t)=>({type:v,payload:{sourceRoomId:e,targetRoomId:t}})},37794:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(53959),o=n(31746),i=n(3487),l=n(50363),s=n(5074),c=n(2543),u=n.n(c),d=n(96285),m=n(79519),p=n(12845),f=n(7862),g=n(80405),E=n(34975),v=n(66048);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return A(A({},e),{},{[t.id]:void 0!==t.posting_user})}function _({competitions:e,save:t,saving:n,setMessage:s,sync:c}){const m=function(e){return e.reduce(h,{})}(e),[p,f]=(0,r.useState)(m),g=(0,r.useCallback)(((e,t)=>{f((n=>A(A({},n),{},{[e]:t})))}),[f]),y=n,b=(0,r.useCallback)((e=>{e.error?s({color:"red",text:e.error}):(s({color:"green",text:e.message}),c())}),[c,s]),_=(0,r.useCallback)((()=>{const e=Object.entries(p).filter((([,e])=>e)).map((([e])=>e));t(v.Lu,{competition_ids:e},b,{method:"POST"})}),[p,b,t]);return r.createElement(r.Fragment,null,0===e.length&&r.createElement(a.A.Row,null,r.createElement(a.A.Cell,{colSpan:3},"No competitions are awaiting to be posted")),e.map((e=>r.createElement(a.A.Row,{key:e.id},r.createElement(a.A.Cell,null,r.createElement(o.A,{as:"h5",floated:"left"},e.name,r.createElement(o.A.Subheader,null,e.city," ",r.createElement(E.default,{iso2:e.country_iso2})),r.createElement(o.A.Subheader,null,`Submission Timestamp: ${d.c9.fromISO(e.results_submitted_at).toRelative()}`)),r.createElement(i.A.Group,{floated:"right"},r.createElement(i.A,{target:"_blank",primary:!0,href:(0,v.No)(e.id)},"Competition page"),m[e.id]&&r.createElement(r.Fragment,null,r.createElement(i.A,{target:"_blank",color:"olive",href:(0,v.KV)(e.id)},"Check results page"),r.createElement(i.A,{target:"_blank",color:"green",href:(0,v.WP)(e.id)},"Import results page")))),r.createElement(a.A.Cell,null,r.createElement(l.A,{checked:p[e.id],onChange:(t,n)=>g(e.id,n.checked),disabled:y||m[e.id]})),r.createElement(a.A.Cell,null,e.posting_user&&r.createElement("span",null,e.posting_user.name))))),r.createElement(a.A.Row,null,r.createElement(a.A.Cell,null),r.createElement(a.A.Cell,{colSpan:2},r.createElement(i.A,{positive:!0,disabled:y||u().isEqual(p,m),onClick:_},"Start posting"))))}t.default=function(){const{data:e,loading:t,error:n,sync:o}=(0,m.A)(v.PW),{save:l,saving:c}=(0,p.A)(),[u,d]=(0,r.useState)(null);return r.createElement(r.Fragment,null,r.createElement(a.A,{celled:!0},r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,null,"Competition"," ",r.createElement(i.A,{icon:"sync",color:"teal",onClick:()=>{d(null),o()}})),r.createElement(a.A.HeaderCell,null,"Posting"),r.createElement(a.A.HeaderCell,null,"Poster"))),r.createElement(a.A.Body,null,n&&r.createElement(a.A.Row,null,r.createElement(a.A.Cell,{colSpan:3},r.createElement(g.default,{componentName:"PostingCompetitionsIndex"}))),t&&r.createElement(a.A.Row,null,r.createElement(a.A.Cell,{colSpan:3},r.createElement(f.default,null))),!t&&e&&r.createElement(_,{competitions:e.competitions,save:l,saving:c,sync:o,setMessage:d}))),u&&r.createElement(s.A,{color:u.color,inverted:!0},u.text))}},38419:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(5889);async function a(e,t){return{processing:!await(0,r.getRegistrationByUser)(e,t),queue_count:Math.round(10*Math.random())}}},39355:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(73574),o=n(31746),i=n(2543),l=n.n(i),s=n(7862),c=n(80405),u=n(42955);function d({validationOutput:e,isPending:t,isError:n,error:i,showCompetitionNameOnOutput:d}){return t?r.createElement(s.default,null):n?r.createElement(c.default,{error:i}):e?r.createElement(r.Fragment,null,r.createElement(o.A,null,"Validation Output"),["infos","errors","warnings"].map((t=>e[t].length>0||"infos"!==t?r.createElement(r.Fragment,null,r.createElement(o.A,{as:"h5"},l().startCase(t)),r.createElement(u.default,{validations:e[t],showCompetitionNameOnOutput:d,type:t,hasResults:e.has_results})):null))):r.createElement(a.A,null,"Please run the validators to see the output.")}},39363:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(13387),o=n(1460);const i=["calendar","table"];function l({activeView:e,setActiveView:t}){return r.createElement(a.A,{pointing:!0,secondary:!0,fluid:!0,widths:2},i.map((n=>r.createElement(a.A.Item,{key:n,name:o.Ay.t(`competitions.schedule.display_as.${n}`),active:e===n,onClick:()=>t(n)}))))}},39371:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(31746),o=n(92257),i=n(53959),l=n(31473),s=n(97286),c=n(13797),u=n(55323),d=n(7862),m=n(95522),p=n(66048),f=n(83995),g=n(600),E=n(91283);function v(){return r.createElement(m.A,null,r.createElement(y,null))}function y(){const[e,t]=(0,r.useState)(""),[n,m]=(0,r.useState)(1),[v,y]=(0,E.A)(g.ALL_REGIONS_VALUE),A=(0,c.A)(e,600),{data:b,isLoading:h}=(0,s.I)({queryKey:["persons",A,v,n],queryFn:()=>{var e,t;return(0,u.getPersons)(n,null!==(e=null===(t=f.Xr.byIso2[v])||void 0===t?void 0:t.id)&&void 0!==e?e:v,A)}});return h?r.createElement(d.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,"Users"),r.createElement(g.default,{region:v,onRegionChange:y}),r.createElement(o.A,{type:"text",placeholder:"Type name, WCA ID, or email. Use a space to separate them.",value:e,onChange:e=>t(e.target.value)}),r.createElement(i.A,{striped:!0},r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,null,"WCA ID"),r.createElement(i.A.HeaderCell,null,"Name"),r.createElement(i.A.HeaderCell,null,"Country"),r.createElement(i.A.HeaderCell,null,"Email"),r.createElement(i.A.HeaderCell,null))),r.createElement(i.A.Body,null,b.rows.map((e=>{var t;return r.createElement(i.A.Row,{key:e.user_id},r.createElement(i.A.Cell,null,e.wca_id&&r.createElement("a",{href:(0,p.hs)(e.wca_id)},e.wca_id)),r.createElement(i.A.Cell,null,e.name),r.createElement(i.A.Cell,null,null===(t=f.Xr.byIso2[e.country])||void 0===t?void 0:t.name),r.createElement(i.A.Cell,null,e.email),r.createElement(i.A.Cell,null,r.createElement("a",{href:(0,p.lY)(e.user_id)},"Edit")))})))),r.createElement(l.A,{defaultActivePage:n,totalPages:Math.ceil(b.total/10),onPageChange:(e,t)=>m(t.activePage)}))}},39531:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(53959),o=n(35907),i=n(5074),l=n(60301);function s({bannedCompetitorRoles:e,canEditBannedCompetitors:t,editBannedCompetitor:n}){return e.length>0?r.createElement(a.A,null,r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{width:5},"User"),r.createElement(a.A.HeaderCell,{width:2},"Start date"),r.createElement(a.A.HeaderCell,{width:2},"End date"),r.createElement(a.A.HeaderCell,{width:4},"Reason"),r.createElement(a.A.HeaderCell,{width:3},"Scope"),t&&r.createElement(a.A.HeaderCell,{width:2},"Edit"))),r.createElement(a.A.Body,null,e.map((e=>r.createElement(a.A.Row,{key:e.id},r.createElement(a.A.Cell,null,r.createElement(l.default,{user:e.user,hideBorder:!0,leftAlign:!0,subtexts:e.user.wca_id?[e.user.wca_id]:[]})),r.createElement(a.A.Cell,null,e.start_date),r.createElement(a.A.Cell,null,e.end_date),r.createElement(a.A.Cell,null,e.metadata.ban_reason),r.createElement(a.A.Cell,null,e.metadata.scope),t&&r.createElement(a.A.Cell,null,r.createElement(o.A,{name:"edit",link:!0,onClick:()=>n({action:"edit",role:e})}))))))):r.createElement(i.A,{placeholder:!0,textAlign:"center"},r.createElement("p",null,"No Data to Show."))}},40117:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(77949),o=n(18397),i=n(1460),l=n(34622),s=n(43703),c=n(64417);const u=[!0,!1].map((e=>({value:e,text:i.Ay.t(`competitions.competition_form.choices.guests_enabled.${e.toString()}`)}))),d=["unclear","free","restricted"].map((e=>({key:e,value:e,text:i.Ay.t(`competitions.competition_form.choices.registration.guest_entry_status.${e}`)}))),m=["not_accepted","always","unpaid"].map((e=>({key:e,value:e,text:i.Ay.t(`competitions.competition_form.choices.registration.competitor_can_cancel.${e}`)})));function p(){const{entryFees:e,registration:t}=(0,s.useFormObject)(),{registration:{waitingListDeadlineDate:n}}=(0,s.useFormInitialObject)(),i=0===(null===e||void 0===e?void 0:e.guestEntryFee),p=i&&"restricted"===(null===t||void 0===t?void 0:t.guestEntryStatus),f=(0,r.useMemo)((()=>(0,c.Mt)(n,"UTC")),[n]);return r.createElement(l.default,{section:"registration"},r.createElement(a.InputDate,{id:"waitingListDeadlineDate",dateTime:!0,required:!0,ignoreDisabled:f}),r.createElement(a.InputDate,{id:"eventChangeDeadlineDate",dateTime:!0,required:!0,ignoreDisabled:!0}),r.createElement(a.InputBooleanSelect,{id:"allowOnTheSpot",required:!0,ignoreDisabled:!0}),r.createElement(a.InputSelect,{id:"competitorCanCancel",options:m,required:!0,ignoreDisabled:!0}),r.createElement(a.InputBooleanSelect,{id:"allowSelfEdits",required:!0,ignoreDisabled:!0}),r.createElement(a.InputRadio,{id:"guestsEnabled",options:u}),r.createElement(o.default,{showIf:i},r.createElement(a.InputSelect,{id:"guestEntryStatus",options:d,required:i})),r.createElement(o.default,{showIf:p},r.createElement(a.InputNumber,{id:"guestsPerRegistration",required:p})),r.createElement(a.InputMarkdown,{id:"extraRequirements"}),r.createElement(a.InputBoolean,{id:"forceComment",ignoreDisabled:!0}))}},40573:function(e,t,n){"use strict";n.r(t),n.d(t,{InlineEditForm:function(){return s}});var r=n(96540),a=n(76283),o=n(66048),i=n(24943),l=n(10265);function s({dataItem:e,sync:t}){return r.createElement(l.default,{result:e,sync:t})}t.default=function({id:e}){return r.createElement(a.default,{id:e,dataUrlFn:o.Vm,dataType:"result",DisplayTable:i.default,EditForm:s})}},40823:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o(e){if(0===e.length)return[];const{data:t}=await(0,r.o)(a.VB.users.show,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e})});return t.users}},40914:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({avatarId:e,action:t,rejectionGuidelines:n,rejectionReason:o}){return(0,r.V)(a.Iy,{method:"POST",body:JSON.stringify({avatar_id:e,avatar_action:t,rejection_guidelines:n,rejection_reason:o}),headers:{"Content-type":"application/json"}})}},41798:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(2543),i=n.n(o),l=n(51319),s=n(278);t.default=function({value:e,onChange:t,label:n,disabled:o,TextFieldProps:c={}}){const u=(0,s.cK)(e),[d,m]=(0,r.useState)(u),[p,f]=(0,r.useState)(u);d!==u&&(f(u),m(u));const g=(0,r.useCallback)((e=>{const t=i().toInteger(e.target.value.replace(/\D/g,""))||l.fH;f(Math.min(99,t))}),[f]),E=(0,r.useCallback)((()=>{const e=(0,s.B1)(p);t(e),f(u)}),[t,p,f,u]);return r.createElement(a.A.Input,Object.assign({},c,{label:n,disabled:o,spellCheck:!1,value:(v=p,v===l.fH?"":v.toString()),onChange:g,onBlur:E}));var v}},41935:function(e,t,n){"use strict";n.r(t),n.d(t,{IdWcaSearch:function(){return g},default:function(){return E}});var r=n(96540),a=n(37865),o=n(47571),i=n(66048),l=n(65395),s=n(16523),c=n(7862),u=n(45567);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f=new a.E;function g({name:e,value:t,onChange:n,multiple:a=!0,disabled:d=!1,model:p,params:g,label:v,removeNoResultsMessage:y}){const A=a?t:[t].filter(Boolean),b=(0,r.useCallback)((e=>{switch(p){case s.default.user:return(0,i.Pc)(e);case s.default.person:return(0,i.HJ)(e);case s.default.competition:return(0,i.fP)(e);case s.default.userRole:return(0,i.gA)(e);default:throw new Error(`Invalid fetch type in IdWcaSearch component: ${p}`)}}),[p]),h=(0,r.useCallback)((e=>{switch(p){case s.default.user:return e.user;case s.default.person:return e.person;case s.default.competition:case s.default.userRole:return e;default:throw new Error(`Invalid conversion type in IdWcaSearch component: ${p}`)}}),[p]),{data:_,isPending:w}=(0,o.E)({queries:A.map((e=>({queryKey:[p,e],queryFn:()=>(0,u.o)(b(e)),select:e=>(0,l.itemToOption)(h(e.data))}))),combine:e=>({data:e.map((e=>e.data)),isPending:e.some((e=>e.isPending))})},f),C=a?_:_[0],S=(0,r.useCallback)(((e,t)=>{const{value:r}=t,o=a?r.map((e=>e.id)):r.id,i=m(m({},t),{},{value:o});n(e,i)}),[n,a]);return w?r.createElement(c.default,null):r.createElement(E,{name:e,value:C,onChange:S,multiple:a,disabled:d,model:p,params:g,label:v,removeNoResultsMessage:y})}function E({name:e,value:t,onChange:n,multiple:a=!0,disabled:o=!1,model:c,params:u={},label:d,removeNoResultsMessage:p}){const f=(0,r.useCallback)((e=>{switch(c){case s.default.user:return u.adminSearch?`${(0,i.mk)(e)}&${new URLSearchParams(u).toString()}`:`${(0,i.Zx)(e)}&${new URLSearchParams(u).toString()}`;case s.default.person:return`${(0,i.p0)(e)}&${new URLSearchParams(u).toString()}`;case s.default.competition:return`${(0,i.rL)(e)}&${new URLSearchParams(u).toString()}`;case s.default.userRole:return i.VB.userRoles.search(e,u.groupType);default:throw new Error(`Invalid search type in WcaSearch component: ${c}`)}}),[c,u]),g=(0,r.useCallback)(((t,r)=>{n(t,m(m({},r),{},{name:e}))}),[n,e]);return r.createElement(l.default,{url:f,selectedValue:a?t||[]:t,onChange:g,multiple:a,disabled:o,placeholder:d,removeNoResultsMessage:p})}},42136:function(e,t,n){"use strict";n.r(t),n.d(t,{CompetitionsMap:function(){return g},DraggableMarker:function(){return m},StaticMarker:function(){return p}});var r=n(96540),a=n(14489),o=n(31111),i=n(66162),l=n(81344),s=n(74639),c=n(83615),u=n(92562);function d(e){const t=e||0;return Math.trunc(1e6*parseFloat(t))/1e6}function m({coords:e,setCoords:t,disabled:n=!1}){const o={lat:e[0],lng:e[1]};return r.createElement(a.p,{draggable:!n,position:o,icon:c.Z,eventHandlers:{dragend:e=>{const n=e.target.getLatLng(),r=[d(n.lat),d(n.lng)];t(e,r)}},autoPanOnFocus:!1})}function p({coords:e}){const t={lat:e[0],lng:e[1]};return r.createElement(a.p,{position:t,icon:c.Z})}function f({setCoords:e,setZoom:t}){const n=(0,o.ko)();return(0,r.useEffect)((()=>{const r=window.wca.createSearchInput(n);return n.addControl(r),n.on("geosearch/showlocation",(n=>{if(!n.location)return;const r=[n.location.y,n.location.x];e(n,r),t(11)})),()=>{n.removeControl(r)}}),[n,e,t]),null}function g({coords:e,setCoords:t,children:n,id:a}){const o=u.V,[c,d]=(0,r.useState)(8);return r.createElement(i.W,{id:a,center:e,zoom:c,zoomControl:!1,onzoomend:e=>d(e.target.zoom)},r.createElement(l.e,{url:o.url,attribution:o.attribution,maxZoom:19}),r.createElement(f,{setCoords:t,setZoom:d}),r.createElement(s.p,{position:"topright"}),n)}},42171:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(143),o=n(49608),i=n(4525);function l({dataItem:e,dataItems:t}){return r.createElement(o.default,{scramble:e,scrambles:t,adminMode:!1,singleRowOverride:!0})}t.default=function({dataItem:e}){return r.createElement(a.default,{dataItem:e,HeaderComponent:i.default,RowComponent:l,moreClassNames:"event-scrambles"})}},42242:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(73574),o=n(60654),i=n(66048);t.default=function({eventId:e,competitionId:t,response:n}){return r.createElement(r.Fragment,null,r.createElement(a.A,{positive:!0,header:r.createElement(r.Fragment,null,"Action performed for:"," ",r.createElement("a",{href:(0,i.No)(t),target:"_blank",rel:"noreferrer"},t)),list:n.messages}),r.createElement(a.A,{positive:!0},r.createElement("div",null,"Please make sure to:",r.createElement(o.A,{ordered:!0},r.createElement(o.A.Item,null,r.createElement("a",{href:(0,i.yr)(t),target:"_blank",rel:"noreferrer"},"Check Competition Validators"))),"You can also"," ",r.createElement("a",{href:(0,i.ZY)(t,e)},"go back to the scrambles"),".")))}},42842:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({cronjobName:e}){const{data:t}=await(0,r.o)(a.v9.cronjob.reset(e),{method:"POST",headers:{"Content-Type":"application/json"}});return t}},42955:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(96540),a=n(2543),o=n.n(a),i=n(73574),l=n(31746),s=n(60654),c=n(83760),u=n(1460),d=n(66048);const m=e=>{switch(e){case"infos":return"Information for";case"warnings":return"Warnings detected in";case"errors":return"Errors detected in";default:return`Please contact WST because an unknown type (${e}) was given in`}},p=e=>{switch(e){case"warnings":return"Please pay attention to the warnings below:";case"errors":return"Please fix the errors below:";default:return""}};function f({validations:e,showCompetitionNameOnOutput:t,type:n,hasResults:a}){const u=(0,r.useMemo)((()=>o().groupBy(e,"kind")),[e]);return 0===e.length?a?r.createElement("p",null,`No ${n} detected in the results.`):r.createElement("p",null,"No results for the competition yet."):r.createElement(r.Fragment,null,r.createElement("p",null,p(n)),Object.entries(u).map((([e,a])=>r.createElement(i.A,{key:e,error:"errors"===n,warning:"warnings"===n,info:"infos"===n},r.createElement(l.A,{as:"h5"},`${m(n)} ${e}`),r.createElement(s.A,{bulleted:!0},a.map((n=>r.createElement(c.A,{key:n.id},r.createElement(g,{validationData:n,group:e,showCompetitionNameOnOutput:t})))))))))}function g({validationData:e,group:t,showCompetitionNameOnOutput:n}){return r.createElement(r.Fragment,null,n&&r.createElement(r.Fragment,null,"[",r.createElement("a",{href:(0,d.No)(e.competition_id)},e.competition_id),"]"," "),r.createElement(r.Fragment,null,u.Ay.t(`validators.${t}.${e.id}`,e.args)))}},43036:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(73574),o=n(3487),i=n(1460);function l({scrollToMeIsShown:e,onScrollToMeClick:t={},userRankIsShown:n,userRank:l="-",registrationCount:s,newcomerCount:c,returnerCount:u}){return r.createElement(a.A,null,e&&r.createElement(o.A,{size:"mini",onClick:t},i.Ay.t("competitions.registration_v2.list.psychsheets.show_me"))," ",n&&`${i.Ay.t("competitions.registration_v2.list.psychsheets.rank",{userPosition:l})}; `,`${c} ${i.Ay.t("registrations.registration_info_people.newcomer",{count:c})} + ${u} ${i.Ay.t("registrations.registration_info_people.returner",{count:u})} = ${s} ${i.Ay.t("registrations.registration_info_people.person",{count:s})}`)}},43601:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(31746),o=n(73574),i=n(60654),l=n(97286),s=n(66048),c=n(83995),u=n(7862),d=n(80405),m=n(11217),p=n(74809);const f=c.Xp.ComputeAuxiliaryData;function g(){const{data:e,isFetching:t,isError:n}=(0,l.I)({queryKey:["cronjob-details",f],queryFn:()=>(0,m.default)({cronjobName:f})});return t?r.createElement(u.default,null):n?r.createElement(d.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,"Check records"),r.createElement(E,{lastCadRunTime:(null===e||void 0===e?void 0:e.successful_run_start)||"never"}),r.createElement(p.default,null))}function E({lastCadRunTime:e}){return r.createElement(r.Fragment,null,r.createElement("p",null,"This computes regional record markers for all successful results (value>0). If a result has a stored or computed regional record marker, it is displayed. If the two markers differ, they're shown in red/green."),r.createElement("p",null,"Only strictly previous competitions (other.",r.createElement("b",null,"end"),"Date < this.",r.createElement("b",null,"start"),"Date) are used to compare, not overlapping competitions. Thus I might wrongfully compute a too good record status (because a result was actually beaten earlier in an overlapping competition) but I should never wrongfully compute a too bad record status."),r.createElement("p",null,"Inside the same competition, results are sorted first by round, then by value, and then they're declared records on a first-come-first-served basis. This results in the records-are-updated-at-the-end-of-each-round rule you requested."),r.createElement("p",null,"A result does not need to beat another to get a certain record status, equaling is good enough."),r.createElement("p",null,"If you choose 'All' both for event and competition, I only show the differences (otherwise the page would be huge)."),r.createElement(o.A,{warning:!0},r.createElement(i.A,{bulleted:!0},r.createElement(i.A.Item,null,"This script relies on auxiliary tables which are computed as part of"," ",r.createElement("a",{href:(0,s.fy)(c.yv.computeAuxiliaryData),target:"_blank",rel:"noreferrer"},"running CAD"),"."),r.createElement(i.A.Item,null,r.createElement("b",null,"The detected records will not automatically be up-to-date with the"," ",r.createElement("code",null,"Results")," ","table by default.")),r.createElement(i.A.Item,null,`Instead, they are up to date with CAD (last successful run: ${e})`))))}},43633:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(73574);t.default=function({response:e}){return r.createElement(r.Fragment,null,e.messages&&r.createElement(a.A,{positive:!0,header:"Save was successful!",list:e.messages}),e.errors&&r.createElement(a.A,{error:!0,list:e.errors,header:"Something went wrong when saving the scramble."}))}},43703:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f},useFormContext:function(){return g},useFormDispatch:function(){return E},useFormErrorHandler:function(){return b},useFormInitialObject:function(){return y},useFormInitialValue:function(){return w},useFormObject:function(){return v},useFormObjectSection:function(){return h},useFormObjectState:function(){return S},useFormSuccessHandler:function(){return A},useFormUpdateAction:function(){return C},useFormValue:function(){return _},useHasFormValueChanged:function(){return I}});var r=n(96540),a=n(2543),o=n.n(a),i=n(81934),l=n(14133),s=n(14487);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(0,r.createContext)(null),p=e=>({object:e,initialObject:e,errors:null});function f({children:e,initialObject:t,globalDisabled:n=!1,globalAllowIgnoreDisabled:a=!0}){const[c,d]=(0,r.useReducer)(l.default,t,p),f=(0,r.useMemo)((()=>!o().isEqual(c.object,c.initialObject)),[c.object,c.initialObject]),g=(0,r.useCallback)(((e=void 0)=>{d((0,i.changesSaved)(e)),d((0,i.setErrors)(null))}),[d]),E=(0,r.useCallback)((e=>{if(void 0===e.json||void 0===e.response)throw e;if(void 0!==e.json.error)if(422===e.response.status&&void 0!==e.json.schema){const t={[e.json.jsonProperty]:[`Did not match the expected format: ${JSON.stringify(e.json.schema)}`]};d((0,i.setErrors)(t))}else{const t=e.json.json_property||"error",n={[t]:[e.json.error]};d((0,i.setErrors)(n))}else d((0,i.setErrors)(e.json))}),[d]),v=(0,r.useMemo)((()=>u(u({},c),{},{unsavedChanges:f,dispatch:d,onSuccess:g,onError:E})),[c,f,d,g,E]);return r.createElement(m.Provider,{value:v},r.createElement(s.default,{disabled:n,allowIgnoreDisabled:a},e))}const g=()=>(0,r.useContext)(m),E=()=>g().dispatch,v=()=>g().object,y=()=>g().initialObject,A=()=>g().onSuccess,b=()=>g().onError,h=()=>{const e=v(),t=(0,s.useSections)();return(0,s.readValueRecursive)(e,t)},_=(e,t=[])=>{const n=v(),a=(0,s.readValueRecursive)(n,t);return(0,r.useMemo)((()=>a[e]),[a,e])},w=(e,t=[])=>{const n=y(),a=(0,s.readValueRecursive)(n,t);return(0,r.useMemo)((()=>a[e]),[a,e])},C=()=>{const e=E();return(0,r.useCallback)(((t,n,r=[])=>e((0,i.updateFormValue)(t,n,r))),[e])},S=(e,t=[])=>{const n=v(),a=(0,s.readValueRecursive)(n,t)[e],o=C();return[a,(0,r.useCallback)((n=>o(e,n,t)),[o,e,t])]},I=(e,t=[])=>{const n=_(e,t),r=w(e,t);return!o().isEqual(n,r)}},43723:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(53959),o=n(1460),i=n(60301);function l({roleList:e}){return r.createElement(a.A,{unstackable:!0},r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,null,o.Ay.t("delegates_page.table.name")),r.createElement(a.A.HeaderCell,null,o.Ay.t("delegates_page.table.role")))),r.createElement(a.A.Body,null,e.map((e=>r.createElement(a.A.Row,{key:e.user.id},r.createElement(a.A.Cell,null,r.createElement(i.default,{user:e.user,hideBorder:!0,leftAlign:!0,subtexts:[e.end_date?`${e.start_date} - ${e.end_date}`:""]})),r.createElement(a.A.Cell,null,o.Ay.t(`enums.user_roles.status.${e.group.group_type}.${e.metadata.status}`)))))))}},44153:function(e,t,n){"use strict";n.r(t),n.d(t,{RegionsDetailView:function(){return p},default:function(){return f}});var r=n(96540),a=n(31746),o=n(21295),i=n(91283),l=n(79519),s=n(66048),c=n(83995),u=n(80405),d=n(7862),m=n(61281);function p({regions:e}){const[t,n]=(0,i.A)(0),l=(0,r.useMemo)((()=>e.map(((e,t)=>({key:e.id,text:e.name,value:t})))),[e]);return r.createElement(r.Fragment,null,r.createElement(a.A,null,"Regions"),r.createElement("div",null,r.createElement(o.A,{options:l,value:t,onChange:n})),r.createElement(m.default,{group:e[t]}))}function f({loggedInUserId:e}){const{data:t,loading:n,error:a}=(0,l.A)(s.VB.userRoles.list({userId:e,isActive:!0,isGroupHidden:!1,status:c.r$.senior_delegate,groupType:c.Hn.delegate_region},"groupName"));return n?r.createElement(d.default,null):a?r.createElement(u.default,null):0===t.length?r.createElement("p",null,"You cannot manage any regions."):r.createElement(p,{regions:t.map((e=>e.group))})}},44181:function(e,t,n){"use strict";n.r(t),n.d(t,{Records:function(){return v},default:function(){return g}});var r=n(96540),a=n(27089),o=n(95522),i=n(66048),l=n(32194),s=n(14655);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={SET_EVENT:"SET_EVENT",SET_REGION:"SET_REGION",SET_GENDER:"SET_GENDER",SET_SHOW:"SET_SHOW"};function p(e){const t=new URL(e).searchParams,n=t.get("region")||"world",r=t.get("gender")||"All",a=t.get("show")||"mixed";return{event:t.get("event_id"),region:n,gender:r,show:a}}function f(e,t){switch(t.type){case m.SET_EVENT:return u(u({},e),{},{event:t.payload});case m.SET_REGION:return u(u({},e),{},{region:t.payload});case m.SET_GENDER:return u(u({},e),{},{gender:t.payload});case m.SET_SHOW:return u(u({},e),{},{show:t.payload});default:throw new Error(`Unhandled action type: ${t.type}`)}}function g(){return r.createElement(o.A,null,r.createElement(v,null))}const E=["mixed","slim","separate","history","mixed history"];function v(){const[e,t]=(0,r.useReducer)(f,window.location.href,p),n=(0,r.useMemo)((()=>({setEvent:e=>t({type:m.SET_EVENT,payload:e}),setRegion:e=>t({type:m.SET_REGION,payload:e}),setGender:e=>t({type:m.SET_GENDER,payload:e}),setShow:e=>t({type:m.SET_SHOW,payload:e})})),[t]),{event:o,region:c,gender:u,show:d}=e;return(0,r.useEffect)((()=>{window.history.replaceState(null,"",(0,i.SH)(o,c,u,d))}),[o,c,u,d]),r.createElement(a.A,{fluid:!0},r.createElement(l.default,{filterState:e,filterActions:n,clearEventIsAllowed:!0,showCategories:E}),r.createElement(s.default,{filterState:e}))}},44283:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(73574),o=n(5074),i=n(95472),l=n(3487),s=n(1460),c=n(57598),u=n(1026),d=n(43703);function m({competitionInfo:e}){return e["registration_full_and_accepted?"]?r.createElement(a.A,{warning:!0},r.createElement(u.default,{i18nKey:"registrations.registration_full",options:{competitor_limit:e.competitor_limit}})):e["registration_full?"]?r.createElement(a.A,{warning:!0},r.createElement(u.default,{i18nKey:"registrations.registration_full_include_waiting_list",options:{competitor_limit:e.competitor_limit}})):null}function p({nextStep:e,competitionInfo:t}){const[n,u]=(0,d.useFormObjectState)("infoAcknowledged",["regRequirements"]),p=(0,c.O)(u);return r.createElement(o.A,{basic:!0},r.createElement(i.A,{onSubmit:e,warning:t["registration_full?"]},r.createElement(m,{competitionInfo:t}),r.createElement(a.A,{positive:!0},r.createElement(i.A.Checkbox,{id:"regRequirementsCheckbox",checked:n,onClick:p,label:s.Ay.t("competitions.registration_v2.requirements.acknowledgement"),required:!0})),r.createElement(l.A,{disabled:!n,type:"submit",positive:!0},s.Ay.t("competitions.registration_v2.requirements.next_step"))))}},44296:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(96540),a=n(5074),o=n(95472),i=n(73574),l=n(31746),s=n(35907),c=n(3487),u=n(97665),d=n(89407),m=n(52322),p=n(82664),f=n(28782),g=n(66048),E=n(58894),v=n(1460),y=n(14391),A=n(64417),b=n(43703),h=n(91283),_=n(72401),w=n(83995),C=n(710);function S({registrationId:e,competitor:t,competitionInfo:n}){var S;const I=(0,d.wA)(),P=(0,u.jE)(),[O,R]=(0,b.useFormObjectState)("comment",["competing"]),k=(0,h.J)(R),[j,T]=(0,b.useFormObjectState)("admin_comment",["competing"]),x=(0,h.J)(T),[D,F]=(0,b.useFormObjectState)("guests"),M=(0,h.J)(F,!0),[L,N]=(0,b.useFormObjectState)("event_ids",["competing"]),$=(0,_._)(L,N,w.uE),[H,V]=(0,b.useFormObjectState)("registration_status",["competing"]),B=(0,h.J)(V),U=(0,E.S)(),q=(0,b.useFormSuccessHandler)(),{mutate:W,isPending:z}=(0,C.useUpdateRegistrationMutation)(n,t),G=(0,b.useHasFormValueChanged)("event_ids",["competing"]),K=(0,b.useHasFormValueChanged)("comment",["competing"]),Z=(0,b.useHasFormValueChanged)("admin_comment",["competing"]),Y=(0,b.useHasFormValueChanged)("registration_status",["competing"]),X=(0,b.useHasFormValueChanged)("guests"),Q=G||K||Z||Y||X,J=O||!n.force_comment_in_registration,ee=null!==(S=n.events_per_registration_limit)&&void 0!==S?S:1/0,te=$.size>0&&$.size<=ee,ne=(0,r.useCallback)((()=>{if(Q)if(J)if(te){const r={user_id:t.id,competition_id:n.id,competing:{comment:K?O:void 0,event_ids:G?$.asArray:void 0,admin_comment:Z?j:void 0,status:Y?H:void 0},guests:X?D:void 0};U({content:v.Ay.t("competitions.registration_v2.update.organizer_update_confirm")}).then((()=>{W({registrationId:e,payload:r},{onSuccess:t=>{I((0,m.showMessage)("registrations.flash.updated","positive")),q(t.registration),P.refetchQueries({queryKey:["registration-history",e],exact:!0}),P.refetchQueries({queryKey:["registration-payments",e],exact:!0})}})})).catch((()=>{}))}else I((0,m.showMessage)(ee===1/0?"registrations.errors.must_register":"registrations.errors.exceeds_event_limit.other","negative"));else I((0,m.showMessage)("registrations.errors.cannot_register_without_comment","negative"));else I((0,m.showMessage)("competitions.registration_v2.update.no_changes","basic"))}),[Q,U,J,te,I,ee,e,t.id,n.id,G,K,Z,Y,X,W,$.asArray,O,j,H,D,q,P]),re=Boolean(n.event_change_deadline_date)&&(0,A.Pc)(n.event_change_deadline_date);return r.createElement(a.A,{padded:!0,attached:!0,loading:z},r.createElement(o.A,{onSubmit:ne},re&&r.createElement(i.A,null,v.Ay.t("registrations.errors.edit_deadline_passed")),r.createElement(l.A,null,t.name," (",t.wca_id?r.createElement("a",{href:(0,g.hs)(t.wca_id),target:"_blank",rel:"noreferrer",className:"hide-new-window-icon"},t.wca_id):v.Ay.t("registrations.registration_info_people.newcomer.one"),") ",r.createElement("a",{href:(0,g.lY)(t.id),target:"_blank",rel:"noreferrer",className:"hide-new-window-icon"},r.createElement(s.A,{name:"edit"}))),r.createElement(o.A.Field,{required:!0,error:0===$.size},r.createElement(p.default,{id:"event-selection",eventList:n.event_ids,selectedEvents:$.asArray,onEventClick:$.toggle,onAllClick:()=>$.update(n.event_ids),onClearClick:$.clear,maxEvents:ee,shouldErrorOnEmpty:!0})),r.createElement(o.A.TextArea,{label:v.Ay.t("activerecord.attributes.registration.comments"),id:"competitor-comment",maxLength:240,value:O,onChange:k}),r.createElement(o.A.TextArea,{label:v.Ay.t("activerecord.attributes.registration.administrative_notes"),id:"admin-comment",maxLength:240,value:j,onChange:x}),r.createElement(l.A,{as:"h6"},v.Ay.t("activerecord.attributes.registration.status")),r.createElement(o.A.Group,{inline:!0},r.createElement(o.A.Radio,{id:"radio-status-pending",label:v.Ay.t("competitions.registration_v2.update.pending"),name:"regStatusRadioGroup",value:"pending",checked:"pending"===H,onChange:B}),r.createElement(o.A.Radio,{id:"radio-status-accepted",label:v.Ay.t("competitions.registration_v2.update.approved"),name:"regStatusRadioGroup",value:"accepted",checked:"accepted"===H,onChange:B}),r.createElement(o.A.Radio,{id:"radio-status-waiting-list",label:v.Ay.t("competitions.registration_v2.update.waitlist"),name:"regStatusRadioGroup",value:"waiting_list",checked:"waiting_list"===H,onChange:B}),r.createElement(o.A.Radio,{id:"radio-status-cancelled",label:v.Ay.t("competitions.registration_v2.update.cancelled"),name:"regStatusRadioGroup",value:"cancelled",checked:"cancelled"===H,onChange:B}),r.createElement(o.A.Radio,{id:"radio-status-rejected",label:v.Ay.t("competitions.registration_v2.update.rejected"),name:"regStatusRadioGroup",value:"rejected",disabled:re,checked:"rejected"===H,onChange:B})),r.createElement(o.A.Input,{label:v.Ay.t("activerecord.attributes.registration.guests"),id:"guest-dropdown",type:"number",min:0,max:99,value:D,onChange:M}),r.createElement(c.A,{color:"blue",disabled:z||!Q},v.Ay.t("registrations.update"))),n["using_payment_integrations?"]&&r.createElement(f.default,{competitionId:n.id,registrationId:e}),r.createElement(y.default,{registrationId:e}))}},44721:function(e,t,n){"use strict";n.r(t),n.d(t,{attemptResultColumn:function(){return f},competitionColumn:function(){return d},eventColumn:function(){return E},personColumn:function(){return g},rankColumn:function(){return v},regionColumn:function(){return m},representingColumn:function(){return p},resultsFiveWideColumn:function(){return u}});var r=n(96540),a=n(2543),o=n.n(a),i=n(53959),l=n(51319),s=n(1460),c=n(62375);const u={accessorKey:"result",header:s.Ay.t("results.table_elements.solves"),colSpan:5,rendersOwnCells:!0,cell:({getValue:e})=>{const t=e();if(!t)return r.createElement(i.A.Cell,null);const[n,a,l]=function(e){const t=[null===e||void 0===e?void 0:e.value1,null===e||void 0===e?void 0:e.value2,null===e||void 0===e?void 0:e.value3,null===e||void 0===e?void 0:e.value4,null===e||void 0===e?void 0:e.value5].filter((e=>void 0!==e)),n=t.filter((e=>0!==e)),r=n.filter((e=>e>0)),a=n.filter((e=>e<0)),i=o().min(a)||o().max(n),l=o().min(r),s=t.indexOf(l),c=t.indexOf(i);return[t,s,c]}(t);return r.createElement(c.AttemptsCells,{attempts:n,bestResultIndex:a,worstResultIndex:l,eventId:t.event_id})}},d={accessorKey:"competition",header:s.Ay.t("results.table_elements.competition"),cell:({getValue:e})=>r.createElement(c.CompetitionCell,{competition:e()})},m={accessorKey:"country",header:s.Ay.t("results.table_elements.region"),cell:({getValue:e})=>r.createElement(c.CountryCell,{country:e()})},p={accessorKey:"country",header:s.Ay.t("results.table_elements.region"),cell:({getValue:e})=>r.createElement(c.CountryCell,{country:e()})},f={accessorKey:"result.value",header:s.Ay.t("results.table_elements.result"),cell:({row:e,getValue:t})=>(0,l.U2)(t(),e.original.result.event_id)},g={accessorKey:"result.person_name",header:s.Ay.t("results.table_elements.name"),cell:({row:e,getValue:t})=>r.createElement(c.PersonCell,{personId:e.original.result.person_id,personName:t()})},E={accessorKey:"result.event_id",header:s.Ay.t("results.table_elements.event"),cell:({getValue:e})=>r.createElement(c.EventCell,{eventId:e()})},v={accessorKey:"rank",header:"#",textAlign:"center",cell:({getValue:e})=>e()}},45567:function(e,t,n){"use strict";n.d(t,{V:function(){return a},o:function(){return o}});var r=n(98753);function a(e,t){const n=t||{};n.headers||(n.headers={});const r=document.querySelector("meta[name=csrf-token]");return r&&(n.headers["X-CSRF-Token"]=r.content),fetch(e,n)}function o(e,t={}){return a(e,t).then((e=>e.json().then((t=>{if(!e.ok)throw new r.A(`${e.status}: ${e.statusText}\n${t.error}`,e,t);return{data:t,headers:e.headers}}))))}},45743:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(37700),a=n(18858),o=n(62692),i=n(21531),l=n(83995);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={[r.ChangesSaved]:e=>c(c({},e),{},{initialWcifSchedule:e.wcifSchedule}),[r.AddActivity]:(e,{payload:t})=>c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((n=>c(c({},n),{},{rooms:n.rooms.map((n=>n.id===t.roomId?c(c({},n),{},{activities:[...n.activities,c(c({},t.wcifActivity),{},{id:(0,a.MN)(e.wcifSchedule)})]}):n))})))})}),[r.EditActivity]:(e,{payload:t})=>{const n=(0,i.w1)(e.wcifSchedule,t.activityId);return c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((e=>c(c({},e),{},{rooms:e.rooms.map((e=>c(c({},e),{},{activities:e.activities.map((e=>e.id===n.id||t.updateMatches&&(0,i.a7)(e,n)?c(c({},e),{},{[t.key]:t.value}):e))})))})))})})},[r.RemoveActivity]:(e,{payload:t})=>{const n=(0,i.w1)(e.wcifSchedule,t.activityId);return c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((e=>c(c({},e),{},{rooms:e.rooms.map((e=>c(c({},e),{},{activities:e.activities.filter((e=>e.id!==t.activityId&&(!t.updateMatches||!(0,i.a7)(e,n))))})))})))})})},[r.MoveActivity]:(e,{payload:t})=>{const n=(0,i.w1)(e.wcifSchedule,t.activityId);return c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((e=>c(c({},e),{},{rooms:e.rooms.map((e=>c(c({},e),{},{activities:e.activities.map((e=>e.id===n.id||t.updateMatches&&(0,i.a7)(e,n)?(0,o.moveActivityByDuration)(e,t.isoDuration):e))})))})))})})},[r.ScaleActivity]:(e,{payload:t})=>{const n=(0,i.w1)(e.wcifSchedule,t.activityId);return c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((e=>c(c({},e),{},{rooms:e.rooms.map((e=>c(c({},e),{},{activities:e.activities.map((e=>e.id===n.id||t.updateMatches&&(0,i.a7)(e,n)?(0,o.scaleActivitiesByDuration)(e,t.isoDeltaStart,t.isoDeltaEnd):e))})))})))})})},[r.EditVenue]:(e,{payload:t})=>c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((e=>e.id===t.venueId?c(c({},e),{},{[t.propertyKey]:t.newProperty,rooms:"timezone"===t.propertyKey?e.rooms.map((n=>c(c({},n),{},{activities:n.activities.map((n=>(0,o.changeActivityTimezone)(n,e.timezone,t.newProperty)))}))):e.rooms}):e))})}),[r.EditRoom]:(e,{payload:t})=>c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((e=>c(c({},e),{},{rooms:e.rooms.map((e=>e.id===t.roomId?c(c({},e),{},{[t.propertyKey]:t.newProperty}):e))})))})}),[r.RemoveVenue]:(e,{payload:t})=>c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.filter((e=>e.id!==t.venueId))})}),[r.RemoveRoom]:(e,{payload:t})=>c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((e=>c(c({},e),{},{rooms:e.rooms.filter((e=>e.id!==t.roomId))})))})}),[r.AddVenue]:e=>c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:[...e.wcifSchedule.venues,{id:(0,a.wo)(e.wcifSchedule),latitudeMicrodegrees:0,longitudeMicrodegrees:0,rooms:[],extensions:[]}]})}),[r.AddRoom]:(e,{payload:t})=>c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((n=>n.id===t.venueId?c(c({},n),{},{rooms:[...n.rooms,{id:(0,a.c4)(e.wcifSchedule),color:l.AL,activities:[],extensions:[]}]}):n))})}),[r.CopyVenue]:(e,{payload:t})=>{const n=e.wcifSchedule.venues.find((({id:e})=>e===t.venueId));return n?c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:[...e.wcifSchedule.venues,c(c({},(0,a.LS)(e.wcifSchedule,n)),{},{name:`Copy of ${n.name}`})]})}):e},[r.CopyRoom]:(e,{payload:t})=>{const n=(0,i.tv)(e.wcifSchedule,t.roomId);if(!n)return e;const r=n.rooms.find((({id:e})=>e===t.roomId));return r?c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((t=>t.id===n.id?c(c({},t),{},{rooms:[...t.rooms,c(c({},(0,a.BZ)(e.wcifSchedule,r)),{},{name:`Copy of ${r.name}`})]}):t))})}):e},[r.CopyRoomActivities]:(e,{payload:t})=>{const{sourceRoomId:n,targetRoomId:r}=t,o=(0,i.aL)(e.wcifSchedule,n).activities;if(0===o.length)return e;const l=o.map((t=>(0,a.lW)(e.wcifSchedule,t))),s=(0,i.tv)(e.wcifSchedule,r).id;return c(c({},e),{},{wcifSchedule:c(c({},e.wcifSchedule),{},{venues:e.wcifSchedule.venues.map((e=>e.id===s?c(c({},e),{},{rooms:e.rooms.map((e=>e.id===r?c(c({},e),{},{activities:[...e.activities,...l]}):e))}):e))})})}};function m(e,t){const n=d[t.type];return n?n(e,t):e}},45760:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(31746),o=n(3487),i=n(73574),l=n(97665),s=n(97286),c=n(57097),u=n(45567),d=n(66048),m=n(51122);function p({competitionId:e,initialScrambleFiles:t,addScrambleFile:n,removeScrambleFile:p}){const f=(0,r.useRef)(),g=(0,l.jE)(),[E,v]=(0,r.useState)(null),{data:y,isFetching:A,refetch:b}=(0,s.I)({queryKey:["scramble-files",e],queryFn:()=>async function(e){const{data:t}=await(0,u.o)((0,d.B7)(e));return t}(e),initialData:t,refetchOnMount:!0}),{mutateAsync:h,isPending:_}=(0,c.n)({mutationFn:t=>async function(e,t){const n=new FormData;n.append("tnoodle[json]",t);const{data:r}=await(0,u.o)((0,d.B7)(e),{method:"POST",body:n});return r}(e,t),onSuccess:t=>{g.setQueryData(["scramble-files",e],(e=>[...e.filter((e=>e.id!==t.id)),t])),n(t)},onError:e=>v(e.message)}),w=(0,r.useCallback)((()=>{f.current&&(f.current.value=null)}),[f]),C=(0,r.useCallback)((e=>{const t=Array.from(e.target.files).map((e=>h(e)));return Promise.all(t).finally(w)}),[h,w]);return r.createElement(r.Fragment,null,r.createElement(a.A,null,"Uploaded JSON files:"," ",null===y||void 0===y?void 0:y.length," ",r.createElement(o.A.Group,{floated:"right"},r.createElement(o.A,{positive:!0,icon:"plus",content:"Upload from TNoodle",onClick:()=>{var e;null===(e=f.current)||void 0===e||e.click()},loading:_,disabled:_}),r.createElement(o.A,{primary:!0,icon:"refresh",content:"Refresh",onClick:b,loading:A,disabled:A})),r.createElement(a.A.Subheader,null,"Scrambles are assigned automatically when you upload a TNoodle JSON file. If there is a discrepancy between the number of scramble sets in the JSON file and the number of groups in the round you can manually assign them below.")),E&&r.createElement(i.A,{negative:!0,onDismiss:()=>v(null)},E),r.createElement("input",{type:"file",ref:f,accept:".json",multiple:!0,style:{display:"none"},onChange:C}),r.createElement(m.default,{scrambleFiles:y,isFetching:A,removeScrambleFile:p}))}},46017:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(97665),o=n(37865),i=n(11554);function l({competitionInfo:e,userId:t}){return r.createElement(a.Ht,{client:new o.E},r.createElement(i.default,{competitionInfo:e,userId:t}))}},46082:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(72220),o=n(54076);t.default=function({index:e,setState:t,attempt:n,eventId:i}){const l=(0,o.A)(t,`attempts[${e}]`);return r.createElement(a.default,{eventId:i,label:`Attempt ${e+1}`,initialValue:n,value:n,onChange:l})}},46756:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(96540),a=n(82664);function o({eventList:e,selectedEvent:t,onEventClick:n,onClearClick:o}){return r.createElement(a.default,{id:"event-selection",eventList:e,selectedEvents:[t].filter(Boolean),onEventClick:n,hideAllButton:!0,hideClearButton:!t,onClearClick:o,showBreakBeforeButtons:!1})}},46882:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(96540);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){const[e,t]=(0,r.useState)(Object.fromEntries(new URLSearchParams(window.location.search)));(0,r.useEffect)((()=>{const t=new URLSearchParams(e).toString();(window.location.search.startsWith("?")?window.location.search.split("?")[1]:window.location.search)!==t&&(window.location.search=t)}),[e]);const n=(0,r.useCallback)(((n,r)=>{t(o(o({},e),{},{[n]:r}))}),[e]);return[e,n]}},46989:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(96540),a=n(5074),o=n(1489),i=n(3487),l=n(31746),s=n(97665),c=n(97286),u=n(57097),d=n(83995),m=n(95522),p=n(59731),f=n(65119),g=n(12515),E=n(10054),v=n(66048),y=n(50057),A=n(83811);function b({roundId:e,eventId:t,competitionId:n,competitors:a}){return r.createElement(m.A,null,r.createElement(_,{competitionId:n,roundId:e,eventId:t,competitors:a}))}function h(e){return Array(e).fill(0)}function _({competitionId:e,roundId:t,eventId:n,competitors:m}){const b=d.AZ.byId[n],_=b.recommendedFormat().expectedSolveCount,[w,C]=(0,r.useState)(""),[S,I]=(0,r.useState)(h(_)),[P,O]=(0,r.useState)(""),[R,k]=(0,r.useState)(""),j=(0,s.jE)(),{data:T,isLoading:x}=(0,c.I)({queryKey:(0,f.roundResultsKey)(t),queryFn:()=>(0,f.default)(t,e)}),D=(0,r.useCallback)(((e,{value:t})=>{C(t);const n=T.find((e=>e.registration_id===t));I(n?n.attempts.map((e=>e.result)):h(_))}),[T,_]),{mutate:F,isPending:M}=(0,u.n)({mutationFn:g.default,onSuccess:()=>{k("Results added successfully!"),C(""),I(h(_)),O(""),setTimeout((()=>k("")),3e3)},onError:()=>{O("Failed to submit results. Please try again.")}}),{mutate:L,isPending:N}=(0,u.n)({mutationFn:E.default,onSuccess:()=>{k("Results added successfully!"),C(""),I(h(_)),O(""),setTimeout((()=>k("")),3e3)},onError:()=>{O("Failed to submit results. Please try again.")}}),$=(0,r.useCallback)((e=>{j.setQueryData((0,f.roundResultsKey)(t),(t=>(0,f.insertNewResult)(t,e)))}),[j,t]);(0,A.default)(t,$);return r.createElement(a.A,{loading:x||M||N},r.createElement(o.A,null,r.createElement(o.A.Column,{width:4},r.createElement(y.default,{error:P,success:R,registrationId:w,handleAttemptChange:(e,t)=>{const n=[...S];n[e]=t,I(n)},handleSubmit:async()=>{w?T.find((e=>e.registration_id===w))?L({roundId:t,registrationId:w,competitionId:e,attempts:S}):F({roundId:t,registrationId:w,competitionId:e,attempts:S}):O("Please enter a user ID")},handleRegistrationIdChange:D,header:"Add Result",attempts:S,competitors:m,solveCount:_,eventId:n})),r.createElement(o.A.Column,{width:12},r.createElement(i.A.Group,{floated:"right"},r.createElement("a",{href:v.Hd.roundResults(e,t)},r.createElement(i.A,null,"Results")),r.createElement("a",{href:(0,v.j)(e)},r.createElement(i.A,null,"Add Competitor")),r.createElement("a",{href:v.Hd.roundResults(e,t)},r.createElement(i.A,null,"PDF")),r.createElement("a",{href:v.Hd.checkRoundResultsAdmin(e,t)},r.createElement(i.A,null,"Double Check"))),r.createElement(l.A,null,"Live Results"),r.createElement(p.default,{results:null!==T&&void 0!==T?T:[],event:b,competitors:m,competitionId:e,isAdmin:!0}))))}},47511:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(31746),o=n(53959),i=n(1460);function l(e,t){return"name"===e?t.replaceAll(" ","#"):t}function s({requestedChanges:e}){return r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h3"},"Requested changes"),r.createElement(o.A,null,r.createElement(o.A.Header,null,r.createElement(o.A.Row,null,r.createElement(o.A.HeaderCell,null,"Field"),r.createElement(o.A.HeaderCell,null,"Old value"),r.createElement(o.A.HeaderCell,null,"New value"))),r.createElement(o.A.Body,null,null===e||void 0===e?void 0:e.map((e=>r.createElement(o.A.Row,null,r.createElement(o.A.Cell,null,i.Ay.t(`activerecord.attributes.user.${e.field_name}`)),r.createElement(o.A.Cell,null,l(e.field_name,e.old_value)),r.createElement(o.A.Cell,null,l(e.field_name,e.new_value))))))))}},47545:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(96540),a=n(35907),o=n(73574),i=n(53959),l=n(24106),s=n(96285),c=n(1460),u=n(81922),d=n(66048),m=n(99251),p=n(1026),f=n(64417);const g=e=>{switch(e){case"pending":case"waiting_list":return r.createElement(a.A,{name:"hourglass"});case"accepted":return r.createElement(a.A,{name:"check circle"});case"cancelled":case"rejected":return r.createElement(a.A,{name:"trash"});default:return null}},E=e=>"not_yet_opened"===e.registration_status?c.Ay.t("competitions.index.tooltips.registration.opens_in",{relativeDate:s.c9.fromISO(e.registration_open).toRelative(f.AE.default)}):"past"===e.registration_status?c.Ay.t("competitions.index.tooltips.registration.closed",{relativeDate:s.c9.fromISO(e.start_date).toRelative(f.AE.roundUpAndAtBestDayPrecision)}):"full"===e.registration_status?c.Ay.t("competitions.index.tooltips.registration.full"):c.Ay.t("competitions.index.tooltips.registration.open"),v=e=>"not_yet_opened"===e.registration_status?r.createElement(a.A,{name:"clock",color:"blue"}):"past"===e.registration_status?r.createElement(a.A,{name:"user times",color:"red"}):"full"===e.registration_status?r.createElement(a.A,{className:"user clock",color:"orange"}):r.createElement(a.A,{name:"user plus",color:"green"});function y({competitions:e,permissions:t,registrationStatuses:n,shouldShowRegistrationStatus:a=!0,fallbackMessage:s=null}){const f="*"===t.can_view_delegate_report.scope||e.some((e=>t.can_view_delegate_report.scope.includes(e.id))),y="*"===t.can_administer_competitions.scope||e.some((e=>t.can_administer_competitions.scope.includes(e.id)));return 0===e.length&&s?r.createElement(o.A,{info:!0},r.createElement(p.default,{i18nKey:s.key,options:s.options})):r.createElement("div",{style:{overflowX:"auto"}},r.createElement(i.A,{basic:!0,unstackable:!0,compact:!0,singleLine:!0},r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,a&&r.createElement(i.A.HeaderCell,{collapsing:!0}),r.createElement(i.A.HeaderCell,null,c.Ay.t("competitions.competition_info.name")),r.createElement(i.A.HeaderCell,null,c.Ay.t("competitions.competition_info.location")),r.createElement(i.A.HeaderCell,null,c.Ay.t("competitions.competition_info.date")),r.createElement(i.A.HeaderCell,null),y&&r.createElement(r.Fragment,null,r.createElement(i.A.HeaderCell,null),r.createElement(i.A.HeaderCell,null)),f&&r.createElement(i.A.HeaderCell,null))),r.createElement(i.A.Body,null,e.map((e=>{const o="*"===t.can_administer_competitions.scope||t.can_administer_competitions.scope.includes(e.id);return r.createElement(l.A,{key:e.id,position:"top center",content:(0,u.nz)(e,n[e.id]),trigger:r.createElement(i.A.Row,{positive:e["confirmed?"]&&!e["cancelled?"],negative:!e["visible?"]},a&&r.createElement(l.A,{position:"top left",content:E(e),trigger:r.createElement(i.A.Cell,{collapsing:!0},v(e))}),r.createElement(m.NameTableCell,{competition:e}),r.createElement(m.LocationTableCell,{competition:e}),r.createElement(m.DateTableCell,{competition:e}),r.createElement(i.A.Cell,null,g(n[e.id])),o&&r.createElement(i.A.Cell,null,r.createElement("a",{href:(0,d.yl)(e.id)},c.Ay.t("competitions.my_competitions_table.edit"))),o?r.createElement(i.A.Cell,null,r.createElement("a",{href:(0,d.j)(e.id)},c.Ay.t("competitions.my_competitions_table.registrations"))):y&&r.createElement(r.Fragment,null,r.createElement(i.A.Cell,null),r.createElement(i.A.Cell,null)),f&&r.createElement(m.ReportTableCell,{competitionId:e.id,permissions:t}))})})))))}},47646:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(2543),i=n.n(o);t.default=function({value:e,onChange:t,label:n,disabled:o,TextFieldProps:l={}}){const[s,c]=(0,r.useState)(e),[u,d]=(0,r.useState)(e);s!==e&&(d(e),c(e));const m=(0,r.useCallback)((e=>{const t=i().toInteger(e.target.value.replace(/\D/g,""))||0;t<=99&&d(t)}),[d]),p=(0,r.useCallback)((()=>{t(u),d(e)}),[t,u,d,e]);return r.createElement(a.A.Input,Object.assign({},l,{fluid:!0,label:n,disabled:o,spellCheck:!1,value:(f=u,0===f?"":f.toString()),onChange:m,onBlur:p}));var f}},47737:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(87977),o=n(3487),i=n(75059),l=n(12845);t.default=({trigger:e,onPersonCreate:t,competitionId:n})=>{const[s,c]=(0,r.useState)(!1),{save:u,saving:d}=(0,l.A)(),m=(0,r.useCallback)((e=>{t(e),c(!1)}),[c]);return r.createElement(a.A,{dimmer:"blurring",closeIcon:!0,closeOnDimmerClick:!1,onClose:()=>c(!1),onOpen:()=>c(!0),open:s,size:"large",trigger:e},r.createElement(a.A.Header,null,"Create new person"),r.createElement(a.A.Content,null,r.createElement(a.A.Description,null,r.createElement(i.default,{save:u,saving:d,onCreate:m,competitionId:n}))),r.createElement(a.A.Actions,null,r.createElement(o.A,{negative:!0,onClick:()=>c(!1)},"Cancel")))}},48058:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(60654),o=n(73574),i=n(1460);const l=e=>Array.isArray(e)?e.length:e?Object.values(e).reduce(((e,t)=>e+l(t)),0):0;function s({errors:e,nestedKeys:t=[]}){if(!e)return null;const n=t.join(".");return Array.isArray(e)?r.createElement(a.A.List,null,e.map((e=>r.createElement(a.A.Item,{key:`${n}#${e}`},e)))):Object.keys(e).map((o=>{const i=e[o];return 0===l(i)?null:r.createElement(a.A.Item,{key:`${n}.${o}`},r.createElement(a.A.Content,null,r.createElement(a.A.Header,null,o.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,(e=>e.toUpperCase()))),r.createElement(s,{errors:i,nestedKeys:t.concat(o)})))}))}function c({errors:e}){return e?r.createElement(o.A,{negative:!0},r.createElement(o.A.Header,null,i.Ay.t("wca.errors.messages.form_error",{count:l(e)})),r.createElement(a.A,{bulleted:!0},r.createElement(s,{errors:e}))):null}},48060:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(87977),o=n(3487),i=n(97665),l=n(57097),s=n(88486),c=n(91283),u=n(51487),d=n(7862),m=n(80405);function p({open:e,onClose:t,ticketId:n,currentStakeholder:p}){const[f,g]=(0,c.A)(),E=(0,i.jE)(),{mutate:v,isLoading:y,isError:A}=(0,l.n)({mutationFn:u.default,onSuccess:e=>{g(""),E.setQueryData(["ticket-comments",n],(t=>[e,...t])),t()}});return y?r.createElement(d.default,null):A?r.createElement(m.default,null):r.createElement(a.A,{open:e,onClose:t},r.createElement(a.A.Header,null,"Add new comment"),r.createElement(a.A.Content,null,r.createElement(s.default,{id:"new-comment",value:f,onChange:g,imageUploadEnabled:!1})),r.createElement(a.A.Actions,null,r.createElement(o.A,{primary:!0,onClick:()=>v({ticketId:n,comment:f,currentStakeholder:p})},"Add comment")))}},49346:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(1489),i=n(24106),l=n(35907),s=n(600),c=n(66048),u=n(45567),d=n(54076),m=n(1460);t.default=function({personData:e,setPersonData:t}){const{wcaId:n,name:p,countryIso2:f}=e,[g,E]=(0,r.useState)(null);(0,r.useEffect)((()=>E(null)),[n]);const v=(0,d.A)(t,"wcaId"),y=(0,d.A)(t,"name"),A=(0,d.A)(t,"countryIso2");return r.createElement(a.A,null,r.createElement(o.A,{stackable:!0,padded:!0,columns:3},r.createElement(o.A.Column,null,r.createElement(a.A.Input,{label:"WCA ID",onChange:v,error:g,value:n,icon:r.createElement(i.A,{trigger:r.createElement(l.A,{circular:!0,link:!0,onClick:()=>{return e=n,E(null),void(0,u.o)((0,c.HJ)(e)).then((({data:e})=>{const{person:n}=e;t({wcaId:n.wca_id,name:n.name,countryIso2:n.country_iso2})})).catch((e=>E(e.message)));var e},name:"sync"}),content:"Get the person data for that WCA ID and fill the form",position:"top right"})})),r.createElement(o.A.Column,null,r.createElement(a.A.Input,{label:"Name",onChange:y,value:p})),r.createElement(o.A.Column,null,r.createElement(s.default,{label:m.Ay.t("activerecord.attributes.user.country_iso2"),onlyCountries:!0,region:f,onRegionChange:A}))))}},49528:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(1489),i=n(54076);t.default=function({state:e,setState:t}){const{groupId:n,isExtra:l,scrambleNum:s,scrambleStr:c}=e,u=(0,i.A)(t,"groupId"),d=(0,i.A)(t,"isExtra","checked"),m=(0,i.A)(t,"scrambleNum"),p=(0,i.A)(t,"scrambleStr");return r.createElement(a.A,null,r.createElement(o.A,{stackable:!0,padded:!0,verticalAlign:"bottom",columns:3},r.createElement(o.A.Column,null,r.createElement(a.A.Input,{label:"Group ID",value:n,onChange:u})),r.createElement(o.A.Column,{textAlign:"center"},r.createElement(a.A.Checkbox,{label:"Is Extra?",checked:l,onChange:d})),r.createElement(o.A.Column,null,r.createElement(a.A.Input,{label:"Scramble #",value:s,onChange:m,type:"number",min:1})),r.createElement(o.A.Column,{width:16},r.createElement(a.A.TextArea,{label:"Scramble",value:c,onChange:p}))))}},49597:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(27089),o=n(73574),i=n(50363),l=n(99338),s=n(1489),c=n(6549),u=n(36713),d=n(1460),m=n(92745),p=n(1772),f=n(79519),g=n(66048),E=n(80405),v=n(12845),y=n(31797),A=n(57598),b=n(83995);t.default=function({userId:e,showStaffGuidelines:t,uploadDisabled:n,canRemoveAvatar:h,canAdminAvatars:_}){const w=(0,r.useMemo)((()=>(0,g.MT)(e)),[e]),{data:C,loading:S,error:I,sync:P}=(0,f.A)(w),[O,R]=(0,r.useState)(),[k,j]=(0,A.A)(!1),T=(0,r.useMemo)((()=>null===C||void 0===C?void 0:C.avatar),[C]),x=(0,r.useMemo)((()=>null===C||void 0===C?void 0:C.pendingAvatar),[C]),D=(0,r.useMemo)((()=>k?x:T),[T,x,k]),[F,M]=(0,r.useState)(),L=(0,r.useMemo)((()=>F?URL.createObjectURL(F):null===D||void 0===D?void 0:D.url),[D,F]),N=(0,r.useMemo)((()=>!F||b.gg.includes(F.type)),[F]),$=(0,r.useMemo)((()=>({x:null===D||void 0===D?void 0:D.thumbnail_crop_x,y:null===D||void 0===D?void 0:D.thumbnail_crop_y,width:null===D||void 0===D?void 0:D.thumbnail_crop_w,height:null===D||void 0===D?void 0:D.thumbnail_crop_h,unit:"px"})),[D]),[H,V]=(0,r.useState)(),B=(0,r.useMemo)((()=>H||F?H:$),[$,H,F]),{save:U,saving:q}=(0,v.A)();return r.createElement(a.A,null,I&&r.createElement(E.default,null),x&&r.createElement(o.A,{warning:!0},d.Ay.t("users.edit.pending_avatar_confirmation"),r.createElement(y.default,{avatar:x,size:"medium"}),d.Ay.t("users.edit.pending_avatar_edit_action"),r.createElement(i.A,{toggle:!0,checked:k,onChange:j}),k&&r.createElement("b",null,d.Ay.t("users.edit.pending_avatar_edit_warning")),_&&r.createElement("a",{href:g.Ms.wrt.approveAvatars},d.Ay.t("users.edit.manage_pending"))),O&&r.createElement(o.A,{error:!0},r.createElement(o.A.List,null,O.map((e=>r.createElement(o.A.Item,{key:e},e))))),r.createElement(l.A.Dimmable,{as:s.A},r.createElement(l.A,{active:S,inverted:!0},r.createElement(c.A,{content:"Loading"})),r.createElement(l.A,{active:q,inverted:!0},r.createElement(c.A,{content:"Saving"})),r.createElement(s.A.Row,{columns:2},r.createElement(s.A.Column,null,r.createElement(o.A,{visible:!0},r.createElement(o.A.Header,null,d.Ay.t("users.edit.guidelines")),r.createElement(o.A.List,null,d.Ay.tArray("users.edit.avatar_guidelines").map(((e,t)=>r.createElement(o.A.Item,{key:t},e)))),t&&r.createElement(r.Fragment,null,r.createElement(u.A,null),r.createElement(o.A.Header,null,d.Ay.t("users.edit.staff_avatar_guidelines.title")),r.createElement(o.A.List,null,d.Ay.tArray("users.edit.staff_avatar_guidelines.paragraphs").map(((e,t)=>r.createElement(o.A.Item,{key:t},e)))))),r.createElement(m.default,{uploadDisabled:n||k||!N,removalEnabled:h&&!k,onImageUploaded:e=>{V(void 0),M(e),R(null)},onAvatarSaved:()=>{const e=new FormData;e.append("file",F),e.append("thumbnail",JSON.stringify(B)),U(w,e,(()=>{M(void 0),R(null),P()}),{method:"POST",headers:{},body:e},(e=>{if(null===e.json)throw e;{const t=e.json.private_image;R(t)}}))},onAvatarDeleted:(e,t)=>{U(w,{avatarId:null===D||void 0===D?void 0:D.id,reason:e},(()=>{P(),t()}),{method:"DELETE"})}})),r.createElement(s.A.Column,null,r.createElement(p.default,{imageSrc:L,thumbnail:B,onThumbnailSaved:e=>{V(e),F||U(w,{avatarId:null===D||void 0===D?void 0:D.id,thumbnail:e},P)},editsDisabled:!F&&!(null!==D&&void 0!==D&&D.can_edit_thumbnail)})))))}},49608:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(53959),o=n(35907),i=n(66048);t.default=function({scramble:e,scrambles:t,adminMode:n,singleRowOverride:l=!1}){const{id:s,is_extra:c,group_id:u,scramble_num:d,scramble:m}=e;return r.createElement(a.A.Row,null,(l||1===d&&!c)&&r.createElement(a.A.Cell,{textAlign:"center",rowSpan:t.length},u),r.createElement(a.A.Cell,null,c?"Extra ":"",d,n&&r.createElement("a",{href:(0,i.Dw)(s),"aria-label":"Edit",role:"menuitem",className:"edit-link"},r.createElement(o.A,{name:"pencil"}))),r.createElement(a.A.Cell,{className:"prewrap"},m))}},49876:function(e,t,n){"use strict";n.d(t,{DB:function(){return b},H6:function(){return c},Iv:function(){return m},Nl:function(){return _},XL:function(){return u},Z3:function(){return E},ZB:function(){return w},a2:function(){return s},ah:function(){return l},cF:function(){return f},cP:function(){return i},cR:function(){return y},ct:function(){return o},cu:function(){return p},eC:function(){return d},pA:function(){return g},qY:function(){return v},tE:function(){return A}});var r=n(96285),a=n(83995);const o="grey",i="yellow",l="green",s="orange",c="red",u="purple",d="circle notched",m="hourglass",p="check",f="trash",g="x",E="clipboard outline",v=e=>{switch(e){case"pending":return o;case"waiting":return i;case"accepted":return l;case"cancelled":return s;case"rejected":return c;case"nonCompeting":return u;default:return}},y=e=>{switch(e){case"pending":return d;case"waiting":return m;case"accepted":return p;case"cancelled":return f;case"rejected":return g;case"nonCompeting":return E;default:return}},A=e=>e.reduce(((e,t)=>{switch(t.competing.registration_status){case"pending":e.pending.push(t);break;case"waiting_list":e.waiting.push(t);break;case"accepted":e.accepted.push(t);break;case"cancelled":e.cancelled.push(t);break;case"rejected":e.rejected.push(t);break;case"non_competing":e.nonCompeting.push(t)}return e}),{pending:[],waiting:[],accepted:[],cancelled:[],rejected:[],nonCompeting:[]});function b(e,t,n){var o;const i=null!==(o=null===e||void 0===e?void 0:e.toSorted(((e,n)=>{switch(t){case"name":return e.user.name.localeCompare(n.user.name);case"wca_id":{const t=null!==e.user.wca_id,r=null!==n.user.wca_id;return t&&!r?1:!t&&r?-1:t||r?e.user.wca_id.localeCompare(n.user.wca_id):e.user.name.localeCompare(n.user.name)}case"country":return a.Xr.byIso2[e.user.country.iso2].name.localeCompare(a.Xr.byIso2[n.user.country.iso2].name);case"events":return e.competing.event_ids.length-n.competing.event_ids.length;case"guests":return e.guests-n.guests;case"dob":return r.c9.fromISO(e.user.dob).toMillis()-r.c9.fromISO(n.user.dob).toMillis();case"comment":return e.competing.comment.localeCompare(n.competing.comment);case"administrative_notes":return e.competing.admin_comment.localeCompare(n.competing.admin_comment);case"registered_on":return r.c9.fromISO(e.competing.registered_on).toMillis()-r.c9.fromISO(n.competing.registered_on).toMillis();case"paid_on_with_registered_on_fallback":{var o,i;const t=null===(o=e.payment)||void 0===o?void 0:o.has_paid,a=null===(i=n.payment)||void 0===i?void 0:i.has_paid;return t&&a?r.c9.fromISO(e.payment.updated_at).toMillis()-r.c9.fromISO(n.payment.updated_at).toMillis():t&&!a?-1:!t&&a?1:r.c9.fromISO(e.competing.registered_on).toMillis()-r.c9.fromISO(n.competing.registered_on).toMillis()}case"amount":return e.payment.paid_amount_iso-n.payment.paid_amount_iso;case"waiting_list_position":return e.competing.waiting_list_position-n.competing.waiting_list_position;default:if(a.uE.includes(t)){const r=e.competing.event_ids.includes(t),a=n.competing.event_ids.includes(t);return Number(a)-Number(r)}return 0}})))&&void 0!==o?o:[];return"descending"===n?i.toReversed():i}function h(e,t){return e.findLastIndex((e=>t.includes(e.user_id)))}function _(e,t){const{pending:n}=t,r=function(e){return b(e.filter((e=>"pending"===e.competing.registration_status)),"paid_on_with_registered_on_fallback","ascending")}(e),a=h(r,n);return r.slice(0,a+1).filter((e=>!n.includes(e.user_id))).length}function w(e,t){const{pending:n,waiting:r,cancelled:a,rejected:o}=t,i=n.length>0||a.length>0||o.length>0,l=function(e){return b(e.filter((e=>"waiting_list"===e.competing.registration_status)),"waiting_list_position","ascending")}(e),s=h(l,r);return(i?l:l.slice(0,s+1)).filter((e=>!r.includes(e.user_id))).length}},49892:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/LogoImages/WCA Logo Only Mono Black-2eb588fa0424784d26dc.svg"},50057:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(95472),o=n(31746),i=n(73574),l=n(2543),s=n.n(l),c=n(72220);function u({registrationId:e,handleRegistrationIdChange:t,competitors:n,solveCount:l,eventId:u,attempts:d,handleAttemptChange:m,handleSubmit:p,error:f,success:g,header:E}){const v=(0,r.useMemo)((()=>n.map((e=>({key:e.id,value:e.id,registrationId:e.registration_id,text:`${e.user.name} (${e.registration_id})`})))),[n]);return r.createElement(a.A,{error:!!f,success:!!g},r.createElement(o.A,null,E),f&&r.createElement(i.A,{error:!0,content:f}),g&&r.createElement(i.A,{success:!0,content:g}),r.createElement(a.A.Select,{label:"Competitor",placeholder:"Competitor",value:e,deburr:!0,search:(e,t)=>e.filter((e=>e.text.includes(t)||parseInt(t,10)===e.registrationId)),onChange:t,options:v}),s().times(l).map((e=>{var t;return r.createElement(c.default,{eventId:u,key:e,label:`Attempt ${e+1}`,placeholder:"Time in milliseconds or DNF",value:null!==(t=d[e])&&void 0!==t?t:0,onChange:t=>m(e,t)})})),r.createElement(a.A.Button,{primary:!0,onClick:p},"Submit Results"))}},50258:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(96540),a=n(53959),o=n(35907),i=n(3487),l=n(87977),s=n(95472),c=n(79519),u=n(66048),d=n(7862),m=n(80405),p=n(12845);function f(){var e,t,n;const{data:f,loading:g,error:E,sync:v}=(0,c.A)(u.NW),{save:y,saving:A}=(0,p.A)(),[b,h]=(0,r.useState)({isOpen:!1});return g||A?r.createElement(d.default,null):E?r.createElement(m.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{celled:!0},r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,null,"Name"),r.createElement(a.A.HeaderCell,null,"Email"),r.createElement(a.A.HeaderCell,null,"Is Combined Invoice"),r.createElement(a.A.HeaderCell,null,"Action"))),r.createElement(a.A.Body,null,null===f||void 0===f?void 0:f.map((e=>r.createElement(a.A.Row,{key:e.id},r.createElement(a.A.Cell,null,e.name),r.createElement(a.A.Cell,null,e.email),r.createElement(a.A.Cell,null,e.is_combined_invoice?"Yes":"No"),r.createElement(a.A.Cell,null,r.createElement(o.A,{name:"edit",link:!0,onClick:()=>h({isOpen:!0,action:"edit",xeroUser:e})}))))))),r.createElement(i.A,{onClick:()=>h({isOpen:!0,action:"create"})},"New Xero User"),r.createElement(l.A,{open:b.isOpen,onClose:()=>h({isOpen:!1})},r.createElement(l.A.Header,null,"edit"===b.action?"Edit Xero User":"Create Xero User"),r.createElement(l.A.Content,null,r.createElement(s.A,{onSubmit:e=>{const t=Object.fromEntries(new FormData(e.target));Object.hasOwnProperty.call(t,"is_combined_invoice")?t.is_combined_invoice=!0:t.is_combined_invoice=!1,y("edit"===b.action?`${u.NW}/${b.xeroUser.id}`:u.NW,t,(()=>{h({isOpen:!1}),v()}),{method:"edit"===b.action?"PATCH":"POST"})}},r.createElement(s.A.Input,{label:"Name",placeholder:"Name",name:"name",defaultValue:null===(e=b.xeroUser)||void 0===e?void 0:e.name}),r.createElement(s.A.Input,{label:"Email",placeholder:"Email",name:"email",defaultValue:null===(t=b.xeroUser)||void 0===t?void 0:t.email}),r.createElement(s.A.Checkbox,{label:"Is Combined Invoice",name:"is_combined_invoice",defaultChecked:null===(n=b.xeroUser)||void 0===n?void 0:n.is_combined_invoice}),r.createElement(s.A.Button,{type:"submit"},"Submit"),r.createElement(s.A.Button,{onClick:()=>h({isOpen:!1})},"Cancel")))))}},50495:function(e,t,n){"use strict";n.r(t),n.d(t,{ClearForm:function(){return o},UpdateContactRecipient:function(){return a},UpdateSectionData:function(){return r},UploadProfileChangeProof:function(){return i},clearForm:function(){return c},updateContactRecipient:function(){return s},updateSectionData:function(){return l},uploadProfileChangeProof:function(){return u}});const r="UPDATE_SECTION_DATA",a="UPDATE_CONTACT_RECIPIENT",o="CLEAR_FORM",i="UPLOAD_PROFILE_CHANGE_PROOF",l=(e,t,n)=>({type:r,payload:{section:e,name:t,value:n}}),s=e=>({type:a,payload:{contactRecipient:e}}),c=e=>({type:o,payload:{params:e}}),u=e=>({type:i,payload:{file:e}})},50605:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(77949),o=n(18397),i=n(34622),l=n(83995),s=n(43703);function c(){const{competitorLimit:{enabled:e,autoAcceptEnabled:t}}=(0,s.useFormObject)();return r.createElement(i.default,{section:"competitorLimit"},r.createElement(a.InputBooleanSelect,{id:"enabled",forceChoice:!0}),r.createElement(o.default,{showIf:e},r.createElement(a.InputNumber,{id:"count",min:0}),r.createElement(a.InputTextArea,{id:"reason"}),r.createElement(a.InputNumber,{id:"autoCloseThreshold",min:1,nullable:!0}),r.createElement(o.default,{showIf:l.ki},r.createElement(a.InputNumber,{id:"newcomerMonthReservedSpots",min:1,nullable:!0}))),r.createElement(a.InputBooleanSelect,{id:"autoAcceptEnabled",required:!0}),r.createElement(o.default,{showIf:t},r.createElement(a.InputNumber,{id:"autoAcceptDisableThreshold",nullable:!0})))}},51122:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(65632),o=n(74813),i=n(31746),l=n(35907),s=n(60654),c=n(3487),u=n(97665),d=n(57097),m=n(45567),p=n(66048),f=n(7862),g=n(53691);function E({scrambleFile:e,removeScrambleFile:t}){const n=(0,u.jE)(),[f,E]=(0,r.useState)(!1),{mutate:v,isPending:y}=(0,d.n)({mutationFn:()=>async function(e){const{data:t}=await(0,m.o)((0,p.pc)(e),{method:"DELETE"});return t}(e.id),onSuccess:e=>{n.setQueryData(["scramble-files",e.competition_id],(t=>t.filter((t=>t.id!==e.id)))),t(e)}});return r.createElement(a.A,{fluid:!0},r.createElement(o.A,{open:f,styled:!0,fluid:!0},r.createElement(o.A.Title,{onClick:()=>E((e=>!e))},r.createElement(a.A.Header,null,r.createElement(i.A,null,r.createElement(l.A,{name:"dropdown"}),e.original_filename)),r.createElement(a.A.Description,null,"Generated with"," ",e.scramble_program,r.createElement("br",null),"On"," ",e.generated_at)),r.createElement(o.A.Content,{active:f},r.createElement(a.A.Content,null,r.createElement(s.A,{style:{maxHeight:"400px",overflowY:"auto"}},e.inbox_scramble_sets.map((e=>r.createElement(s.A.Item,{key:e.id},(0,g.scrambleSetToName)(e))))),r.createElement(c.A,{fluid:!0,negative:!0,icon:"trash",content:"Delete",onClick:v,disabled:y,loading:y})))))}function v({scrambleFiles:e,isFetching:t,removeScrambleFile:n}){return t?r.createElement(f.default,null):e.map((e=>r.createElement(E,{key:e.id,scrambleFile:e,removeScrambleFile:n})))}},51319:function(e,t,n){"use strict";n.d(t,{G8:function(){return m},IG:function(){return o},Pf:function(){return a},U2:function(){return E},aM:function(){return f},bE:function(){return d},fH:function(){return r},gy:function(){return v},iw:function(){return p},xb:function(){return g}});n(83995);const r=0,a=-1,o=-2;function i(e){return e>0}function l(e){return e===r}function s(e,t){return i(e)||i(t)?!i(e)&&i(t)?1:i(e)&&!i(t)?-1:e-t:0}function c(e){return e.every(i)?function(e,t,n){return Math.round((e+t+n)/3)}(...e):a}function u(e){return i(e)?e<=6e4?e:100*Math.round(e/100):e}function d(e){const t=e.filter((e=>!l(e))),n=e.filter(i);return 0===t.length?r:0===n.length?Math.max(...t):Math.min(...n)}function m(e,t){if(!t)throw new Error("Missing argument: eventId");if("333mbf"===t||"333mbo"===t)return r;if(e.some(l))return r;if("333fm"===t){const t=e.map((e=>100*e));switch(e.length){case 1:case 2:return r;case 3:return c(t);default:throw new Error(`Invalid number of attempt results, expected 1, 2, or 3, given ${e.length}.`)}}switch(e.length){case 3:return u(c(e));case 5:return u(function(e){const[,t,n,r]=e.slice().sort(s);return c([t,n,r])}(e));default:throw new Error(`Invalid number of attempt results, expected 3 or 5, given ${e.length}.`)}}function p(e){if(e<=0)return{solved:0,attempted:0,centiseconds:e};if(e.toString().padStart(10,"0").startsWith("1")){const t=e%1e5,n=Math.floor(e/1e5)%100;return{solved:99-Math.floor(e/1e7)%100,attempted:n,centiseconds:99999===t?null:100*t}}const t=e%100,n=Math.floor(e/100)%1e5,r=99-Math.floor(e/1e7)%100+t;return{solved:r,attempted:r+t,centiseconds:99999===n?null:100*n}}function f({solved:e,attempted:t,centiseconds:n}){if(n<=0)return n;const r=t-e;return 1e7*(99-(e-r))+100*Math.round((n||9999900)/100)+r}function g(e){if(null==e)return"?:??:??";if(!Number.isFinite(e))throw new Error(`Invalid centiseconds, expected positive number, got ${e}.`);return new Date(10*e).toISOString().substr(11,11).replace(/^[0:]*(?!\.)/g,"")}function E(e,t){return e===r?"":e===a?"DNF":e===o?"DNS":"333mbf"===t||"333mbo"===t?function(e){const{solved:t,attempted:n,centiseconds:r}=p(e);return`${t}/${n}\u2002${g(r).replace(/\.00$/,"")}`}(e):"333fm"===t?function(e){return e>=1e3?(e/100).toFixed(2):e.toString()}(e):g(e)}function v(e,t){const n=5===e.attempts.filter((e=>0!==e)).length;return e.attempts.map(((r,a)=>{const o=E(r,t);return!n||e.best_index!==a&&e.worst_index!==a?o:`(${o})`})).join(" ")}},51487:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({ticketId:e,comment:t,currentStakeholder:n}){const{data:o}=await(0,r.o)(a.v9.tickets.addComment(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment:t,acting_stakeholder_id:n.id})});return o}},51491:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(96540),a=n(95472),o=n(73574),i=n(73413),l=n(37865),s=n(97286),c=n(2543),u=n.n(c),d=n(1460),m=n(66048),p=n(7862),f=n(80405),g=n(12845),E=n(45567),v=n(13113),y=n(600),A=n(85895);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=new l.E;function C({wcaId:e,onContactSuccess:t,recaptchaPublicKey:n}){var l;const[c,b]=(0,r.useState)(),[_,C]=(0,r.useState)(),[S,I]=(0,r.useState)(),[P,O]=(0,r.useState)(),[R,k]=(0,r.useState)(!1),[j,T]=(0,r.useState)(),{save:x,saving:D}=(0,g.A)(),{data:F,isLoading:M,isError:L}=(0,s.I)({queryKey:["profileData"],queryFn:()=>(0,E.o)(m.VB.persons.show(e))},w),N=null===F||void 0===F||null===(l=F.data)||void 0===l?void 0:l.person,$=(0,r.useMemo)((()=>!_||u().isEqual(_,N)||!P),[P,_,N]);(0,r.useEffect)((()=>{C(N)}),[N]);const H=(e,{name:t,value:n})=>{C((e=>h(h({},e),{},{[t]:n})))};return D||M?r.createElement(p.default,null):j||L?r.createElement(f.default,null):r.createElement(a.A,{onSubmit:()=>{const n=new FormData;n.append("formValues",JSON.stringify({editedProfileDetails:_,editProfileReason:c,wcaId:e})),S&&n.append("attachment",S),x(m.Zz,n,t,{method:"POST",headers:{},body:n},T)}},r.createElement(a.A.Input,{label:d.Ay.t("activerecord.attributes.user.name"),name:"name",value:null===_||void 0===_?void 0:_.name,onChange:H,required:!0}),r.createElement(y.default,{label:d.Ay.t("activerecord.attributes.user.country_iso2"),name:"country_iso2",onlyCountries:!0,region:null===_||void 0===_?void 0:_.country_iso2,onRegionChange:H}),r.createElement(A.default,{name:"gender",gender:null===_||void 0===_?void 0:_.gender,onChange:H}),r.createElement(a.A.Field,{label:d.Ay.t("activerecord.attributes.user.dob"),name:"dob",control:v.default,showYearDropdown:!0,dateFormatOverride:"yyyy-MM-dd",dropdownMode:"select",isoDate:null===_||void 0===_?void 0:_.dob,onChange:e=>H(0,{name:"dob",value:e}),required:!0}),r.createElement(a.A.TextArea,{label:d.Ay.t("page.contact_edit_profile.form.edit_reason.label"),name:"editProfileReason",required:!0,value:c,onChange:(e,{value:t})=>{b(t)}}),r.createElement(a.A.Input,{label:d.Ay.t("page.contact_edit_profile.form.proof_attach.label"),type:"file",onChange:e=>{I(e.target.files[0])}}),r.createElement(a.A.Field,null,r.createElement(i.A,{sitekey:n,onChange:O,onErrored:k}),R&&r.createElement(o.A,{error:!0,content:d.Ay.t("page.contact_edit_profile.form.captcha.validation_error")})),r.createElement(a.A.Button,{type:"submit",disabled:$},d.Ay.t("page.contact_edit_profile.form.submit_edit_request_button.label")))}},51540:function(e,t,n){"use strict";n.r(t),n.d(t,{CompDisplayCheckboxes:function(){return S},ToggleListOrMapDisplay:function(){return I}});var r=n(96540),a=n(95472),o=n(92257),i=n(21295),l=n(3487),s=n(24106),c=n(60654),u=n(35907),d=n(98759),m=n.n(d),p=n(1460),f=n(83995),g=n(85094),E=n(13113),v=n(82664),y=n(600);function A({text:e,dispatchFilter:t}){return r.createElement(r.Fragment,null,r.createElement("label",{htmlFor:"search"},p.Ay.t("competitions.index.search")),r.createElement(o.A,{name:"search",id:"search",icon:"search",placeholder:p.Ay.t("competitions.index.tooltips.search"),value:e,onChange:(e,n)=>t({search:n.value})}))}function b({delegateId:e,dispatchFilter:t}){const{delegatesLoading:n,delegatesData:a}=(0,g.default)();return r.createElement(r.Fragment,null,r.createElement("label",{htmlFor:"delegate",style:{display:"inline-block"}},p.Ay.t("layouts.navigation.delegate"),n&&r.createElement(m(),{id:"delegate-pulse",size:"6px",cssOverride:{marginLeft:"5px"}})),r.createElement(i.A,{name:"delegate",id:"delegate",fluid:!0,search:!0,deburr:!0,selection:!0,error:!n&&e&&a.every((({id:t})=>t!==e)),style:{textAlign:"center"},options:[{key:"None",text:p.Ay.t("competitions.index.no_delegates"),value:""},...(null===a||void 0===a?void 0:a.filter((e=>"WCA Board"!==e.name)).map((e=>({key:e.id,text:`${e.name} (${e.wca_id})`,value:e.id,image:{avatar:!0,src:e.thumb_url,style:{width:"28px",height:"28px"}}}))))||[]],value:e,onChange:(e,n)=>t({delegate:n.value}),noResultsMessage:n?p.Ay.t("competitions.index.delegates_loading"):p.Ay.t("competitions.index.no_delegates_found")}))}function h({filterState:e,dispatchFilter:t}){return r.createElement(r.Fragment,null,r.createElement("label",{htmlFor:"state"},p.Ay.t("competitions.index.state")),r.createElement(l.A.Group,{id:"state",size:"small",compact:!0,primary:!0},r.createElement(l.A,{name:"state",id:"present",value:"present",onClick:()=>t({timeOrder:"present"}),active:"present"===e.timeOrder},p.Ay.t("competitions.index.present")),r.createElement(l.A,{name:"state",id:"recent",value:"recent",onClick:()=>t({timeOrder:"recent"}),active:"recent"===e.timeOrder,"data-tooltip":p.Ay.t("competitions.index.tooltips.recent",{count:f.Ll.competitionRecentDays})},p.Ay.t("competitions.index.recent")),r.createElement(w,{filterState:e,dispatchFilter:t}),r.createElement(l.A,{name:"state",id:"by_announcement",value:"by_announcement",onClick:()=>t({timeOrder:"by_announcement"}),active:"by_announcement"===e.timeOrder,"data-tooltip":p.Ay.t("competitions.index.sort_by_announcement")},p.Ay.t("competitions.index.by_announcement")),r.createElement(C,{filterState:e,dispatchFilter:t})))}function _({filterState:e,dispatchFilter:t}){return r.createElement(r.Fragment,null,r.createElement("label",{htmlFor:"admin-status"},p.Ay.t("competitions.index.admin_status")),r.createElement(l.A.Group,{id:"admin-status",compact:!0},r.createElement(l.A,{primary:!0,name:"admin-status",id:"all",value:"all",onClick:()=>t({adminStatus:"all"}),active:"all"===e.adminStatus},p.Ay.t("competitions.index.status_flags.all")),r.createElement(l.A,{color:"yellow",name:"admin-status",id:"warning",value:"warning",onClick:()=>t({adminStatus:"warning"}),active:"warning"===e.adminStatus},p.Ay.t("competitions.index.status_flags.warning")),r.createElement(l.A,{negative:!0,name:"admin-status",id:"danger",value:"danger",onClick:()=>t({adminStatus:"danger"}),active:"danger"===e.adminStatus},p.Ay.t("competitions.index.status_flags.danger"))))}function w({filterState:e,dispatchFilter:t}){return r.createElement(l.A,{name:"state",id:"past",value:"past",onClick:()=>t({timeOrder:"past"}),active:"past"===e.timeOrder},"past"===e.timeOrder?"all_years"===e.selectedYear?p.Ay.t("competitions.index.past_all"):p.Ay.t("competitions.index.past_from",{year:e.selectedYear}):p.Ay.t("competitions.index.past"),r.createElement(i.A,{name:"year",id:"year",simple:!0,compact:!0,pointing:!0,scrolling:!0,upward:!1},r.createElement(i.A.Menu,null,r.createElement(i.A.Item,{key:"past_select_all_years",onClick:()=>t({timeOrder:"past",selectedYear:"all_years"}),active:"all_years"===e.selectedYear},p.Ay.t("competitions.index.all_years")),f.I3.toReversed().map((n=>r.createElement(i.A.Item,{key:`past_select_${n}`,onClick:()=>t({timeOrder:"past",selectedYear:n}),active:e.selectedYear===n},n))))))}function C({filterState:e,dispatchFilter:t}){const n=r.createElement(l.A,{name:"state",id:"custom",value:"custom",onClick:()=>t({timeOrder:"custom"}),active:"custom"===e.timeOrder},p.Ay.t("competitions.index.custom"));return r.createElement(s.A,{on:"click",position:"bottom center",pinned:!0,trigger:n},r.createElement(c.A,null,r.createElement(c.A.Item,null,r.createElement(E.default,{name:"start-date",showIcon:!0,placeholderText:p.Ay.t("competitions.index.from_date"),isoDate:e.customStartDate,onChange:e=>t({customStartDate:e}),selectsStart:!0,isoStartDate:e.customStartDate,isoEndDate:e.customEndDate})),r.createElement(c.A.Item,null,r.createElement(E.default,{name:"end-date",showIcon:!0,placeholderText:p.Ay.t("competitions.index.to_date"),isoDate:e.customEndDate,onChange:e=>t({customEndDate:e}),selectsEnd:!0,isoStartDate:e.customStartDate,isoEndDate:e.customEndDate,minDate:e.customStartDate}))))}function S({shouldIncludeCancelled:e,dispatchFilter:t,shouldShowRegStatus:n,setShouldShowRegStatus:o,shouldShowAdminDetails:i,canViewAdminDetails:l,displayMode:s}){return r.createElement(r.Fragment,null,r.createElement("div",{id:"cancelled",className:"cancel-selector"},r.createElement(a.A.Checkbox,{label:p.Ay.t("competitions.index.show_cancelled"),name:"show_cancelled",id:"show_cancelled",checked:e,onChange:()=>t({shouldIncludeCancelled:!e})})),"list"===s&&r.createElement(r.Fragment,null,r.createElement("div",{id:"registration-status",className:"registration-status-selector"},r.createElement(a.A.Checkbox,{label:p.Ay.t("competitions.index.show_registration_status"),name:"show_registration_status",id:"show_registration_status",checked:n,onChange:()=>o(!n)})),l&&r.createElement("div",{id:"admin-data",className:"admin-data-selector"},r.createElement(a.A.Checkbox,{toggle:!0,label:p.Ay.t("competitions.index.use_admin_view"),name:"show_admin_data",id:"show_admin_data",checked:i,onChange:()=>t({shouldShowAdminDetails:!i})}))))}function I({displayMode:e,setDisplayMode:t}){return r.createElement(l.A.Group,{toggle:!0,fluid:!0,id:"display"},r.createElement(l.A,{type:"button",name:"display",id:"display-list",active:"list"===e,onClick:()=>t("list")},r.createElement(u.A,{className:"icon list ul "}),` ${p.Ay.t("competitions.index.list")} `),r.createElement(l.A,{type:"button",name:"display",id:"display-map",active:"map"===e,onClick:()=>t("map")},r.createElement(u.A,{className:"icon map marker alternate "}),` ${p.Ay.t("competitions.index.map")} `))}t.default=function({filterState:e,dispatchFilter:t,shouldShowAdminDetails:n,canViewAdminDetails:o}){return r.createElement(a.A,{className:"competition-select",id:"competition-query-form",acceptCharset:"UTF-8"},r.createElement(a.A.Field,null,r.createElement(v.default,{selectedEvents:e.selectedEvents,onEventClick:e=>t({type:"toggle_event",eventId:e}),onAllClick:()=>t({type:"select_all_events"}),onClearClick:()=>t({type:"clear_events"}),showBreakBeforeButtons:!1,eventButtonsCompact:!0})),r.createElement(a.A.Group,null,r.createElement(a.A.Field,{width:8},r.createElement(y.default,{region:e.region,onRegionChange:(e,{value:n})=>t({region:n})})),r.createElement(a.A.Field,{width:8},r.createElement(A,{text:e.search,dispatchFilter:t}))),n&&r.createElement(a.A.Field,{width:16},r.createElement(b,{delegateId:e.delegate,dispatchFilter:t})),r.createElement(a.A.Field,null,r.createElement(h,{filterState:e,dispatchFilter:t})),o&&n&&r.createElement(a.A.Group,null,r.createElement(a.A.Field,null,r.createElement(_,{filterState:e,dispatchFilter:t}))))}},51935:function(e,t,n){"use strict";n.r(t),n.d(t,{createPost:function(){return o},editPost:function(){return i}});var r=n(45567),a=n(66048);const o=e=>(0,r.o)(a.MV,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:e})}),i=e=>(0,r.o)((0,a.KI)(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:e})})},51951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(96540),a=n(60654),o=n(56991),i=n(31746),l=n(53959),s=n(35907),c=n(69960),u=n(3487),d=n(87977),m=n(95472),p=n(79519),f=n(66048),g=n(83995),E=n(80405),v=n(7862),y=n(12845),A=n(41935),b=n(16523);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C={name:"",group_type:"delegate_regions",parent_group_id:null,is_active:!0,is_hidden:!1,friendlyId:""};function S({userGroup:e,save:t,sync:n,setSaveError:i}){const[l,s]=r.useState(!1),c=e.is_active?"eye":"eye slash";return r.createElement(r.Fragment,null,r.createElement(a.A.Icon,{name:c,link:!0,onClick:()=>s(!0)}),r.createElement(o.A,{open:l,content:`Are you sure you want to ${e.is_active?"deactivate":"activate"} ${e.name}?`,onCancel:()=>s(!1),onConfirm:()=>{s(!1),t((0,f.ei)(e.id),{is_active:!e.is_active,is_hidden:e.is_hidden},n,{},i)}}))}function I(){const{data:e,loading:t,error:n,sync:a}=(0,p.A)((0,f.TX)("delegate_regions")),{save:o,saving:h}=(0,y.A)(),[w,I]=r.useState(),[P,O]=r.useState(C),[R,k]=r.useState(),[j,T]=r.useState(),[x,D]=r.useState(),[F,M]=r.useState(!1),L=e=>{T(e),I("newLeadDelegate")},N=()=>I(null),$=r.useMemo((()=>null===e||void 0===e?void 0:e.filter((e=>!e.parent_group_id))),[e]),H=r.useMemo((()=>{const t=(null===e||void 0===e?void 0:e.filter((e=>e.parent_group_id)))||[];return Object.groupBy(t,(e=>e.parent_group_id))}),[e]);return F||t||h?r.createElement(v.default,null):n||R?r.createElement(E.default,{error:n||R}):r.createElement(r.Fragment,null,r.createElement(i.A,{as:"h2"},"Region Manager"),r.createElement("p",null,"Visibility: Whether the region is active & visible to the public or not."),r.createElement(l.A,{celled:!0},r.createElement(l.A.Header,null,r.createElement(l.A.Row,null,r.createElement(l.A.HeaderCell,null,"Region"),r.createElement(l.A.HeaderCell,null,"Senior Delegate"),r.createElement(l.A.HeaderCell,null,"Sub-Regions"),r.createElement(l.A.HeaderCell,null,"Regional Delegate"),r.createElement(l.A.HeaderCell,null,"Visibility"))),r.createElement(l.A.Body,null,$.map((e=>{var t;return r.createElement(r.Fragment,null,r.createElement(l.A.Row,{key:e.id},r.createElement(l.A.Cell,null,e.name),r.createElement(l.A.Cell,null,e.lead_user?r.createElement(r.Fragment,null,r.createElement(s.A,{name:"edit",link:!0,onClick:()=>L(e)}),e.lead_user.name):r.createElement(s.A,{name:"plus",link:!0,onClick:()=>L(e)})),r.createElement(l.A.Cell,null),r.createElement(l.A.Cell,null),r.createElement(l.A.Cell,null,r.createElement(S,{userGroup:e,save:o,sync:a,setSaveError:k}))),null===(t=H[e.id])||void 0===t?void 0:t.map((e=>r.createElement(l.A.Row,{key:e.id},r.createElement(l.A.Cell,null),r.createElement(l.A.Cell,null),r.createElement(l.A.Cell,null,e.name),r.createElement(l.A.Cell,null,e.lead_user?r.createElement(r.Fragment,null,r.createElement(s.A,{name:"edit",link:!0,onClick:()=>L(e)}),e.lead_user.name):r.createElement(s.A,{name:"plus",link:!0,onClick:()=>L(e)})),r.createElement(l.A.Cell,null,r.createElement(S,{userGroup:e,save:o,sync:a,setSaveError:k}))))))})))),r.createElement(c.A,null,r.createElement(u.A,{onClick:()=>I("newRegion"),disabled:h},"Add new region"),r.createElement(u.A,{onClick:()=>I("newSubregion"),disabled:h},"Add new subregion")),r.createElement(d.A,{size:"fullscreen",onClose:()=>{N(),O(C)},open:"newRegion"===w||"newSubregion"===w},r.createElement(d.A.Content,null,r.createElement(m.A,null,"newSubregion"===w&&r.createElement(m.A.Dropdown,{label:"Parent region",fluid:!0,selection:!0,value:P.parent_group_id,onChange:(e,{value:t})=>O(_(_({},P),{},{parent_group_id:t})),options:$.map((e=>({key:e.id,text:e.name,value:e.id})))}),r.createElement(m.A.Input,{label:"Name",value:P.name,onChange:(e,{value:t})=>O(_(_({},P),{},{name:t}))}),r.createElement(m.A.Input,{label:"Friendly ID",value:P.friendlyId,onChange:(e,{value:t})=>O(_(_({},P),{},{friendlyId:t}))}),r.createElement(m.A.Button,{onClick:()=>{N(),O(C)}},"Cancel"),r.createElement(m.A.Button,{disabled:0===P.name.length||"newSubregion"===w&&!P.parent_group_id,onClick:()=>{N(),o(f._s,P,(()=>a()),{method:"POST"},k),O(C)}},"Save")))),r.createElement(d.A,{onClose:()=>{N(),T(null),D(null)},open:"newLeadDelegate"===w},r.createElement(d.A.Content,null,r.createElement(m.A,null,r.createElement(m.A.Field,{label:"New Lead Delegate",control:A.default,value:x,onChange:(e,{value:t})=>D(t),model:b.default.user,multiple:!1}),r.createElement(m.A.Button,{onClick:()=>{N(),T(null),D(null)}},"Cancel"),r.createElement(m.A.Button,{disabled:!x,onClick:()=>{N(),M(!0),o(f.VB.userRoles.create(),{userId:x.id,groupId:j.id,status:j.parent_group_id?g.r$.regional_delegate:g.r$.senior_delegate,location:j.name},(()=>{a(),T(null),D(null),M(!1)}),{method:"POST"})}},"Save")))))}},52011:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(2543),o=n.n(a);t.default=function({initDataItem:e,dataType:t,EditForm:n}){return r.createElement(r.Fragment,null,r.createElement("h3",null,"Creating a new"," ",o().upperFirst(t)),r.createElement(n,{dataItem:e,sync:()=>{}}))}},52067:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(53959),o=n(3487),i=n(93635),l=n(24106),s=n(73574),c=n(1460),u=n(83995),d=n(16769),m=n(14487);function p(){return r.createElement("i",{className:"fas fa-exclamation-circle","data-toggle":"tooltip","data-placement":"top","data-container":"body",title:"This competition is not confirmed yet."})}function f({showEvents:e}){return r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{name:"name",width:3},c.Ay.t("competitions.adjacent_competitions.name")),r.createElement(a.A.HeaderCell,{name:"delegates",width:3},c.Ay.t("competitions.adjacent_competitions.delegates")),r.createElement(a.A.HeaderCell,{name:"date",width:2},c.Ay.t("competitions.adjacent_competitions.date")),r.createElement(a.A.HeaderCell,{name:"location",width:2},c.Ay.t("competitions.adjacent_competitions.location")),r.createElement(a.A.HeaderCell,{name:"distance",width:1},c.Ay.t("competitions.adjacent_competitions.distance")),r.createElement(a.A.HeaderCell,{name:"limit",width:1},c.Ay.t("competitions.adjacent_competitions.limit")),r.createElement(a.A.HeaderCell,{name:"competitors",width:1},c.Ay.t("competitions.adjacent_competitions.competitors")),e&&r.createElement(a.A.HeaderCell,{name:"events",width:2},c.Ay.t("competitions.adjacent_competitions.events")))}function g({comp:e,action:t,showEvents:n}){const s=(0,m.useSectionDisabled)();return r.createElement(a.A.Row,{warning:!e.danger,error:e.danger},r.createElement(a.A.Cell,{name:"name",width:3},r.createElement("span",{dangerouslySetInnerHTML:{__html:e.nameLink}}),!e.confirmed&&r.createElement(p,null),t&&r.createElement(r.Fragment,null,r.createElement("br",null),r.createElement(o.A,{size:"mini",disabled:s,onClick:()=>t.onClick(e)},t.label))),r.createElement(a.A.Cell,{name:"delegates",width:2},r.createElement("span",{dangerouslySetInnerHTML:{__html:e.delegates}})),r.createElement(i.A,{name:"date",width:2},r.createElement(l.A,{content:`${e.name} ${e.daysUntil<0?`${c.Ay.t("competitions.adjacent_competitions.ends_on")} ${e.endDate}`:`${c.Ay.t("competitions.adjacent_competitions.starts_on")} ${e.startDate}`}`,position:"top center",size:"tiny",trigger:r.createElement("span",null,c.Ay.t("datetime.distance_in_words.x_days",{count:Math.abs(e.daysUntil)})," ",e.daysUntil<0?c.Ay.t("competitions.adjacent_competitions.before"):c.Ay.t("competitions.adjacent_competitions.after"))})),r.createElement(a.A.Cell,{name:"location",width:2},e.location),r.createElement(a.A.Cell,{name:"distance",width:2,singleLine:!0},r.createElement("a",{href:`https://www.google.com/maps/dir/${e.distance.from.lat},${e.distance.from.long}/${e.distance.to.lat},${e.distance.to.long}/`,target:"_blank",rel:"noreferrer"},`${e.distance.km} km`)),r.createElement(a.A.Cell,{name:"limit",width:1},e.limit?e.limit:"-"),r.createElement(a.A.Cell,{name:"competitors",width:1},e.competitors?e.competitors:"-"),n&&r.createElement(a.A.Cell,{name:"events",width:2},e.events.map((e=>r.createElement(l.A,{key:e,position:"bottom center",size:"tiny",content:u.AZ.byId[e].name,trigger:r.createElement("i",{key:e,className:`cubing-icon icon event-${e}`})})))))}function E({comps:e,action:t}){const[n,i]=(0,d.A)(!1);return r.createElement(a.A,{structured:!0},r.createElement(a.A.Header,null,r.createElement(f,{showEvents:n})),r.createElement(a.A.Body,null,e.map((e=>r.createElement(g,{key:e.name,comp:e,showEvents:n,action:t})))),r.createElement(a.A.Footer,{fullWidth:!0},r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{colSpan:"16"},r.createElement(o.A,{toggle:!0,floated:"right",size:"mini",active:n,onClick:i},n?c.Ay.t("competitions.adjacent_competitions.hide_events"):c.Ay.t("competitions.adjacent_competitions.show_events"))))))}function v({comps:e,action:t}){return e&&0!==e.length?r.createElement(E,{comps:e,action:t}):r.createElement(s.A,{positive:!0},c.Ay.t("competitions.adjacent_competitions.no_comp_nearby"))}},52322:function(e,t,n){"use strict";n.r(t),n.d(t,{clearAllMessages:function(){return c},default:function(){return m},showMessage:function(){return l},showMessages:function(){return s}});var r=n(73574),a=n(96540),o=n(89407),i=n(1460);const l=(e,t,n)=>({newMessages:[{key:e,type:t,params:n}]}),s=e=>({newMessages:e}),c=()=>({messages:[]}),u=e=>({toClear:[e]}),d=e=>({toClear:e});function m(){const{messages:e}=(0,o.Pj)(),t=(0,o.wA)(),n=e.filter((({type:e})=>"negative"!==e));return(0,a.useEffect)((()=>{n.length>0&&setTimeout((()=>{t(d(n.map((({id:e})=>e))))}),4e3)}),[t,n]),0===e.length?null:e.map((({id:n,key:o,type:l,params:s})=>a.createElement(r.A,{key:n,style:{margin:1===e.length?0:void 0},positive:"positive"===l,negative:"negative"===l,onDismiss:"negative"===l?()=>t(u(n)):void 0},i.Ay.t(o,s))))}},52363:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(36713),o=n(77949),i=n(89407),l=n(18397),s=n(34622),c=n(43703);function u({isCloning:e=!1,storedEvents:t=[]}){const{isPersisted:n}=(0,i.Pj)(),{eventRestrictions:{forbidNewcomers:u,earlyPuzzleSubmission:d,qualificationResults:m,eventLimitation:p}}=(0,c.useFormObject)(),f=(0,r.useMemo)((()=>[{key:"",value:"",text:""},...(null===t||void 0===t?void 0:t.map((e=>({key:e.id,value:e.id,text:e.name}))))||[]]),[t]),g=u.enabled,E=d.enabled,v=m.enabled,y=p.enabled;return r.createElement(s.default,{section:"eventRestrictions"},r.createElement(s.default,{section:"forbidNewcomers"},r.createElement(o.InputBoolean,{id:"enabled"}),r.createElement(l.default,{showIf:g},r.createElement(o.InputTextArea,{id:"reason"}))),r.createElement(s.default,{section:"earlyPuzzleSubmission"},r.createElement(o.InputBoolean,{id:"enabled"}),r.createElement(l.default,{showIf:E},r.createElement(o.InputTextArea,{id:"reason"}))),r.createElement(s.default,{section:"qualificationResults"},r.createElement(o.InputBoolean,{id:"enabled"}),r.createElement(l.default,{showIf:v},r.createElement(o.InputTextArea,{id:"reason"}),r.createElement(o.InputBooleanSelect,{id:"allowRegistrationWithout"}))),r.createElement(s.default,{section:"eventLimitation"},r.createElement(o.InputBoolean,{id:"enabled"}),r.createElement(l.default,{showIf:y},r.createElement(o.InputTextArea,{id:"reason"}),r.createElement(o.InputNumber,{id:"perRegistrationLimit",min:1,nullable:!0}))),!e&&n&&r.createElement(r.Fragment,null,r.createElement(a.A,null),r.createElement(o.InputSelect,{id:"mainEventId",options:f,ignoreDisabled:!0})))}},52993:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(73574),o=n(36713),i=n(3487),l=n(2543),s=n.n(l),c=n(57097),u=n(74594),d=n(95522),m=n(45760),p=n(62798),f=n(45567),g=n(66048),E=n(59267);function v({wcifEvents:e,competitionId:t,initialScrambleFiles:n}){return r.createElement(d.A,null,r.createElement(y,{wcifEvents:e,competitionId:t,initialScrambleFiles:n}))}function y({wcifEvents:e,competitionId:t,initialScrambleFiles:n}){const[l,d]=(0,r.useReducer)(E.default,n,(e=>e.reduce(E.mergeScrambleSets,{}))),v=(0,r.useCallback)((e=>d({type:"addScrambleFile",scrambleFile:e})),[d]),y=(0,r.useCallback)((e=>d({type:"removeScrambleFile",scrambleFile:e})),[d]),{mutate:A,isPending:b}=(0,c.n)({mutationFn:()=>async function(e,t){const n=s().mapValues(t,(e=>e.map((e=>({id:e.id,inbox_scrambles:e.inbox_scrambles.map((e=>e.id))}))))),{data:r}=await(0,f.o)((0,g.Kd)(e),{headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(n)});return r}(t,l)}),h=(0,r.useMemo)((()=>e.flatMap((e=>e.rounds)).map((e=>e.id))),[e]),_=(0,r.useMemo)((()=>s().difference(h,Object.keys(l))),[l,h]),w=(0,r.useMemo)((()=>s().isEmpty(l)?[]:h.filter((t=>{var n;const r=null!==(n=l[t])&&void 0!==n?n:[],a=e.flatMap((e=>e.rounds)).find((e=>e.id===t));return r.length<a.scrambleSetCount}))),[l,h,e]);return r.createElement(r.Fragment,null,_.length>0&&(0===Object.keys(l).length?r.createElement(a.A,{warning:!0,header:"No scramble sets available",content:"Upload some JSON files to get started!"}):r.createElement(a.A,{error:!0},r.createElement(a.A.Header,null,"Missing Scramble Sets"),r.createElement(a.A.List,null,_.map((e=>r.createElement(a.A.Item,{key:e},"Missing scramble sets for round"," ",(0,u.activityCodeToName)(e))))))),w.length>0&&r.createElement(a.A,{error:!0},r.createElement(a.A.Header,null,"Missing Scrambles"),r.createElement(a.A.List,null,w.map((e=>r.createElement(a.A.Item,{key:e},"Missing scrambles in round"," ",(0,u.activityCodeToName)(e)))))),r.createElement(m.default,{competitionId:t,initialScrambleFiles:n,addScrambleFile:v,removeScrambleFile:y}),r.createElement(p.default,{wcifEvents:e,matchState:l,dispatchMatchState:d}),r.createElement(o.A,null),r.createElement(i.A,{primary:!0,onClick:A,loading:b,disabled:b||w.length>0||_.length>0},"Save Changes"))}},53027:function(e,t,n){"use strict";n.r(t),n.d(t,{GroupsManagerForGroups:function(){return S},default:function(){return I}});var r=n(96540),a=n(31746),o=n(3487),i=n(53959),l=n(87977),s=n(95472),c=n(21295),u=n(1460),d=n(79519),m=n(66048),p=n(80405),f=n(7862),g=n(58894),E=n(12845),v=n(41935),y=n(91283),A=n(16523),b=n(32229);const h=e=>"leader"===e.metadata.status,_=e=>e.metadata.status===(0,b.O6)(e.group.group_type).member,w=e=>e.metadata.status===(0,b.O6)(e.group.group_type).senior_member;function C({group:e}){const{data:t,loading:n,error:c,sync:C}=(0,d.A)(m.VB.userRoles.list({isActive:!0,groupId:e.id},"status:desc,startDate,name")),S=(0,g.S)(),{save:I,saving:P}=(0,E.A)(),[O,R]=(0,r.useState)(!1),[k,j]=(0,y.A)(null);return n||P?r.createElement(f.default,null):c?r.createElement(p.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h2"},"Active members"),r.createElement(o.A,{onClick:()=>R(!0)},"Add new member"),r.createElement(i.A,{celled:!0},r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,null,"Name"),r.createElement(i.A.HeaderCell,null,"Start Date"),r.createElement(i.A.HeaderCell,null,"Status"),r.createElement(i.A.HeaderCell,null,"Actions"))),r.createElement(i.A.Body,null,t.map((e=>r.createElement(i.A.Row,{key:e.id},r.createElement(i.A.Cell,null,e.user.name),r.createElement(i.A.Cell,null,e.start_date),r.createElement(i.A.Cell,null,`${u.Ay.t(`enums.user_roles.status.${e.group.group_type}.${e.metadata.status}`)}`),r.createElement(i.A.Cell,null,_(e)&&r.createElement(o.A,{onClick:()=>(e=>{S().then((()=>{I(m.VB.userRoles.update(e.id),{status:(0,b.O6)(e.group.group_type).senior_member},C,{method:"PATCH"})}))})(e)},"Promote"),w(e)&&r.createElement(o.A,{onClick:()=>(e=>{S().then((()=>{I(m.VB.userRoles.update(e.id),{status:(0,b.O6)(e.group.group_type).member},C,{method:"PATCH"})}))})(e)},"Demote"),!h(e)&&r.createElement(o.A,{onClick:()=>(e=>{S().then((()=>{I(m.VB.userRoles.delete(e.id),null,C,{method:"DELETE"})}))})(e)},"End Role"))))))),r.createElement(l.A,{size:"fullscreen",onClose:()=>{R(!1)},open:O},r.createElement(l.A.Content,null,r.createElement(s.A,null,r.createElement(s.A.Field,{label:"New Member",control:v.default,value:k,onChange:j,model:A.default.user,multiple:!1}),r.createElement(s.A.Button,{onClick:()=>R(!1)},"Cancel"),r.createElement(s.A.Button,{disabled:!k,onClick:()=>{R(!1),I(m.VB.userRoles.create(),{userId:k.id,groupId:e.id,status:(0,b.O6)(e.group_type).member},C,{method:"POST"})}},"Save")))))}function S({groups:e}){const[t,n]=(0,y.A)(0);return r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(c.A,{options:e.map(((e,t)=>({key:e.id,text:e.name,value:t}))),value:t,onChange:n})),r.createElement(C,{group:e[t]}))}function I({loggedInUserId:e}){const{data:t,loading:n,error:a}=(0,d.A)(m.VB.userRoles.list({isActive:!0,status:"leader",userId:e},"groupName"));return n?r.createElement(f.default,null):a?r.createElement(p.default,null):0===t.length?r.createElement("p",null,"You are not a leader of any groups."):r.createElement(S,{groups:t.map((e=>e.group))})}},53192:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(3487),o=n(66251),i=n(49528),l=n(13873),s=n(43633),c=n(42242),u=n(12845),d=n(66048);const m=e=>({competitionId:e.competition_id||"",roundTypeId:e.round_type_id||"",roundId:e.round_id||"",eventId:e.event_id||""}),p=e=>({groupId:e.group_id||"",isExtra:e.is_extra||!1,scrambleNum:e.scramble_num||"",scrambleStr:e.scramble||""});function f({scramble:e,save:t,saving:n,onCreate:c,onUpdate:u,onDelete:f}){const{id:g}=e,[E,v]=(0,r.useState)(m(e)),[y,A]=(0,r.useState)(p(e));(0,r.useEffect)((()=>{v(m(e)),A(p(e))}),[e]);const[b,h]=(0,r.useState)({}),_=(0,r.useCallback)(((e,t)=>{h(t),void 0===t.errors&&(void 0===g?c({scramble:e,response:t}):u({scramble:e,response:t}))}),[g,h,c,u]),w=(0,r.useCallback)((e=>{h({errors:["The request to the server failed. This is definitely unexpected, you may consider contacting the WST with the error below!",e.toString()]})}),[h]),C=(0,r.useCallback)((e=>{const n=void 0===g?(0,d.t3)(""):(0,d.t3)(g);t(n,e,(t=>_(e.scramble,t)),{method:void 0===g?"POST":"PATCH"},w)}),[t,g,_,w]),S=(0,r.useCallback)((()=>{t((0,d.t3)(e.id),{},(t=>f({scramble:e,response:t})),{method:"DELETE"},w)}),[t,e,f,w]);return r.createElement("div",{className:"scramble-form"},r.createElement("h3",null,"Round data"),r.createElement(o.default,{roundData:E,setRoundData:v}),r.createElement("h3",null,"Scramble data"),r.createElement(i.default,{state:y,setState:A}),r.createElement(s.default,{response:b}),r.createElement("div",null,r.createElement(a.A,{positive:!0,loading:n,disabled:n,onClick:()=>C((({eventId:e,competitionId:t,roundTypeId:n,roundId:r},{groupId:a,isExtra:o,scrambleNum:i,scrambleStr:l})=>({scramble:{competition_id:t,event_id:e,round_type_id:n,round_id:r,group_id:a,is_extra:o,scramble_num:i,scramble:l}}))(E,y))},"Save"),r.createElement(a.A,{primary:!0,as:"a",loading:n,disabled:n,href:(0,d.ZY)(E.competitionId,E.eventId)},"Go to competition scrambles")),g&&r.createElement(l.default,{deleteAction:S}))}t.default=function({scramble:e,sync:t}){const{save:n,saving:o}=(0,u.A)(),[i,l]=(0,r.useState)(void 0),[s,d]=(0,r.useState)(void 0),[m,p]=(0,r.useState)(void 0),g=(0,r.useCallback)((e=>{p(e),t()}),[t,p]);return i?r.createElement(c.default,{eventId:e.event_id,competitionId:e.competition_id,response:i.response}):m?r.createElement("div",null,r.createElement(c.default,{eventId:e.event_id,competitionId:e.competition_id,response:m.response}),r.createElement(a.A,{secondary:!0,loading:o,disabled:o,onClick:()=>p(void 0)},"Go back for more edits")):s?r.createElement(c.default,{eventId:e.event_id,competitionId:e.competition_id,response:s.response}):r.createElement(f,{scramble:e,save:n,saving:o,onCreate:l,onUpdate:g,onDelete:d})}},53254:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(96540),a=n(79519),o=n(66048);function i(){const{data:e,loading:t}=(0,a.A)(o.VB.users.me.permissions);return{loggedInUserPermissions:r.useMemo((()=>({canViewDelegateAdminPage:Boolean("*"===(null===e||void 0===e?void 0:e.can_view_delegate_admin_page.scope)),canEditGroup:t=>Boolean("*"===(null===e||void 0===e?void 0:e.can_edit_groups.scope)||(null===e||void 0===e?void 0:e.can_edit_groups.scope.includes(t))),canRequestToEditOthersProfile:Boolean("*"===(null===e||void 0===e?void 0:e.can_request_to_edit_others_profile.scope))})),[e]),loading:t}}},53274:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});n(38419);var r=n(66048),a=n(45567);async function o(e,t){{const n=(0,r.zD)(e,t),{data:o}=await(0,a.o)(n);return o}}},53647:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(54485),o=n(55448),i=n(66048),l=n(65097);t.default=function({competitionId:e,canAdminResults:t}){return r.createElement(l.default,{competitionId:e,canAdminResults:t,dataUrlFn:i.rC,newEntryUrlFn:i.l8,DataRowHeader:a.default,DataRowBody:o.default})}},53691:function(e,t,n){"use strict";n.r(t),n.d(t,{moveArrayItem:function(){return c},scrambleSetToDetails:function(){return s},scrambleSetToName:function(){return l}});var r=n(2543),a=n.n(r),o=n(83995);const i=e=>{const t=String.fromCharCode(65+e%26);return e<26?t:i(Math.floor(e/26)-1)+t},l=e=>`${o.AZ.byId[e.event_id].name} Round ${e.round_number} Scramble Set ${i(e.scramble_set_number-1)}`,s=e=>{const[t,n]=a().partition(e.inbox_scrambles,"is_extra"),r=n.map((e=>e.scramble_string)).join("\n");if(t.length>0){return[r,t.map((e=>e.scramble_string)).join("\n")].join("\n\n")}return r};function c(e,t,n){const r=e[t],a=[...e.slice(0,t),...e.slice(t+1)];return[...a.slice(0,n),r,...a.slice(n)]}},53990:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(31746),o=n(60654),i=n(97286),l=n(83995),s=n(72445),c=n(7862),u=n(80405);function d({ticketId:e}){const{data:t,isLoading:n,isError:d}=(0,i.I)({queryKey:["ticket-logs",e],queryFn:()=>(0,s.default)({ticketId:e})});return n?r.createElement(c.default,null):d?r.createElement(u.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h2"},"Logs"),r.createElement(o.A,null,t.map((({action_type:e,action_value:t,created_at:n})=>r.createElement(o.A.Item,null,n,": ",function(e,t){return e===l.gR.status_updated?`Status updated to ${t}`:`[Unsupported log]: ${e}: ${t}`}(e,t))))))}},54076:function(e,t,n){"use strict";var r=n(96540),a=n(2543),o=n.n(a);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.A=(e,t,n="value")=>(0,r.useCallback)(((r,a=void 0)=>{const s=a?a[n]:r;return e((e=>{const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return o().set(n,t,s),n})),s}),[e,t,n])},54269:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(53959),o=n(16147),i=n(35907),l=n(24106),s=n(45382);function c({matchableRows:e=[],expectedNumOfRows:t=e.length,onRowDragCompleted:n,computeDefinitionName:c,computeRowName:u,computeRowDetails:d,moveAwayAction:m}){const[p,f]=(0,r.useState)(null),[g,E]=(0,r.useState)(null),v=Math.max(e.length,t),y=null===g?0:g-p,A=Math.sign(y);return r.createElement(a.A,{definition:!0},r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,null),r.createElement(a.A.HeaderCell,null,"Assigned Scrambles"),m&&r.createElement(a.A.HeaderCell,null,"Move"))),r.createElement(s.JY,{onBeforeDragStart:e=>{var t,n;f(null===(t=e.source)||void 0===t?void 0:t.index),E(null===(n=e.source)||void 0===n?void 0:n.index)},onDragUpdate:e=>{var t;E(null===(t=e.destination)||void 0===t?void 0:t.index)},onDragEnd:e=>{f(null),E(null);const{source:t,destination:r}=e;r&&n(t.index,r.index)}},r.createElement(s.gL,{droppableId:"scrambles"},(n=>r.createElement(o.o,{innerRef:n.innerRef},r.createElement(a.A.Body,n.droppableProps,_.times(v).map((n=>{var f,E;const y=e[n],b=n<t,h=!b,_=b&&!y,w=`extra-scramble-set-${n+1}`,C=null!==(f=null===y||void 0===y||null===(E=y.id)||void 0===E?void 0:E.toString())&&void 0!==f?f:w;return r.createElement(s.sx,{key:C,draggableId:C,index:n,isDragDisabled:1===v||_},((e,t)=>{const s=((e,t=!1)=>{if(t)return g;const n=Math.min(p,g),r=Math.max(p,g);return e>=n&&e<=r?e-A:e})(n,t.isDragging);return r.createElement(o.o,{innerRef:e.innerRef},r.createElement(a.A.Row,Object.assign({key:C},e.draggableProps,{negative:_||h}),r.createElement(a.A.Cell,{textAlign:"right",collapsing:!0},b?c(s):"Extra Scramble set (unassigned)",h&&r.createElement(r.Fragment,null,r.createElement(i.A,{name:"exclamation triangle"}),"Unexpected Scramble Set")),r.createElement(a.A.Cell,e.dragHandleProps,r.createElement(i.A,{name:_?"exclamation triangle":"bars"}),_?"Missing scramble set":r.createElement(r.Fragment,null,u(y)," ",d&&r.createElement(l.A,{trigger:r.createElement(i.A,{name:"info circle"}),position:"right center",style:{whiteSpace:"pre-line"}},d(y)))),m&&r.createElement(a.A.Cell,{textAlign:"center",collapsing:!0,icon:!0},r.createElement(i.A,{name:"arrows alternate horizontal",link:!0,onClick:()=>m(y)}))))}))})),n.placeholder))))))}},54365:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(52011),o=n(40573);t.default=function({result:e}){return r.createElement(a.default,{initDataItem:e,dataType:"result",EditForm:o.InlineEditForm})}},54485:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(53959),o=n(1460);t.default=function(){return r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{width:1},"#"),r.createElement(a.A.HeaderCell,{width:4},o.Ay.t("competitions.results_table.name")),r.createElement(a.A.HeaderCell,null,o.Ay.t("common.best")),r.createElement(a.A.HeaderCell,null),r.createElement(a.A.HeaderCell,null,o.Ay.t("common.average")),r.createElement(a.A.HeaderCell,null),r.createElement(a.A.HeaderCell,null,o.Ay.t("common.user.representing")),r.createElement(a.A.HeaderCell,null,o.Ay.t("common.solves")))}},54534:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(60654),o=n(73574);const i=e=>e.user&&!e.person?"User Only":e.person&&!e.user?"Person Only":e.user&&e.person?"User & Person":"Unknown";function l({data:e}){var t,n,l;return r.createElement(a.A,{bulleted:!0},r.createElement(a.A.Item,null,`Anonymization type: ${i(e)}`),r.createElement(a.A.Item,null,`DOB: ${(null===(t=e.user)||void 0===t?void 0:t.dob)||(null===(n=e.person)||void 0===n?void 0:n.dob)||"N/A"}`),r.createElement(a.A.Item,null,`Email: ${(null===(l=e.user)||void 0===l?void 0:l.email)||"N/A"}`),r.createElement(o.A,null,"Before processing any anonymization requests, WRT must receive verification with a picture/copy of an official ID verification (passport, driver's license, etc.) with a minimum of their name and birthday (any other information may be blurred-out/obfuscated)."))}},54565:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(95472),o=n(1460),i=n(89407),l=n(50495);const s="userData";function c({loggedInUserData:e}){const{formValues:{userData:t}}=(0,i.Pj)(),n=(0,i.wA)(),c=(e,{name:t,value:r})=>n((0,l.updateSectionData)(s,t,r));return e?null:r.createElement(r.Fragment,null,r.createElement(a.A.Input,{label:o.Ay.t("page.contacts.form.user_data.name.label"),name:"name",value:t.name,onChange:c}),r.createElement(a.A.Input,{label:o.Ay.t("page.contacts.form.user_data.email.label"),name:"email",value:t.email,onChange:c}))}},54694:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(96540),a=n(27089),o=n(31746),i=n(73574),l=n(1460),s=n(1026),c=n(89740),u=n(79519),d=n(66048),m=n(7862),p=n(89407),f=n(62832),g=n(46882);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A({recaptchaPublicKey:e}){var t,n;const{data:E,loading:y}=(0,u.A)(d.VB.users.me.userDetails),[A]=(0,g.A)();return y?r.createElement(m.default,null):r.createElement(p.Ay,{reducer:f.default,initialState:(0,f.getContactFormInitialState)(v(v({},A),{},{userName:null===E||void 0===E||null===(t=E.user)||void 0===t?void 0:t.name,userEmail:null===E||void 0===E||null===(n=E.user)||void 0===n?void 0:n.email}))},r.createElement(a.A,{text:!0},r.createElement(o.A,{as:"h2"},l.Ay.t("page.contacts.title")),r.createElement(i.A,{visible:!0},r.createElement(s.default,{i18nKey:"page.contacts.faq_note_html"})),r.createElement(c.default,{loggedInUserData:E,recaptchaPublicKey:e})))}},54905:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(77949),o=n(18397),i=n(34622),l=n(43703);function s(){const{website:e}=(0,l.useFormObject)(),t=e&&!e.generateWebsite,n=e&&!e.usesWcaRegistration;return r.createElement(i.default,{section:"website"},r.createElement(a.InputBoolean,{id:"generateWebsite"}),r.createElement(o.default,{showIf:t},r.createElement(a.InputString,{id:"externalWebsite",required:t,ignoreDisabled:!0})),r.createElement(a.InputBoolean,{id:"usesWcaRegistration"}),r.createElement(o.default,{showIf:n},r.createElement(a.InputString,{id:"externalRegistrationPage"})),r.createElement(a.InputBoolean,{id:"usesWcaLive",ignoreDisabled:!0}))}},55227:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(96540),a=n(53959),o=n(24106),i=n(3487),l=n(73574),s=n(1460),c=n(7862),u=n(91592),d=n(66048),m=n(83995),p=n(79519),f=n(16769),g=n(43703);function E(){return r.createElement("i",{className:"fas fa-exclamation-circle","data-toggle":"tooltip","data-placement":"top","data-container":"body",title:"This competition is not confirmed yet."})}function v(){return r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{name:"name",width:3},s.Ay.t("competitions.adjacent_competitions.name")),r.createElement(a.A.HeaderCell,{name:"delegates",width:3},s.Ay.t("competitions.adjacent_competitions.delegates")),r.createElement(a.A.HeaderCell,{name:"time",width:2},s.Ay.t("competitions.adjacent_competitions.time")),r.createElement(a.A.HeaderCell,{name:"location",width:2},s.Ay.t("competitions.adjacent_competitions.location")))}function y({comp:e,showEvents:t}){return r.createElement(a.A.Row,{warning:!e.danger,error:e.danger},r.createElement(a.A.Cell,{name:"name",width:3},r.createElement("span",{dangerouslySetInnerHTML:{__html:e.nameLink}}),!e.confirmed&&r.createElement(E,null)),r.createElement(a.A.Cell,{name:"delegates",width:2},r.createElement("span",{dangerouslySetInnerHTML:{__html:e.delegates}})),r.createElement(a.A.Cell,{name:"time",width:2},r.createElement(o.A,{content:`${e.name} ${s.Ay.t("competitions.colliding_registration_start_competitions.opens_registration_at")} ${new Date(e.registrationOpen).toUTCString()}`,position:"top center",size:"tiny",trigger:r.createElement("span",null,s.Ay.t("datetime.distance_in_words.x_minutes",{count:Math.abs(parseFloat(e.minutesUntil))})," ",e.minutesUntil<0?s.Ay.t("competitions.adjacent_competitions.before"):s.Ay.t("competitions.adjacent_competitions.after"))})),r.createElement(a.A.Cell,{name:"location",width:2},e.cityName," ",e.countryId),t&&r.createElement(a.A.Cell,{name:"events",width:2},e.events.map((e=>r.createElement(o.A,{key:e,position:"bottom center",size:"tiny",content:m.AZ.byId[e].name,trigger:r.createElement("i",{key:e,className:`cubing-icon icon event-${e}`})})))))}function A({comps:e}){const[t,n]=(0,f.A)(!1);return r.createElement(a.A,{structured:!0},r.createElement(a.A.Header,null,r.createElement(v,null)),r.createElement(a.A.Body,null,e.toReversed().map((e=>r.createElement(y,{key:e.name,comp:e,showEvents:t})))),r.createElement(a.A.Footer,{fullWidth:!0},r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{colSpan:"16"},r.createElement(i.A,{toggle:!0,floated:"right",size:"mini",active:t,onClick:n},t?s.Ay.t("competitions.adjacent_competitions.hide_events"):s.Ay.t("competitions.adjacent_competitions.show_events"))))))}function b(){return r.createElement(l.A,{negative:!0},r.createElement("p",null,s.Ay.t("competitions.colliding_registration_start_competitions.no_registration_start_date_yet")))}function h(){const{competitionId:e,registration:{openingDateTime:t}}=(0,g.useFormObject)(),n=(0,r.useMemo)((()=>{const n=new URLSearchParams;return t?(n.append("id",e),n.append("registration_open",t),n):n}),[e,t]),a=(0,r.useMemo)((()=>`${d.Ar}?${n.toString()}`),[n]),{data:o,loading:i}=(0,p.A)(a);return i?r.createElement(c.default,null):t?o&&0!==o.length?r.createElement(A,{comps:o}):r.createElement(l.A,{positive:!0},s.Ay.t("competitions.colliding_registration_start_competitions.no_comp_colliding")):r.createElement(b,null)}function _(){const e=s.Ay.t("competitions.colliding_registration_start_competitions.label",{hours:3});return r.createElement(u.default,{label:e},r.createElement(h,null))}},55323:function(e,t,n){"use strict";n.r(t),n.d(t,{getPersons:function(){return o}});var r=n(45567),a=n(66048);async function o(e,t,n){const{data:o}=await(0,r.o)(`${a.ak}?search=${n}&sort=name&order=asc&offset=${10*(e-1)}&limit=10&region=${null!==t&&void 0!==t?t:"all"}`,{headers:{Accept:"application/json"}});return o}},55448:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(86029);t.default=function({round:e,adminMode:t}){return r.createElement(r.Fragment,null,e.results.map(((e,n,o)=>r.createElement(a.default,{key:e.id,result:e,results:o,index:n,adminMode:t}))))}},55521:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(95472),o=n(1460),i=n(89407),l=n(50495);const s="wst";function c(){const{formValues:{wst:e}}=(0,i.Pj)(),t=(0,i.wA)();return r.createElement(a.A.TextArea,{label:o.Ay.t("page.contacts.form.wst.message.label"),name:"message",value:null===e||void 0===e?void 0:e.message,onChange:(e,{name:n,value:r})=>t((0,l.updateSectionData)(s,n,r))})}},55677:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(96540),a=n(95472),o=n(31746),i=n(54070),l=n(63129),s=n(73591),c=n(98866),u=n(57097),d=n(91283),m=n(83995),p=n(41935),f=n(16523),g=n(33438),E=n(57598),v=n(62528),y=n(76187),A=n(39355),b=n(95522);const h=m.K3.map((e=>({key:e,text:e,value:e}))),_={manual:"Pick competition(s) manually",range:"Competitions between dates"},w=Object.keys(_);function C({competitionIds:e}){return r.createElement(b.A,null,r.createElement(S,{competitionIds:e}))}function S({competitionIds:e}){const[t,n]=(0,d.A)("manual"),[b,C]=(0,d.A)(e||[]),[S,I]=(0,r.useState)(),[P,O]=(0,d.A)(m.K3),[R,k]=(0,E.A)(!1),{mutate:j,isPending:T,isError:x,error:D,data:F}=(0,u.n)({mutationFn:()=>"manual"===t?(0,v.default)(b,P,R):(0,y.default)(S,P,R)}),M=!e,L="range"===t||b.length>1;return r.createElement(r.Fragment,null,r.createElement(a.A,{onSubmit:j},M&&r.createElement(r.Fragment,null,r.createElement(o.A,null,"Competition Selector"),r.createElement(i.A,{grouped:!0},w.map((e=>r.createElement(l.A,{key:e},r.createElement(s.A,{label:_[e],name:"competitionSelectionOption",value:e,checked:t===e,onChange:n}))))),"manual"===t&&r.createElement(a.A.Field,{label:"Competition ID(s)",control:p.IdWcaSearch,name:"competitionIds",value:b,onChange:C,model:f.default.competition,multiple:!0,required:!0}),"range"===t&&r.createElement(g.default,{range:S,setRange:I})),r.createElement(o.A,null,"Run Validators"),r.createElement(a.A.Dropdown,{label:"Select Validators to run",options:h,fluid:!0,multiple:!0,selection:!0,value:P,onChange:O}),r.createElement(a.A.Checkbox,{label:"Apply fix when possible",value:R,onChange:k}),r.createElement(o.A,{as:"h4"},r.createElement(c.A,null,`List of validators with automated fix: ${m.Lm.join(", ")}`)),r.createElement(a.A.Button,{type:"submit",disabled:0===P.length},"Run Validators")),r.createElement(A.default,{validationOutput:F,isPending:T,isError:x,error:D,showCompetitionNameOnOutput:L}))}},56529:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o(){const{data:e}=await(0,r.o)(a.Ab);return e}},56559:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(64846),a=n(98753),o=n(8449);async function i(e,t){const n=t||{};n.headers||(n.headers={}),n.headers.Authorization=await(0,r.default)();const l=await fetch(e,n),s=await l.json();if(!l.ok){if(s.error===o.EXPIRED_TOKEN)return await(0,r.default)(!0),i(e,t);throw new a.A(`${l.status}: ${l.statusText}\n${s.error}`,l,s)}return{data:s,headers:l.headers}}},56622:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(47186),o=n(65106),i=n(44283),l=n(1460),s=n(67642),c=n(34260),u=n(78737);const d={key:"requirements",i18nKey:"competitions.registration_v2.register.panel.requirements",component:i.default},m={key:"competing",i18nKey:"competitions.registration_v2.register.panel.competing",component:o.default},p={key:"payment",i18nKey:"competitions.registration_v2.register.panel.payment",component:u.default},f={key:"approval",i18nKey:"competitions.registration_v2.register.panel.approval",component:s.default},g=(e,t,n,r,a)=>r===p.key?t:r===m.key?e:r===d.key?a>0:r===f.key&&n,E=(e,t,n,r,a,o)=>!!o||(t===p.key?!e&&r>n:t===m.key?r>n:t===d.key&&0!==n);function v({competitionInfo:e,preferredEvents:t,user:n,stripePublishableKey:o,connectedAccountId:i,qualifications:u,registrationCurrentlyOpen:v}){const{isRegistered:y,isAccepted:A,isRejected:b,hasPaid:h,isPolling:_}=(0,c.useRegistration)(),w=y&&h||y&&!e["using_payment_integrations?"],C=(0,r.useMemo)((()=>{const t=[d,m];return e["using_payment_integrations?"]&&t.push(p),y&&t.push(f),t}),[e,y]),[S,I]=(0,r.useState)((()=>_?C.findIndex((e=>e===m)):w||A||b?C.findIndex((e=>e===f)):C.findIndex((e=>e===(y?p:d))))),P=S===f.index?s.default:C[S].component;return r.createElement(r.Fragment,null,r.createElement(a.A.Group,{fluid:!0,ordered:!0,stackable:"tablet"},C.map(((e,t)=>r.createElement(a.A,{key:e.key,active:S===t,completed:g(y,h,A,e.key,S),disabled:E(h,e.key,S,t,v,b),onClick:()=>I(t)},r.createElement(a.A.Content,null,r.createElement(a.A.Title,null,l.Ay.t(`${e.i18nKey}.title`)),r.createElement(a.A.Description,null,l.Ay.t(`${e.i18nKey}.description`))))))),r.createElement(P,{competitionInfo:e,preferredEvents:t,user:n,stripePublishableKey:o,connectedAccountId:i,qualifications:u,nextStep:(e={})=>I((t=>{if(null!==e&&void 0!==e&&e.refresh)return t;if(null!==e&&void 0!==e&&e.toStart)return 0;if(null!==e&&void 0!==e&&e.goBack)return t-1;return t===C.findIndex((e=>e===f))?C.findIndex((e=>e===m)):t+1}))}))}},56628:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(96540),a=n(31746),o=n(3487),i=n(53959),l=n(87977),s=n(95472),c=n(79519),u=n(66048),d=n(83995),m=n(7862),p=n(80405),f=n(1460),g=n(12845),E=n(41935),v=n(16523),y=n(58894);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=Object.keys(d.mM).map((e=>({key:e,text:f.Ay.t(`enums.user_roles.status.officers.${e}`),value:e}))),w={status:_[0].value};function C(){const{data:e,loading:t,error:n,sync:A}=(0,c.A)(u.VB.userRoles.list({groupType:d.Hn.officers,isActive:!0},"status:desc")),[h,C]=(0,r.useState)(!1),[S,I]=(0,r.useState)(w),[P,O]=(0,r.useState)(null),{save:R,saving:k}=(0,g.A)(),j=(0,y.S)(),T=n||P,x=(e,{name:t,value:n})=>I(b(b({},S),{},{[t]:n}));return t||k?r.createElement(m.default,null):T?r.createElement(p.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,null,"Officers Editor"),r.createElement(o.A,{onClick:()=>C(!0)},"Add Role"),r.createElement(i.A,{celled:!0},r.createElement(i.A.Header,null,r.createElement(i.A.Row,null,r.createElement(i.A.HeaderCell,null,"Name"),r.createElement(i.A.HeaderCell,null,"Status"),r.createElement(i.A.HeaderCell,null,"Actions"))),r.createElement(i.A.Body,null,e.map((e=>r.createElement(i.A.Row,{key:e.id},r.createElement(i.A.Cell,null,e.user.name),r.createElement(i.A.Cell,null,f.Ay.t(`enums.user_roles.status.officers.${e.metadata.status}`)),r.createElement(i.A.Cell,null,r.createElement(o.A,{onClick:()=>(e=>{j().then((()=>{R(u.VB.userRoles.delete(e.id),{},A,{method:"DELETE"})}))})(e)},"End Role"))))))),h&&r.createElement(l.A,{size:"fullscreen",open:h,onClose:()=>{C(!1),I(w)}},r.createElement(l.A.Content,null,r.createElement(a.A,null,"Add Officer"),r.createElement(s.A,{onSubmit:()=>{R(u.VB.userRoles.create(),{groupType:d.Hn.officers,userId:S.user.id,status:S.status},(()=>{A(),I(w),C(!1)}),{method:"POST"},(e=>{O(e),I(w),C(!1)}))}},r.createElement(s.A.Field,{label:"New Officer",control:E.default,name:"user",value:S.user,onChange:x,model:v.default.user,multiple:!1}),r.createElement(s.A.Dropdown,{label:"Status",name:"status",value:S.status,onChange:x,options:_}),r.createElement(o.A,{type:"submit"},"Submit")))))}},57064:function(e,t,n){"use strict";n.r(t);var r=n(83995),a=n(25375);t.default={[r.uF.edit_person]:{[r.S8.actioner]:a.default}}},57560:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(2543),a=n.n(r),o=n(96540),i=n(278),l=n(21531),s=n(74122);function c({regulation:e}){return o.createElement("span",null,"regulation"," ",o.createElement("a",{href:`https://www.worldcubeassociation.org/regulations/#${e}`,target:"_blank",rel:"noreferrer"},e))}function u({guideline:e}){return o.createElement("span",null,"guideline"," ",o.createElement("a",{href:`https://www.worldcubeassociation.org/regulations/guidelines.html#${e}`,target:"_blank",rel:"noreferrer"},e))}function d({wcifRound:e,timeLimit:t,onOk:n}){if(0===t.cumulativeRoundIds.length)return`Competitors have ${(0,i.lP)(t.centiseconds)} for each of their solves.`;if(1===t.cumulativeRoundIds.length)return o.createElement(o.Fragment,null,o.createElement("span",null,"Competitors have"," ",(0,i.lP)(t.centiseconds)," ","total for all of their solves in this round.",o.createElement("br",null),"This is called a cumulative time limit (see",o.createElement(c,{regulation:"A1a2"}),").",o.createElement("br",null),"The button below allows you to share this cumulative time limit with other rounds (see",o.createElement(u,{guideline:"A1a2++"}),")."),o.createElement(s.default,{excludeEventId:e.id.split("-")[0],timeLimit:t,onOk:n}));const r=a().without(t.cumulativeRoundIds,e.id);return o.createElement(o.Fragment,null,o.createElement("span",null,"This round has a cross round cumulative time limit (see"," ",o.createElement(u,{guideline:"A1a2++"}),").",o.createElement("br",null),"This means that competitors have"," ",(0,i.lP)(t.centiseconds)," ","total for all of their solves in this round (",(0,l.yt)(e.id),") shared with:",o.createElement("ul",null,r.map((e=>o.createElement("li",{key:e},(0,l.yt)(e)))))),o.createElement(s.default,{excludeEventId:e.id.split("-")[0],timeLimit:t,onOk:n}))}},57569:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(31746),o=n(66048),i=n(79519),l=n(14526),s=n(7862),c=n(80405);function u({subregion:e,isAdminMode:t}){const{data:n,loading:u,error:d}=(0,i.A)(o.VB.userRoles.list({isActive:!0,groupId:e.id},"location,name"));return u?r.createElement(s.default,null):d?r.createElement(c.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h4",key:e.id},e.name),r.createElement(l.default,{delegates:n,isAdminMode:t}))}},57598:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(96540);const a=e=>(0,r.useCallback)(((t,n=void 0)=>{e(n?n.checked:t)}),[e]);t.A=(e=void 0)=>{const[t,n]=(0,r.useState)(e);return[t,a(n)]}},57721:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(2543),i=n.n(o),l=n(85111),s=n(51319);t.default=function({value:e,onChange:t,label:n,disabled:o,TextFieldProps:c={},resultType:u="single"}){const d="average"===u,m=d?e/100:e,[p,f]=(0,r.useState)(m),[g,E]=(0,r.useState)(m);p!==m&&(E(m),f(m));const v=(0,r.useCallback)((e=>{const t=e.nativeEvent.data;if(l.DNF_KEYS.includes(t))E(s.Pf);else if(l.DNS_KEYS.includes(t))E(s.IG);else{const t=i().toInteger(e.target.value.replace(/\D/g,""))||s.fH;E(t)}}),[E]),y=(0,r.useCallback)((()=>{t(d?100*g:g),E(m)}),[t,g,E,m,d]);return r.createElement(a.A.Input,Object.assign({},c,{label:n,disabled:o,spellCheck:!1,value:(A=g,A===s.fH?"":A===s.Pf?"DNF":A===s.IG?"DNS":A.toString()),onChange:v,onBlur:y}));var A}},58233:function(e,t,n){"use strict";n.r(t),n.d(t,{AdvancementTypeInput:function(){return l},default:function(){return s}});var r=n(96540),a=n(95472),o=n(6957);const i=[{key:0,value:0,text:"To be Announced"},{key:-1,value:-1,text:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500",disabled:!0},{key:1,value:"ranking",text:"Ranking"},{key:2,value:"percent",text:"Percent"},{key:3,value:"attemptResult",text:"Result"}];function l({advancementType:e,onChange:t}){return r.createElement(a.A.Select,{value:e,onChange:t,options:i,openOnFocus:!1,name:"advancementType"})}function s({advancementType:e,onChange:t}){return r.createElement(a.A.Field,{inline:!0},r.createElement(o.A,null,"Type"),r.createElement(a.A.Input,{as:l,advancementType:e,onChange:t}))}},58706:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(31746),o=n(35907),i=n(2543),l=n.n(i),s=n(83995);function c({results:e,children:t}){const n=l().groupBy(e,"result.event_id"),i=Object.keys(n);return s.uE.filter((e=>i.includes(e))).map((e=>r.createElement(r.Fragment,{key:e},r.createElement(a.A,null,r.createElement(o.A,{className:`cubing-icon event-${e}`}),s.AZ.byId[e].name),t(n[e]))))}},58802:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(95472),o=n(1460),i=n(89407),l=n(50495);const s="wrt";function c(){const{formValues:{wrt:{message:e}}}=(0,i.Pj)(),t=(0,i.wA)();return r.createElement(a.A.TextArea,{label:o.Ay.t("page.contacts.form.wrt.message.label"),name:"message",value:e,onChange:(e,{name:n,value:r})=>t((0,l.updateSectionData)(s,n,r)),style:{whiteSpace:"pre-wrap"}})}},58894:function(e,t,n){"use strict";n.d(t,{A:function(){return u},S:function(){return d}});var r=n(96540),a=n(56991);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=(0,r.createContext)(),c={content:"Are you sure? This action cannot be undone.",confirmButton:"Yes",cancelButton:"No"};function u({children:e}){const[t,n]=(0,r.useState)(c),[o,l]=(0,r.useState)([]),u=(0,r.useCallback)(((e={})=>new Promise(((t,r)=>{n(i(i({},c),e)),l([t,r])}))),[]),[d,m]=o,p=(0,r.useCallback)((()=>{l([])}),[]),f=(0,r.useCallback)((()=>{m&&(m(),p())}),[m,p]),g=(0,r.useCallback)((()=>{d&&(d(),p())}),[d,p]);return r.createElement(r.Fragment,null,r.createElement(s.Provider,{value:u},e),r.createElement(a.A,{open:2===o.length,onCancel:f,onConfirm:g,content:t.content,cancelButton:t.cancelButton,confirmButton:t.confirmButton}))}const d=()=>(0,r.useContext)(s)},59211:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(60654),a=n(31746),o=n(96540),i=n(96285),l=n(57097),s=n(1460),c=n(89407),u=n(66048),d=n(58894),m=n(45567),p=n(81333),f=n(7862),g=n(23875);function E({competitionId:e,announcementData:t}){const{isAnnounced:n,announcedBy:r,announcedAt:a}=t,c=(0,p.useQueryDataSetter)((0,p.announcementDataQueryKey)(e)),d=(0,l.n)({mutationFn:()=>(0,m.o)((0,u.gU)(e),{method:"PUT"}).then((e=>e.data)),onSuccess:c});if(n){const e=i.c9.fromISO(a);return s.Ay.t("competitions.announced_by_html",{announcer_name:r,date_time:e.toLocaleString(i.c9.DATETIME_FULL)})}return o.createElement(g.FormActionButton,{mutation:d,confirmationMessage:s.Ay.t("competitions.announce_confirm"),buttonText:s.Ay.t("competitions.post_announcement"),buttonProps:{positive:!0}})}function v({competitionId:e,announcementData:t}){const{isCancelled:n,cancelledBy:a,cancelledAt:i,canBeCancelled:c}=t,d=(0,p.useQueryDataSetter)((0,p.confirmationDataQueryKey)(e)),f=(0,l.n)({mutationFn:()=>(0,m.o)((0,u.pV)(e),{method:"PUT"}).then((e=>e.data)),onSuccess:d}),E=(0,l.n)({mutationFn:()=>(0,m.o)((0,u.pV)(e,!0),{method:"PUT"}).then((e=>e.data)),onSuccess:d});return n?o.createElement(o.Fragment,null,s.Ay.t("competitions.cancelled_by_html",{name:a,date_time:i}),o.createElement(r.A.List,{verticalAlign:"middle"},o.createElement(r.A.Item,null,s.Ay.t("competitions.cancel_mistake")),o.createElement(r.A.Item,null,o.createElement(g.FormActionButton,{mutation:E,buttonText:s.Ay.t("competitions.uncancel"),buttonProps:{secondary:!0}})))):c?o.createElement(g.FormActionButton,{mutation:f,confirmationMessage:s.Ay.t("competitions.cancel_confirm"),buttonText:s.Ay.t("competitions.cancel"),buttonProps:{negative:!0}}):s.Ay.t("competitions.note_before_cancel")}function y({competitionId:e,announcementData:t}){const{isRegistrationPast:n,isRegistrationFull:r,canCloseFullRegistration:a}=t,i=(0,p.useQueryDataSetter)((0,p.announcementDataQueryKey)(e)),c=(0,l.n)({mutationFn:()=>(0,m.o)((0,u.O0)(e),{method:"PUT"}).then((e=>e.data)),onSuccess:i});return n?s.Ay.t("competitions.note_reg_closed_orga_close_reg"):r?a?o.createElement(g.FormActionButton,{mutation:c,confirmationMessage:s.Ay.t("competitions.orga_close_reg_confirm"),buttonText:s.Ay.t("competitions.orga_close_reg"),buttonProps:{negative:!0}}):null:s.Ay.t("competitions.note_reg_not_full_orga_close_reg")}function A({competitionId:e}){const{isAdminView:t}=(0,c.Pj)(),{data:n,isLoading:i}=(0,p.useAnnouncementData)(e);return i?o.createElement(f.default,null):o.createElement(d.A,null,o.createElement(a.A,{style:{marginTop:0}},s.Ay.t("competitions.announcements")),o.createElement(r.A,{bulleted:!0,verticalAlign:"middle"},t&&o.createElement(r.A.Item,null,o.createElement(E,{competitionId:e,announcementData:n})),t&&o.createElement(r.A.Item,null,o.createElement(v,{competitionId:e,announcementData:n})),o.createElement(r.A.Item,null,o.createElement(y,{competitionId:e,announcementData:n}))))}},59267:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m},mergeScrambleSets:function(){return u},useDispatchWrapper:function(){return d}});var r=n(96540),a=n(2543),o=n.n(a),i=n(53691);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){const n=o().groupBy(t.inbox_scramble_sets,"matched_round_wcif_id"),r=o().mapValues(n,(e=>o().sortBy(e,"ordered_index").map((e=>s(s({},e),{},{inbox_scrambles:o().sortBy(e.inbox_scrambles,"ordered_index")})))));return o().mergeWith(r,e,((e,t)=>{const n=[...null!==t&&void 0!==t?t:[],...null!==e&&void 0!==e?e:[]];return o().uniqBy(n,"id")}))}function d(e,t){return(0,r.useCallback)((n=>{e(s(s({},t),n))}),[t,e])}function m(e,t){switch(t.type){case"addScrambleFile":return u(e,t.scrambleFile);case"removeScrambleFile":return function(e,t){const n=o().mapValues(e,(e=>e.filter((e=>e.external_upload_id!==t.id))));return o().pickBy(n,(e=>e.length>0))}(e,t.scrambleFile);case"moveRoundScrambleSet":return s(s({},e),{},{[t.roundId]:(0,i.moveArrayItem)(e[t.roundId],t.fromIndex,t.toIndex)});case"moveScrambleSetToRound":return s(s({},e),{},{[t.fromRoundId]:e[t.fromRoundId].filter((e=>e.id!==t.scrambleSet.id)),[t.toRoundId]:[...e[t.toRoundId],s({},t.scrambleSet)]});case"moveScrambleInSet":return s(s({},e),{},{[t.roundId]:e[t.roundId].map(((e,n)=>n===t.setNumber?s(s({},e),{},{inbox_scrambles:(0,i.moveArrayItem)(e.inbox_scrambles,t.fromIndex,t.toIndex)}):e))});default:throw new Error(`Unhandled action type: ${t.type}`)}}},59731:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p},rankingCellStyle:function(){return d},recordTagStyle:function(){return m}});var r=n(53959),a=n(96540),o=n(2543),i=n.n(o),l=n(51319),s=n(66048);const c="0, 230, 118",u=(e,t,n)=>{const r=t[e.id];return r?r[n]:e.id},d=e=>null!==e&&void 0!==e&&e.advancing?{backgroundColor:`rgb(${c})`}:null!==e&&void 0!==e&&e.advancing_questionable?{backgroundColor:`rgba(${c}, 0.5)`}:{},m=e=>{const t={display:"block",lineHeight:1,padding:"0.3em 0.4em",borderRadius:"4px",fontWeight:600,fontSize:"0.6em",position:"absolute",top:"0px",right:"0px",transform:"translate(110%, -40%)",color:"rgb(255, 255, 255)"};switch(e){case"WR":t.backgroundColor="rgb(244, 67, 54)";break;case"CR":t.backgroundColor="rgb(255, 235, 59)";break;case"NR":t.backgroundColor="rgb(0, 230, 118)";break;case"PR":t.backgroundColor="rgb(66, 66, 66)";break;default:return{}}return t};function p({results:e,event:t,competitors:n,competitionId:o,isAdmin:c=!1,showEmpty:p=!0}){const f=i().keyBy(e,"registration_id"),g=(0,a.useMemo)((()=>{const{sortBy:e}=t.recommendedFormat();return i().orderBy(n,[t=>u(t,f,"single"===e?"best":"average"),t=>u(t,f,"single"===e?"average":"best")],["asc","asc"])}),[n,t,f]),E=t.recommendedFormat().expectedSolveCount,v=[...Array(E).keys()];return a.createElement(r.A,{basic:"very",compact:"very"},a.createElement(r.A.Header,null,a.createElement(r.A.Row,null,a.createElement(r.A.HeaderCell,{textAlign:"right"},"#"),c&&a.createElement(r.A.HeaderCell,null,"Id"),a.createElement(r.A.HeaderCell,null,"Competitor"),v.map((e=>a.createElement(r.A.HeaderCell,{key:e,textAlign:"right"},e+1))),a.createElement(r.A.HeaderCell,{textAlign:"right"},"Average"),a.createElement(r.A.HeaderCell,{textAlign:"right"},"Best"))),a.createElement(r.A.Body,null,g.map(((e,n)=>{const i=f[e.id],u=Boolean(i);return p||u?a.createElement(r.A.Row,{key:e.user_id},a.createElement(r.A.Cell,{width:1,textAlign:"right",style:d(i)},n+1),c&&a.createElement(r.A.Cell,null,e.registration_id),a.createElement(r.A.Cell,null,a.createElement("a",{href:c?(0,s.pu)(e.id):s.Hd.personResults(o,e.id)},e.user.name)),u&&i.attempts.map((n=>a.createElement(r.A.Cell,{textAlign:"right",key:`${e.user_id}-${n.attempt_number}`},(0,l.U2)(n.result,t.id)))),u&&a.createElement(a.Fragment,null,a.createElement(r.A.Cell,{textAlign:"right",style:{position:"relative"}},(0,l.U2)(i.average,t.id)," ",!c&&a.createElement("span",{style:m(i.average_record_tag)},i.average_record_tag)),a.createElement(r.A.Cell,{textAlign:"right",style:{position:"relative"}},(0,l.U2)(i.best,t.id),!c&&a.createElement("span",{style:m(i.single_record_tag)},i.single_record_tag)))):null}))))}},59739:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(31746),o=n(3487),i=n(5074),l=n(73574),s=n(97286),c=n(96285),u=n(11217),d=n(7862),m=n(80405),p=n(469);const f={ComputeAuxiliaryData:["Computes some auxiliary tables in the database (ConciseSingleResults, ConciseAverageResults, RanksSingle and RanksAverage).","Computes the lookup for assigning record markers.","Deletes cached results (so they can be cached again)."],DumpDeveloperDatabase:["Copies a redacted version of our entire database into an SQL file.","Zips the file and makes the ZIP file available for public download."],DumpPublicResultsDatabase:["Generates the public Results Export in SQL and TSV formats.","Zips the file and makes the ZIP file available for public download."]},g=e=>c.c9.fromISO(e).toLocal().toRelative(),E=(e,t)=>c.c9.fromISO(t).diff(c.c9.fromISO(e)).rescale().toHuman();function v({cronjobName:e}){const{data:t,isFetching:n,isError:c,refetch:v}=(0,s.I)({queryKey:["cronjob-details",e],queryFn:()=>(0,u.default)({cronjobName:e})});if(n)return r.createElement(d.default,null);if(c)return r.createElement(m.default,null);const[y,A]=function(e){const t=!!e.enqueued_at,n=e.run_start&&!e.run_end,r=!!e.run_end;return t?[`The job has been scheduled ${g(e.enqueued_at)}, but it hasn't been picked up by the job handler yet. Please come back later.`,"info"]:n?e.recently_errored?[`The job started to run but crashed :O The error message was: ${e.last_error_message}`,"error"]:["The job is running. Thanks for checking =)","info"]:r?e.last_run_successful?[`Job was last completed ${g(e.run_end)} and took ${E(e.run_start,e.run_end)}.`,"success"]:[`Job was last completed ${g(e.run_end)} but it raised an error: ${e.last_error_message}. Note that our job handler has an automatic retry mechanism. The more times a job fails, the longer it waits to try again. If this problem persists for several hours, feel free to contact the Software Team.`,"error"]:["Oh dear! The job has never been run!","error"]}(t);return r.createElement(r.Fragment,null,r.createElement(a.A,null,`Controls for ${e}`),r.createElement(o.A,{primary:!0,onClick:v},"Refresh"),r.createElement("p",null,"Steps involved in this cronjob:"),r.createElement(i.A.Group,null,f[e].map((e=>r.createElement(i.A,{key:e},e)))),r.createElement(l.A,{warning:"warning"===A,info:"info"===A,error:"error"===A,success:"success"===A},y),r.createElement(p.default,{cronjobName:e,cronjobDetails:t}))}},59897:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(1489),o=n(23621),i=n(78635),l=n(3487),s=n(66048),c=n(13113);function u(){const[e,t]=r.useState(null),[n,u]=r.useState(null);return r.createElement(a.A,{centered:!0},r.createElement(o.A,null,r.createElement(i.A,{width:8},"Start Date"),r.createElement(i.A,{width:8},r.createElement(c.default,{onChange:t,isoDate:e}))),r.createElement(o.A,null,r.createElement(i.A,{width:8},"End Date"),r.createElement(i.A,{width:8},r.createElement(c.default,{onChange:u,isoDate:n}))),r.createElement(o.A,null,r.createElement(i.A,null,r.createElement(l.A,{disabled:!e||!n,href:`${s.QN}?${new URLSearchParams({from_date:e,to_date:n}).toString()}`,target:"_blank"},"Download"))))}},59971:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(3487),o=n(50363);t.default=function({deleteAction:e}){const[t,n]=(0,r.useState)(!1),i=(0,r.useCallback)((()=>n((e=>!e))),[n]);return r.createElement("div",null,r.createElement(a.A,{negative:!0,className:"delete-result-button",disabled:!t,onClick:e},"Delete the result"),r.createElement(o.A,{label:"Yes, I want to delete that result",checked:t,onChange:i}))}},60301:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(3487),o=n(6957),i=n(24106),l=n(35907),s=n(46942),c=n.n(s),u=n(31797),d=n(1460);t.default=function({user:e,subtexts:t=[],background:n="",badgeClasses:s="",size:m="medium",senior:p=!1,leader:f=!1,hideBorder:g=!1,leftAlign:E=!1}){const v=c()("user-badge",s,{senior:p,leader:f,"left-align":E}),y=t.length?r.createElement("div",{className:"subtext"},t.map(((t,n)=>r.createElement("div",{key:`${e.wca_id}-${t}-subtext-${n.toString()}`},t)))):null;return r.createElement(a.A,{as:"div",className:v,labelPosition:"left"},r.createElement(o.A,{style:{backgroundColor:n},className:"user-badge-label-avatar"},r.createElement(u.default,{avatar:e.avatar,avatarClass:"user-avatar-rounded-left",size:m})),e.wca_id?r.createElement(i.A,{content:d.Ay.t("about.structure.users.profile",{user_name:e.name}),trigger:r.createElement(a.A,{as:"a",href:`/persons/${e.wca_id}`,className:"user-name "+(g?"":"show-border")},r.createElement("b",null,e.name,r.createElement(l.A,{name:"user circle outline"})),r.createElement("div",{className:"user-badge-subtext"},y))}):r.createElement("div",{className:"user-name ui button user-name-no-link"},r.createElement("b",null,e.name),r.createElement("div",{className:"user-badge-subtext"},y)))}},60513:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(56559),a=n(66048);async function o(e,t){const n=(0,a.Mm)(e,t),{data:o}=await(0,r.A)(n,{method:"GET"});return o}},60727:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(96540),a=n(73574),o=n(31746),i=n(95472),l=n(3487),s=n(35907),c=n(2543),u=n.n(c),d=n(66048),m=n(83995),p=n(12845),f=n(7862),g=n(1460),E=n(79519),v=n(80405),y=n(13113),A=n(600),b=n(85895);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C({wcaId:e,onSuccess:t,showDestroyButton:n=!1}){const{data:c,loading:h,error:w}=(0,E.A)(d.VB.persons.show(e)),{person:C}=c||{},[S,I]=(0,r.useState)(),[P,O]=(0,r.useState)(),[R,k]=(0,r.useState)(0),[j,T]=(0,r.useState)(),{save:x,saving:D}=(0,p.A)();(0,r.useEffect)((()=>{if(C){const e={wcaId:C.wca_id,name:C.name,representing:C.country_iso2,gender:C.gender,dob:C.dob};O(e),I(e),k(C.incorrect_wca_id_claim_count),T(null)}else O(null),I(null),k(0)}),[C,T]);const F=(e,{name:t,value:n})=>{I((e=>_(_({},e),{},{[t]:n})))},M=n=>{x(d.VB.wrt.edit(e),{person:S,method:n},(()=>{T({success:!0,showCountryChangeWarning:P.representing!==S.representing}),t&&t()}),{method:"PATCH"},(e=>{T({success:!1,message:`${e}`})}))};return h||D?r.createElement(f.default,null):w?r.createElement(v.default,null):r.createElement(r.Fragment,null,null!=j&&r.createElement(a.A,{success:j.success,error:!j.success,content:j.message},r.createElement(a.A.Content,null,j.success&&r.createElement(r.Fragment,null,"Success!",r.createElement("br",null)),j.showCountryChangeWarning&&r.createElement(r.Fragment,null,"The change you made may have affected national and continental records, be sure to run"," ",r.createElement("a",{href:(0,d.fy)(m.yv.checkRecords)},"check_regional_record_markers"),"."),!j.success&&j.message)),r.createElement(o.A,{as:"h3"},"WCA ID:"," ",r.createElement("a",{href:(0,d.hs)(e)},e)),r.createElement(i.A,null,r.createElement(i.A.Input,{label:g.Ay.t("activerecord.attributes.user.name"),name:"name",disabled:!S,value:(null===S||void 0===S?void 0:S.name)||"",onChange:F}),r.createElement(A.default,{label:g.Ay.t("activerecord.attributes.user.country_iso2"),name:"representing",onlyCountries:!0,disabled:!S,region:(null===S||void 0===S?void 0:S.representing)||"",onRegionChange:F}),r.createElement(b.default,{name:"gender",disabled:!S,gender:(null===S||void 0===S?void 0:S.gender)||"",onChange:F}),r.createElement(i.A.Field,{label:g.Ay.t("activerecord.attributes.user.dob"),name:"dob",control:y.default,showYearDropdown:!0,dateFormatOverride:"yyyy-MM-dd",dropdownMode:"select",disabled:!S,isoDate:null===S||void 0===S?void 0:S.dob,onChange:e=>F(0,{name:"dob",value:e})}),r.createElement(l.A,{disabled:u().isEqual(S,P)||!S,onClick:()=>M("fix")},r.createElement(s.A,{name:"wrench"}),"Fix"),r.createElement(l.A,{disabled:u().isEqual(S,P)||!S,onClick:()=>M("update")},r.createElement(s.A,{name:"clone"}),"Update"),n&&r.createElement(l.A,{disabled:!S,onClick:()=>{x(d.VB.wrt.destroy(e),{},(()=>{T({success:!0})}),{method:"DELETE"},(e=>T({success:!1,message:`${e}`})))}},r.createElement(s.A,{name:"trash"}),"Destroy"),R>0&&r.createElement(l.A,{onClick:()=>{x(d.VB.wrt.resetClaimCount(e),{},(()=>{T({success:!0,message:"Success"})}),{method:"PUT"},(e=>T({success:!1,message:`${e}`})))}},r.createElement(s.A,{name:"redo"}),"Reset Claim Count")))}},61281:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(79519),o=n(66048),i=n(83995),l=n(7862),s=n(80405),c=n(5627);function u({group:e}){const{data:t,loading:n,error:u}=(0,a.A)(o.VB.userGroups.list(i.Hn.delegate_regions,"name",{isActive:!0,parentGroupId:e.id}));return n?r.createElement(l.default,null):u?r.createElement(s.default,null):r.createElement(r.Fragment,null,t.map((e=>r.createElement(c.default,{key:e.id,title:e.name,groupId:e.id}))),r.createElement(c.default,{key:"no-subregion",title:"No subregion",groupId:e.id}))}},61408:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(96540),a=n(27089),o=n(31746),i=n(2543),l=n.n(i),s=n(66048),c=n(83995),u=n(1460),d=n(79519),m=n(7862),p=n(80405),f=n(60301),g=n(21660);function E(){const{data:e,loading:t,error:n}=(0,d.A)(s.VB.userRoles.list({isActive:!0,groupType:c.Hn.officers},"status:desc")),{data:i,loading:E,error:v}=(0,d.A)(s.VB.userRoles.list({isActive:!0,groupType:c.Hn.board},"name")),y=(0,r.useMemo)((()=>l().groupBy(e,(e=>e.user.id))),[e]),A=(0,r.useMemo)((()=>l().uniq(null===e||void 0===e?void 0:e.map((e=>e.user.id)))),[e]);return E||t?r.createElement(m.default,null):v||n?r.createElement(p.default,null):r.createElement(a.A,{fluid:!0},r.createElement(o.A,{as:"h2"},u.Ay.t("page.officers_and_board.title")),r.createElement(o.A,{as:"h3"},u.Ay.t("user_groups.group_types.officers")),r.createElement("p",null,u.Ay.t("page.officers_and_board.officers_description")),A.map((e=>r.createElement(f.default,{key:e,user:y[e][0].user,size:"large",subtexts:y[e].map((e=>u.Ay.t(`enums.user_roles.status.officers.${e.metadata.status}`)))}))),r.createElement(o.A,{as:"h3"},r.createElement("span",null,u.Ay.t("user_groups.group_types.board"))," ",r.createElement(g.default,{email:i[0].group.metadata.email})),r.createElement("p",null,u.Ay.t("page.officers_and_board.board_description")),i.map((e=>r.createElement(f.default,{key:e.user.id,user:e.user,size:"large"}))))}},61532:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(31746),o=n(60654);const i="https://docs.google.com/forms/d/e/1FAIpQLSfji_fOKEKcqS1Fb9fpu3qsBx-O8LiSJu_fG0TU7DJnR9Yj8g/viewform",l="https://docs.google.com/forms/d/e/1FAIpQLScq0JIOq1-2PHJoty5IE_uln_1Uq26Isp4mr3bqpfXKELQoqQ/viewform",s="https://docs.google.com/forms/d/e/1FAIpQLSf5BnccDL656ZPD3zl72Xgz7LmzLjFeTtjXKqvupo9Tn_VIRg/viewform";function c(){return r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h2"},"Delegate Forms"),r.createElement(o.A,null,r.createElement(o.A.Item,null,r.createElement("a",{href:i,target:"_blank",rel:"noreferrer"},"Nomination Form")),r.createElement(o.A.Item,null,r.createElement("a",{href:l,target:"_blank",rel:"noreferrer"},"Promotion Form")),r.createElement(o.A.Item,null,r.createElement("a",{href:s,target:"_blank",rel:"noreferrer"},"Demotion Form"))))}},61904:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/LogoImages/WCA Lockup Negative Primary-10ada2a069c926f0c907.svg"},62e3:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(53027),o=n(66048),i=n(83995),l=n(79519),s=n(7862),c=n(80405);function u(){const{data:e,loading:t,error:n}=(0,l.A)(o.VB.userGroups.list(i.Hn.teams_committees)),{data:u,loading:d,error:m}=(0,l.A)(o.VB.userGroups.list(i.Hn.councils)),p=[...e||[],...u||[]];return t||d?r.createElement(s.default,null):n||m?r.createElement(c.default,null):r.createElement(a.GroupsManagerForGroups,{groups:p})}},62347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(60654),o=n(79519),i=n(66048),l=n(7862),s=n(80405);function c({type:e,status:t,sort:n}){const{data:c,loading:u,error:d}=(0,o.A)(i.uP.tickets.list(e,t,n));return u?r.createElement(l.default,null):d?r.createElement(s.default,null):r.createElement(a.A,{divided:!0,relaxed:!0},c.map((e=>r.createElement(a.A.Item,null,r.createElement(a.A.Content,null,r.createElement(a.A.Header,{as:"a",href:i.uP.tickets.show(e.id)},`Ticket #${e.id}`))))))}},62375:function(e,t,n){"use strict";n.r(t),n.d(t,{AttemptsCells:function(){return d},CompetitionCell:function(){return m},CountryCell:function(){return u},EventCell:function(){return f},PersonCell:function(){return p}});var r=n(96540),a=n(53959),o=n(80824),i=n(66048),l=n(51319),s=n(83995),c=n(34975);function u({country:e}){return r.createElement(r.Fragment,null,e.iso2&&r.createElement(c.default,{iso2:e.iso2,withoutTooltip:!0})," ",e.name)}function d({attempts:e,bestResultIndex:t,worstResultIndex:n,eventId:o}){return e.map(((i,s)=>r.createElement(a.A.Cell,{key:`attempt-${i}-${s}`},5!==e.filter(Boolean).length||s!==t&&s!==n?(0,l.U2)(i,o):`(${(0,l.U2)(i,o)})`)))}function m({competition:e}){const{iso2:t}=e.country;return r.createElement(r.Fragment,null,r.createElement(c.default,{iso2:t})," ",r.createElement("a",{href:(0,i.No)(e.id)},e.cell_name))}function p({personId:e,personName:t}){return r.createElement("a",{href:(0,i.hs)(e)},t)}function f({eventId:e}){return r.createElement(r.Fragment,null,r.createElement(o.default,{id:e})," ",s.AZ.byId[e].name)}},62528:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o(e,t,n){const{data:o}=await(0,r.o)(a.v9.validators.forCompetitionList(e,t,n));return o}},62692:function(e,t,n){"use strict";n.r(t),n.d(t,{changeActivityTimezone:function(){return c},moveActivityByDuration:function(){return l},scaleActivitiesByDuration:function(){return s}});var r=n(18858);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=(e,t)=>o(o({},e),{},{startTime:(0,r.UU)(e.startTime,t),endTime:(0,r.UU)(e.endTime,t),childActivities:e.childActivities.map((e=>l(e,t)))}),s=(e,t,n)=>{const a=(0,r.nl)(e.startTime,e.endTime);return o(o({},e),{},{startTime:(0,r.UU)(e.startTime,t),endTime:(0,r.UU)(e.endTime,n),childActivities:e.childActivities.map((o=>{const i=(0,r.nl)(o.startTime,o.endTime)/a,c=(0,r.zM)(t,i),u=(0,r.zM)(n,i),d=s(o,c,u),m=(0,r.nl)(o.startTime,e.startTime),p=(0,r.nl)(o.endTime,e.endTime),f=m/a,g=p/a,E=(0,r.zM)(n,f),v=(0,r.zM)(t,g),y=(0,r.qV)(E,v);return l(d,y)}))})},c=(e,t,n)=>o(o({},e),{},{startTime:(0,r.dU)(e.startTime,t,n),endTime:(0,r.dU)(e.endTime,t,n),childActivities:e.childActivities.map((e=>c(e,t,n)))})},62728:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(38850),o=n.n(a),i=n(92257),l=n(83995);function s({id:e,value:t,onChange:n,currency:a,label:s,max:c}){const[u,d]=(0,r.useState)(null),m=(0,r.useMemo)((()=>l.kW.byIso[a]||l.kW.byIso.USD),[a]),p=(0,r.useMemo)((()=>t/m.subunitToUnit),[t,m]),f=(0,r.useMemo)((()=>{const e={currencySymbol:m.symbol,currencySymbolPlacement:m.symbolFirst?"p":"s",decimalPlaces:1===m.subunitToUnit?0:2,modifyValueOnWheel:!1,minimumValue:0,onInvalidPaste:"clamp"};return c&&(e.maximumValue=c/m.subunitToUnit),e}),[m,c]),g=(0,r.useCallback)((e=>{if(null===e||void 0===e||!e.inputRef)return;if(null!==u)return;const t=new(o())(e.inputRef.current,p,f);d(t)}),[u,p,f]),E=(0,r.useCallback)((()=>u?u.getNumber()*m.subunitToUnit:null),[u,m]);(0,r.useEffect)((()=>{u&&t!==E()&&u.set(p)}),[u,t,p,E]),(0,r.useEffect)((()=>{u&&u.update(f)}),[u,f]);return r.createElement(i.A,{id:e,ref:g,type:"text",onChange:e=>{n(e,{value:E()})},label:s})}},62783:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(1489),o=n(85111),i=n(90765),l=n(47646),s=n(51319);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function({value:e,onChange:t,disabled:n,label:c,TextFieldProps:d={}}){const[m,p]=(0,r.useState)(e),[f,g]=(0,r.useState)((0,s.iw)(e));m!==e&&(g((0,s.iw)(e)),p(e));const E=(0,r.useCallback)((n=>{const r=n;(0,s.aM)(r)!==e?(t((0,s.aM)(r)),g((0,s.iw)(e))):g(r)}),[t,e,g]),v=(0,r.useCallback)((e=>{const t=e.nativeEvent.data;o.DNF_KEYS.includes(t)?(E((0,s.iw)(s.Pf)),e.preventDefault()):o.DNS_KEYS.includes(t)&&(E((0,s.iw)(s.IG)),e.preventDefault())}),[E]);return r.createElement(a.A,{onInputCapture:v},r.createElement(a.A.Column,{width:3},r.createElement(l.default,{label:"Solved",value:f.solved,onChange:e=>E(u(u({},f),{},{solved:e})),disabled:n,TextFieldProps:d})),r.createElement(a.A.Column,{width:3},r.createElement(l.default,{label:"Attempted",value:f.attempted,onChange:e=>E(u(u({},f),{},{attempted:e})),disabled:n,TextFieldProps:d})),r.createElement(a.A.Column,{width:10},r.createElement(i.default,{label:c,value:f.centiseconds,onChange:e=>E(u(u({},f),{},{centiseconds:e})),disabled:n,TextFieldProps:d})))}},62798:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(82664),o=n(99142),i=n(59267);const l=["333fm","333mbf"];function s({wcifEvents:e,matchState:t,dispatchMatchState:n}){const[s,c]=(0,r.useState)(),u=(0,r.useMemo)((()=>e.map((e=>e.id))),[e]),d=(0,r.useMemo)((()=>e.find((e=>e.id===s))),[e,s]),m=(0,r.useMemo)((()=>l.includes(s)),[s]),p=(0,i.useDispatchWrapper)(n,{eventId:s});return r.createElement(r.Fragment,null,r.createElement(a.default,{selectedEvents:[s],eventList:u,onEventClick:c,hideAllButton:!0,onClearClick:()=>c(null),showBreakBeforeButtons:!1}),d&&r.createElement(o.default,{wcifRounds:d.rounds,matchState:t,dispatchMatchState:p,showGroupsPicker:m}))}},62832:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c},getContactFormInitialState:function(){return l}});var r=n(50495);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=e=>({formValues:{userData:{name:null===e||void 0===e?void 0:e.userName,email:null===e||void 0===e?void 0:e.userEmail},contactRecipient:null===e||void 0===e?void 0:e.contactRecipient,competition:{competitionId:null===e||void 0===e?void 0:e.competitionId,message:null===e||void 0===e?void 0:e.message},wst:{requestId:null===e||void 0===e?void 0:e.requestId},wrt:{queryType:null===e||void 0===e?void 0:e.queryType,profileDataToChange:null===e||void 0===e?void 0:e.profileDataToChange}},attachments:[]}),s={[r.UpdateSectionData]:(e,{payload:t})=>o(o({},e),{},{formValues:o(o({},e.formValues),{},{[t.section]:o(o({},e.formValues[t.section]||{}),{},{[t.name]:t.value})})}),[r.UpdateContactRecipient]:(e,{payload:t})=>o(o({},e),{},{formValues:o(o({},e.formValues),{},{contactRecipient:t.contactRecipient})}),[r.ClearForm]:(e,{payload:t})=>l(t.params),[r.UploadProfileChangeProof]:(e,{payload:t})=>o(o({},e),{},{attachments:[t.file]})};function c(e,t){const n=s[t.type];return n?n(e,t):e}},64047:function(e,t,n){"use strict";n.d(t,{N:function(){return l},Oi:function(){return p},cV:function(){return E},dE:function(){return m},dG:function(){return g},eA:function(){return i},iv:function(){return f},l7:function(){return s},pj:function(){return v},xB:function(){return c}});var r=n(96285),a=n(64417),o=n(21531);const i=(e,t)=>e.startTime<t.startTime?-1:e.startTime>t.startTime||e.endTime<t.endTime?1:e.endTime>t.endTime?-1:0,l=e=>{const t=[];return e.forEach((e=>{var n,r;t.length>0&&(n=e,r=t[t.length-1][0],n.startTime===r.startTime&&n.endTime===r.endTime&&n.activityCode===r.activityCode)?t[t.length-1].push(e):t.push([e])})),t},s=e=>e.activityCode.split("-")[0],c=e=>e.activityCode.split("-").slice(0,2).join("-"),u=(e,t)=>{const n=s(e);return t.find((e=>e.id===n))},d=(e,t)=>{const n=c(e);return t.find((e=>e.id===n))},m=(e,t,n)=>e.filter((e=>(0,a.ul)(r.c9.fromISO(e.startTime),t,n))),p=(e,t)=>{if(0===e.length)return;if(e.some((({startTime:e,endTime:n})=>(0,a.l3)(e,n,t))))return"00:00:00";const n=e.map((({startTime:e})=>(0,a.vQ)(e,t)));return(0,a.pj)(r.c9.min(...n)).toISOTime({suppressMilliseconds:!0,includeOffset:!1})},f=(e,t)=>{if(0===e.length)return;if(e.some((({startTime:e,endTime:n})=>(0,a.l3)(e,n,t))))return"24:00:00";const n=e.map((({endTime:e})=>(0,a.vQ)(e,t))),o=(0,a.mH)(r.c9.max(...n)).toISOTime({suppressMilliseconds:!0,includeOffset:!1});return"00:00:00"===o?"24:00:00":o},g=(e,t={})=>{if(e){const{hours:n,minutes:a}=r.dw.fromISOTime(e).toObject();return t.roundForward&&0!==a?n+1:n}},E=(e,t)=>{const n=u(e,t),r=d(e,n.rounds);return(0,o.ip)(e.activityCode,r,n)},v=(e,t)=>{if("other"===s(e))return!1;const n=u(e,t);return void 0===n||void 0===d(e,n.rounds)}},64173:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(96540),a=n(31746),o=n(95472),i=n(63129),l=n(54070),s=n(50363),c=n(73574),u=n(3487),d=n(57097),m=n(1460),p=n(91283),f=n(57598),g=n(88486),E=n(51935),v=n(13113),y=n(1026);function A({header:e,allTags:t,post:n}){var A,b,h,_,w,C,S,I;const[P,O]=(0,p.A)(null!==(A=null===n||void 0===n?void 0:n.title)&&void 0!==A?A:""),[R,k]=(0,p.A)(null!==(b=null===n||void 0===n?void 0:n.body)&&void 0!==b?b:""),[j,T]=(0,r.useState)(null!==(h=null===n||void 0===n?void 0:n.tags_array)&&void 0!==h?h:[]),[x,D]=(0,f.A)(null!==(_=null===n||void 0===n?void 0:n.sticky)&&void 0!==_&&_),[F,M]=(0,f.A)(null===(w=null===n||void 0===n?void 0:n.show_on_homepage)||void 0===w||w),[L,N]=(0,p.A)(null!==(C=null===n||void 0===n?void 0:n.url)&&void 0!==C?C:null),[$,H]=(0,p.A)(null!==(S=null===n||void 0===n?void 0:n.id)&&void 0!==S?S:null),[V,B]=(0,r.useState)(null!==(I=null===n||void 0===n?void 0:n.unstick_at)&&void 0!==I?I:null),U=(0,r.useMemo)((()=>t.map((e=>({value:e,text:e,key:e})))),[t]),{mutate:q,isSuccess:W,error:z}=(0,d.n)({mutationFn:E.createPost,onSuccess:({data:e})=>{N(e.post.url),H(e.post.id),window.history.replaceState({},"",`${e.post.url}/edit`)}}),{mutate:G,error:K,isSuccess:Z}=(0,d.n)({mutationFn:E.editPost,onSuccess:({data:e})=>{N(e.post.url),H(e.post.id)}}),{errors:Y}=(null===z||void 0===z?void 0:z.json)||(null===K||void 0===K?void 0:K.json)||{},X=(0,r.useCallback)((()=>{$?G({id:$,title:P,body:R,tags:j.join(","),unstick_at:x?V:null,sticky:x,show_on_homepage:F}):q({title:P,body:R,tags:j.join(","),sticky:x,unstick_at:x?V:null,show_on_homepage:F})}),[q,G,R,x,F,j,P,V,$]);return r.createElement(r.Fragment,null,r.createElement(a.A,null,e),r.createElement(o.A,{onSubmit:X},r.createElement(o.A.Input,{label:m.Ay.t("activerecord.attributes.post.title"),onChange:O,value:P}),r.createElement(i.A,null,r.createElement("label",{htmlFor:"post-body"},m.Ay.t("activerecord.attributes.post.body")),r.createElement(g.default,{id:"post-body",onChange:k,value:R}),r.createElement(y.default,{i18nKey:"simple_form.hints.post.body"})),r.createElement(o.A.Select,{label:m.Ay.t("activerecord.attributes.post.tags"),options:U,onChange:(e,t)=>{T(t.value)},value:j,multiple:!0}),r.createElement(l.A,{inline:!0},r.createElement(o.A.Checkbox,{label:m.Ay.t("activerecord.attributes.post.sticky"),onChange:D,checked:x}),x&&r.createElement(i.A,null,r.createElement("label",{htmlFor:"unstick-at"},m.Ay.t("activerecord.attributes.post.unstick_at")),r.createElement(v.default,{id:"unstick-at",placeholderText:m.Ay.t("activerecord.attributes.post.unstick_at"),isoDate:V,onChange:e=>B(e)}))),r.createElement(o.A.Field,null,r.createElement(s.A,{label:m.Ay.t("activerecord.attributes.post.show_on_homepage"),onChange:M,checked:F}),r.createElement("p",{className:"help-block"},m.Ay.t("simple_form.hints.post.show_on_homepage"))),Y&&r.createElement(c.A,{negative:!0},r.createElement(c.A.Header,null,"Request Failed:"),r.createElement(c.A.List,null,Object.keys(Y).map((e=>r.createElement(c.A.Item,null,e," ",Y[e].join(",")))))),W&&!Z&&r.createElement(c.A,{positive:!0},"Post successfully created. View it"," ",r.createElement("a",{href:L},"here"),"."),Z&&r.createElement(c.A,{positive:!0},"Post successfully updated. View it"," ",r.createElement("a",{href:L},"here"),"."),r.createElement(u.A,{type:"submit",primary:!0},$?"Update Post":"Create Post")))}},64417:function(e,t,n){"use strict";n.d(t,{AE:function(){return a},FT:function(){return f},Gp:function(){return g},MS:function(){return E},Mk:function(){return h},Mt:function(){return d},Pc:function(){return c},Sp:function(){return s},Un:function(){return u},Wb:function(){return y},dy:function(){return v},jD:function(){return p},l3:function(){return m},mH:function(){return l},o4:function(){return A},pj:function(){return i},ul:function(){return o},vQ:function(){return b}});var r=n(96285);const a={default:{locale:window.I18n.locale},roundUpAndAtBestDayPrecision:{locale:window.I18n.locale,unit:["years","months","weeks","days"],padding:864e5}},o=(e,t,n)=>e.setZone(n).hasSame(t.setZone(n),"day"),i=e=>e.set({minute:0,second:0,millisecond:0}),l=e=>{const t=e.plus({minutes:10});return t.day!==e.day?e:t},s=e=>{const t=r.c9.local(),n=e.diff(t,["days","hours","minutes","seconds"]).toObject();return{days:Math.floor(n.days),hours:Math.floor(n.hours),minutes:Math.floor(n.minutes),seconds:Math.floor(n.seconds)}};function c(e,t=null){return r.c9.fromISO(e,{zone:t})<r.c9.now()}function u(e,t=null){return r.c9.now()<r.c9.fromISO(e,{zone:t})}function d(e,t=null){return null===e||u(e,t)}const m=(e,t,n)=>{const a=r.c9.fromISO(e),i=r.c9.fromISO(t);return!o(a,i,n)},p=(e,t="local")=>r.c9.fromISO(e).setZone(t).toLocaleString(r.c9.TIME_SIMPLE),f=(e,t="local")=>r.c9.fromISO(e).setZone(t).toLocaleString(r.c9.TIME_WITH_SHORT_OFFSET),g=(e,t="local")=>r.c9.fromISO(e).setZone(t).toLocaleString(r.c9.DATE_SHORT),E=(e,t="local")=>r.c9.fromISO(e).setZone(t).toFormat("D TT.u ZZZZ"),v=(e,t="local")=>r.c9.fromISO(e).setZone(t).toISODate(),y=(e,t="local")=>r.c9.fromISO(e).setZone(t).toLocaleString(r.c9.TIME_WITH_SECONDS),A=(e,t,n)=>{if(e>t)return[];const a=r.c9.fromISO(e).setZone(n),i=r.c9.fromISO(t).setZone(n),l=[];let s=a;for(;!o(s,i,n);)l.push(s),s=s.plus({days:1});return l.push(s),l},b=(e,t)=>{const n=r.c9.fromISO(e).setZone(t);return r.c9.utc().set({hour:n.hour,minute:n.minute,second:n.second,millisecond:n.millisecond})};function h(e,t,n={}){return r.IX.fromDateTimes(r.c9.fromISO(e),r.c9.fromISO(t)).toLocaleString({month:"short",day:"2-digit",year:"numeric"},n)}},64478:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(27089),o=n(3487),i=n(35907),l=n(5074),s=n(65632),c=n(89407),u=n(66303),d=n(37700);t.default=function({countryZones:e,referenceTime:t}){const{wcifSchedule:n}=(0,c.Pj)(),m=(0,c.wA)();return r.createElement("div",{id:"venues-edit-panel-body"},r.createElement(a.A,{text:!0},r.createElement(o.A,{floated:"right",compact:!0,icon:!0,labelPosition:"left",positive:!0,onClick:()=>{m((0,d.addVenue)())}},r.createElement(i.A,{name:"add"}),"Add a venue"),"Please add all your venues and rooms below:"),r.createElement(l.A,{basic:!0},r.createElement(s.A.Group,{centered:!0,itemsPerRow:2},n.venues.map((n=>r.createElement(u.default,{key:n.id,venue:n,countryZones:e,referenceTime:t}))))))}},64846:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(66048),a=n(98753);const o="jwt";async function i(e=!1){const t=localStorage.getItem(o);if(e||null===t){const e=await fetch(r.VB.users.me.token),t=await e.json();if(e.ok){const n=e.headers.get("authorization");if(null!==n)return localStorage.setItem(o,n),n;throw new a.A(e.status,e,t)}throw new a.A(e.status,e,t)}return t}},65097:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(3487),o=n(35907),i=n(53959),l=n(50363),s=n(79519),c=n(7862),u=n(80405),d=n(17068),m=n(68533),p=n(66048),f=n(21531);function g({competitionId:e,eventId:t,round:n,newEntryUrlFn:l,DataRowHeader:s,DataRowBody:c,adminMode:u}){return r.createElement(r.Fragment,null,r.createElement("h2",null,(0,f.Ax)(t,n.roundTypeId)),u&&r.createElement(a.A,{positive:!0,as:"a",href:l(e,n.id),size:"tiny"},r.createElement(o.A,{name:"plus"}),"Add an entry to this round"),r.createElement(i.A,{striped:!0},r.createElement(i.A.Header,null,r.createElement(s,null)),r.createElement(i.A.Body,null,r.createElement(c,{round:n,adminMode:u}))))}function E({competitionId:e,eventId:t,dataUrlFn:n,newEntryUrlFn:a,DataRowHeader:o,DataRowBody:i,adminMode:l}){const{loading:d,error:m,data:p}=(0,s.A)(n(e,t));return d?r.createElement(c.default,null):m?r.createElement(u.default,null):r.createElement("div",{className:"results-data"},p.rounds.map((n=>r.createElement(g,{key:n.id,competitionId:e,eventId:t,round:n,newEntryUrlFn:a,DataRowHeader:o,DataRowBody:i,adminMode:l}))))}t.default=function({competitionId:e,canAdminResults:t,dataUrlFn:n,newEntryUrlFn:a,DataRowHeader:o,DataRowBody:i}){const{loading:f,error:g,data:v}=(0,s.A)((0,p.fP)(e)),[y,A]=(0,r.useState)(null),[b,h]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(v){const e=(0,m.al)().event||v.event_ids[0];A(e)}}),[v]),(0,r.useEffect)((()=>{y&&(0,m.uR)({event:y})}),[y]),f||!y?r.createElement(c.default,null):g?r.createElement(u.default,null):r.createElement("div",{className:"competition-results"},r.createElement(d.default,{eventIds:v.event_ids,selected:y,onSelect:A}),t&&r.createElement(l.A,{label:"Enable admin mode",toggle:!0,checked:b,onChange:(e,{checked:t})=>h(t)}),"all"===y?r.createElement(r.Fragment,null,v.event_ids.map((t=>r.createElement(E,{key:t,competitionId:e,eventId:t,dataUrlFn:n,newEntryUrlFn:a,DataRowHeader:o,DataRowBody:i,adminMode:!1})))):r.createElement(E,{competitionId:e,eventId:y,dataUrlFn:n,newEntryUrlFn:a,DataRowHeader:o,DataRowBody:i,adminMode:b}),r.createElement(d.default,{eventIds:v.event_ids,selected:y,onSelect:A}))}},65106:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(57097),a=n(96540),o=n(5074),i=n(95472),l=n(73574),s=n(69960),c=n(3487),u=n(78486),d=n(24106),m=n(35907),p=n(91142),f=n(81133),g=n(66048),E=n(82664),v=n(89407),y=n(52322),A=n(1460),b=n(1026),h=n(58894),_=n(83995),w=n(27227),C=n(21531),S=n(64417),I=n(34260),P=n(72401),O=n(43703),R=n(91283),k=n(710);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=240,F=e=>{const t=[];return(0,S.Un)(e.registration_open)&&t.push(A.Ay.t("competitions.registration_v2.register.early_registration")),e.events_per_registration_limit&&t.push(A.Ay.t("competitions.registration_v2.register.event_limit",{max_events:e.events_per_registration_limit})),e["part_of_competition_series?"]&&t.push(A.Ay.t("competitions.competition_info.part_of_a_series")),t};function M({nextStep:e,competitionInfo:t,user:n,qualifications:S}){var j;const{isRegistered:x,isPolling:M,isProcessing:L,startPolling:N,refetchRegistration:$,isPending:H,isWaitingList:V,registration:B}=(0,I.useRegistration)(),U=(0,v.wA)(),q=(0,h.S)(),[W,z]=(0,O.useFormObjectState)("comment",["competing"]),G=(0,R.J)(z),[K,Z]=(0,O.useFormObjectState)("event_ids",["competing"]),Y=(0,P._)(K,Z,_.uE),[X,Q]=(0,O.useFormObjectState)("guests"),J=(0,R.J)(Q,!0),ee=(0,O.useFormInitialValue)("status",["competing"]),te=(0,O.useFormObject)(),[ne,re]=(0,a.useState)(!1);(0,a.useEffect)((()=>{M&&!L&&($(),e())}),[M,L,e,$]);const ae=(0,O.useFormSuccessHandler)(),{mutate:oe,isPending:ie}=(0,k.useUpdateRegistrationMutation)(t,n,"basic"),le=(0,a.useCallback)((t=>{ae(t.registration),e()}),[ae,e]),se=(0,k.useRegistrationMutationErrorHandler)(),{mutate:ce,isLoading:ue}=(0,r.n)({mutationFn:p.default,onError:se,onSuccess:()=>{U((0,y.showMessage)("registrations.flash.registered","positive")),ae(),N()}}),de=(0,O.useHasFormValueChanged)("event_ids",["competing"]),me=(0,O.useHasFormValueChanged)("comment",["competing"]),pe=(0,O.useHasFormValueChanged)("guests"),fe=de||me||pe,ge=null!==(j=t.events_per_registration_limit)&&void 0!==j?j:1/0,Ee=Y.size>0&&Y.size<=ge,ve=(0,a.useCallback)(((e,t={})=>{t.checkForChanges&&!fe?U((0,y.showMessage)("competitions.registration_v2.update.no_changes","basic")):Ee?e():U((0,y.showMessage)(ge===1/0?"registrations.errors.must_register":"registrations.errors.exceeds_event_limit.other","negative",{count:ge}))}),[U,Ee,fe,ge]),ye=(0,a.useCallback)((()=>{ce({competitionId:t.id,payload:T(T({},te),{},{user_id:n.id,competition_id:t.id})})}),[ce,te,n.id,t.id]),Ae=(0,a.useMemo)((()=>t.allow_registration_edits||H||V),[t.allow_registration_edits,H,V]),be=(0,a.useCallback)((()=>{q({content:A.Ay.t(Ae?"competitions.registration_v2.update.update_confirm":"competitions.registration_v2.update.update_confirm_contact")}).then((()=>{if(Ae)oe({registrationId:B.id,payload:{user_id:n.id,competition_id:t.id,competing:{comment:me?W:void 0,event_ids:de?Y.asArray:void 0},guests:pe?X:void 0}},{onSuccess:(e,t)=>{var n;le(e);const r=(null===(n=t.payload.competing)||void 0===n?void 0:n.registration_status)||e.registration.competing.registration_status;U("cancelled"===ee&&"pending"===r?(0,y.showMessage)("registrations.flash.registered","positive"):(0,y.showMessage)("registrations.flash.updated","positive"))}});else{const e=`\n${me?`Comment: ${W}\n`:""}${de?`Events: ${Y.asArray.map((e=>_.AZ.byId[e].name)).join(", ")}\n`:""}${pe?`Guests: ${X}\n`:""}`;window.location=(0,g.Ft)(t.id,encodeURIComponent(A.Ay.t("competitions.registration_v2.update.update_contact_message",{update_params:e})))}})).catch((()=>{e()}))}),[q,U,e,oe,t,null===B||void 0===B?void 0:B.id,n,me,W,de,Y.asArray,pe,X,ee,le,Ae]),he=(0,a.useCallback)((()=>{oe({registrationId:B.id,payload:T(T({},te),{},{competing:T(T({},te.competing),{},{status:"pending"}),user_id:n.id,competition_id:t.id})},{onSuccess:le})}),[oe,te,null===B||void 0===B?void 0:B.id,n.id,t.id,le]),[_e]=(0,O.useFormObjectState)("registration_status",["competing"]),we="cancelled"===_e,Ce=x&&!we,Se=(0,a.useCallback)((e=>(e.preventDefault(),we?ve(he):Ce?ve(be,{checkForChanges:!0}):ve(ye))),[ye,he,be,ve,we,Ce]),Ie="restricted"===t.guest_entry_status,Pe=null!==t.guests_per_registration_limit&&Ie?t.guests_per_registration_limit:_.ho,Oe=(0,a.useMemo)((()=>F(t)),[t]);return a.createElement(o.A,{basic:!0,loading:ie},M&&a.createElement(f.default,{competitionInfo:t,user:n}),a.createElement(i.A,{onSubmit:Se,warning:Oe.length>0,size:"large"},a.createElement(l.A,{warning:!0,list:Oe}),a.createElement(i.A.Field,{required:!0,error:ne&&0===Y.size},a.createElement(E.default,{id:"event-selection",eventList:t.event_ids,selectedEvents:Y.asArray,onEventClick:e=>{Y.toggle(e),re(!0)},onAllClick:()=>{t["uses_qualification?"]?Y.update(t.event_ids.filter((e=>(0,w.m)(e,S.wcif,S.personalRecords)))):Y.update(t.event_ids),re(!0)},onClearClick:()=>{Y.clear(),re(!0)},maxEvents:ge,eventsDisabled:t.allow_registration_without_qualification?[]:(0,w.G)(t.event_ids,S.wcif,S.personalRecords),disabledText:e=>(0,C.Id)({id:e},S.wcif[e],{short:!0}),shouldErrorOnEmpty:ne}),!t.events_per_registration_limit&&a.createElement(b.default,{options:{link:`<a href="${g.Nq}">here</a>`},i18nKey:"registrations.preferred_events_prompt_html"})),a.createElement(i.A.Field,{required:Boolean(t.force_comment_in_registration)},a.createElement("label",{htmlFor:"comment"},A.Ay.t("competitions.registration_v2.register.comment")," ",a.createElement("div",{style:{float:"right",fontSize:"0.8em"}},a.createElement("i",null,"(",W.length,"/",D,")"))),a.createElement(i.A.TextArea,{required:Boolean(t.force_comment_in_registration),maxLength:D,onChange:G,value:W,id:"comment",error:t.force_comment_in_registration&&0===W.trim().length&&A.Ay.t("registrations.errors.cannot_register_without_comment")})),t.guests_enabled&&a.createElement(i.A.Field,null,a.createElement("label",{htmlFor:"guest-dropdown"},A.Ay.t("activerecord.attributes.registration.guests")),a.createElement(i.A.Input,{id:"guest-dropdown",type:"number",value:X,onChange:J,min:"0",max:Pe,error:Ie&&X>Pe&&A.Ay.t("competitions.competition_info.guest_limit",{count:Pe})})),x?a.createElement(s.A,{widths:2},Ce&&a.createElement(a.Fragment,null,a.createElement(c.A,{primary:!0,disabled:ie||!fe,type:"submit"},A.Ay.t("registrations.update")),a.createElement(u.A,null),a.createElement(c.A,{secondary:!0,onClick:()=>e()},A.Ay.t("competitions.registration_v2.register.view_registration"))),we&&a.createElement(c.A,{primary:!0,disabled:ie,type:"submit"},A.Ay.t("registrations.register"))):a.createElement(a.Fragment,null,a.createElement(l.A,{info:!0,icon:!0,floating:!0},a.createElement(d.A,{content:A.Ay.t("registrations.mailer.new.awaits_approval"),position:"top left",trigger:a.createElement(m.A,{name:"circle info"})}),a.createElement(l.A.Content,null,A.Ay.t("competitions.registration_v2.register.disclaimer"))),a.createElement(c.A,{positive:!0,fluid:!0,icon:!0,type:"submit",labelPosition:"left",disabled:ue},a.createElement(m.A,{name:"paper plane"}),A.Ay.t("registrations.register")))))}},65119:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o},insertNewResult:function(){return l},roundResultsKey:function(){return i}});var r=n(45567),a=n(66048);async function o(e,t){const{data:n}=await(0,r.o)(a.Hd.api.getRoundResults(t,e));return n}const i=e=>["round-results",e],l=(e,t)=>{const{registration_id:n}=t;return[...e.filter((({registration_id:e})=>e!==n)),t]}},65395:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w},itemToOption:function(){return b}});var r=n(96540),a=n(21295),o=n(35244),i=n(34383),l=n(6573),s=n(67626),c=n(98974),u=n(13797),d=n(1460),m=n(45567),p=n(242);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={user:s.default,person:s.default,competition:o.default,regulation:l.default,text:c.default,incident:i.default,userrole:p.default};function y({item:e}){const t=v[e.class];return r.createElement("div",{className:"selected-item"},r.createElement(t,{item:e}))}const A=({item:e})=>({color:"blue",content:r.createElement(y,{item:e}),className:"multisearch-item",as:"div"}),b=e=>({item:e,id:e.id,key:e.id,value:e.id,text:[e.id,e.name,e.title,e.content_html,e.search,e.public_summary].join(" "),content:r.createElement(y,{item:e})}),h=e=>b({class:"text",id:"search",url:`/search?q=${encodeURIComponent(e)}`,search:e}),_=300;function w({url:e,selectedValue:t,onChange:n,showOptionToGoToSearchPage:o=!1,goToItemUrlOnClick:i=!1,placeholder:l,removeNoResultsMessage:s,disabled:c=!1,multiple:p=!0}){const[f,E]=(0,r.useState)(""),[v,w]=(0,r.useState)([]),[C,S]=(0,r.useState)(!1),I=(0,u.A)(f,_);(0,r.useEffect)((()=>{E("")}),[t]),(0,r.useEffect)((()=>{0!==I.length&&(I.length<3?w([]):(S(!0),(0,m.o)(e(I)).then((({data:e})=>w(e.result.map(b)))).finally((()=>S(!1)))))}),[I,e]);const P=[...o&&f.length>0?[h(f)]:[],...p?t:[t].filter(Boolean),...v].map((e=>g(g({},e),{},{text:r.createElement(y,{item:e.item})})));return r.createElement(a.A,{fluid:!0,selection:!0,multiple:p,search:e=>e.slice(0,5),clearable:!p,icon:"search",className:"multisearch-dropdown",disabled:c,value:p?t.map((e=>e.id)):null===t||void 0===t?void 0:t.id,searchQuery:f,options:P,onChange:(e,t)=>{const{value:r,options:a}=t,o=Object.fromEntries(a.map((e=>[e.value,e])));if(p){const a=r.map((e=>b(o[e].item))),i=g(g({},t),{},{value:a});n(e,i)}else{var l;const a=o[r]?b(o[r].item):null;i&&null!==(null===a||void 0===a||null===(l=a.item)||void 0===l?void 0:l.url)&&(window.location.href=a.item.url);const s=g(g({},t),{},{value:a});n(e,s)}},onSearchChange:(e,{searchQuery:t})=>E(t),loading:C,noResultsMessage:s?null:d.Ay.t("search_results.index.not_found.generic"),placeholder:l||d.Ay.t("common.search_site"),renderLabel:A})}},65710:function(e,t,n){"use strict";function r(e,t){const n=e.find((e=>e.user.id===t));return{userIsInTable:Boolean(n),userPosition:null===n||void 0===n?void 0:n.pos}}function a(e){const t=e.length,n=e.filter((e=>!e.user.wca_id)).length;return{registrationCount:t,newcomerCount:n,returnerCount:t-n}}function o(e,t=[]){const n=e.length,r=new Set(e.map((e=>{var t;return null===(t=e.user.country)||void 0===t?void 0:t.iso2})).filter(Boolean)).size,a=Object.fromEntries(t.map((t=>{const n=e.filter((e=>e.competing.event_ids.includes(t))).length;return[t,n]})));return{registrationCount:n,countryCount:r,eventCounts:a,eventCountsSum:Object.values(a).reduce(((e,t)=>e+t),0)}}n.r(t),n.d(t,{getPeopleCounts:function(){return a},getTotals:function(){return o},getUserPositionInfo:function(){return r}})},65974:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(81138),o=n(41935),i=n(16523),l=n(1460),s=n(89407),c=n(50495);const u="competition";function d(){const{formValues:{competition:e}}=(0,s.Pj)(),t=(0,s.wA)(),n=(e,{name:n,value:r})=>t((0,c.updateSectionData)(u,n,r));return r.createElement(r.Fragment,null,r.createElement(o.IdWcaSearch,{label:l.Ay.t("page.contacts.form.competition.competition.label"),name:"competitionId",value:null===e||void 0===e?void 0:e.competitionId,onChange:n,model:i.default.competition,multiple:!1}),r.createElement(a.A,{label:l.Ay.t("page.contacts.form.competition.message.label"),name:"message",value:null===e||void 0===e?void 0:e.message,onChange:n}))}},66048:function(e,t,n){"use strict";function r(e){const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>null!==t&&void 0!==t)));return new URLSearchParams(t).toString()}n.d(t,{$Y:function(){return d},A:function(){return w},Ab:function(){return $e},Ar:function(){return me},B7:function(){return f},Bg:function(){return b},C_:function(){return _},Dw:function(){return p},FA:function(){return Je},FZ:function(){return k},Ft:function(){return qe},GW:function(){return pt},Gp:function(){return re},H:function(){return at},H9:function(){return v},HF:function(){return F},HJ:function(){return K},Hd:function(){return Ye},Hg:function(){return mt},Iu:function(){return Se},Iy:function(){return Ne},KI:function(){return A},KR:function(){return Re},KV:function(){return ve},Kd:function(){return E},Kh:function(){return i},L5:function(){return J},LF:function(){return ot},Le:function(){return S},Lf:function(){return C},Lu:function(){return ge},MT:function(){return je},MV:function(){return y},Mm:function(){return dt},Ms:function(){return ze},NW:function(){return Ie},No:function(){return O},Nq:function(){return Xe},O0:function(){return le},O2:function(){return R},PW:function(){return fe},Pc:function(){return Z},Pw:function(){return B},QN:function(){return Ce},SH:function(){return Et},SY:function(){return V},T5:function(){return u},TX:function(){return ye},TZ:function(){return rt},U5:function(){return ee},UZ:function(){return Be},VB:function(){return We},Vm:function(){return c},WP:function(){return Ee},X2:function(){return Fe},ZY:function(){return N},Zx:function(){return X},Zz:function(){return Ve},_K:function(){return He},_n:function(){return ut},_s:function(){return Ae},ak:function(){return l},b6:function(){return ce},bt:function(){return ke},cB:function(){return W},cg:function(){return se},cx:function(){return nt},dD:function(){return it},eB:function(){return ue},eM:function(){return lt},eQ:function(){return de},ei:function(){return be},fP:function(){return j},fj:function(){return pe},fu:function(){return ae},fy:function(){return Ge},g6:function(){return Te},gA:function(){return T},gT:function(){return we},gU:function(){return oe},gb:function(){return he},gz:function(){return tt},hs:function(){return o},iC:function(){return ne},iW:function(){return U},j:function(){return P},jb:function(){return De},l8:function(){return s},lY:function(){return a},mQ:function(){return Me},mk:function(){return Q},mp:function(){return ft},p0:function(){return Y},pT:function(){return ct},pV:function(){return ie},pc:function(){return g},pu:function(){return et},qG:function(){return _e},qy:function(){return te},rC:function(){return x},rL:function(){return M},s8:function(){return st},sX:function(){return Le},t3:function(){return m},t7:function(){return G},tA:function(){return L},tF:function(){return Ue},uC:function(){return D},uP:function(){return Ke},up:function(){return Oe},v9:function(){return Ze},wr:function(){return Pe},xA:function(){return q},xI:function(){return xe},xq:function(){return z},xs:function(){return gt},yb:function(){return H},yk:function(){return h},yl:function(){return I},yr:function(){return $},zD:function(){return Qe}});const a=e=>`/users/${e}/edit`,o=e=>`/persons/${e}`,i="/persons",l="/users",s=(e,t)=>`/competitions/${e}/admin/results/${t}/new`,c=e=>`/admin/results/${e}`,u=e=>`/admin/results/${e}/edit`,d=(e,t)=>`/competitions/${e}/admin/scrambles/${t}/new`,m=e=>`/admin/scrambles/${e}`,p=e=>`/admin/scrambles/${e}/edit`,f=e=>`/competitions/${e}/scramble_files`,g=e=>`/scramble_files/${e}`,E=e=>`/competitions/${e}/scramble_files/update-round-matching`,v=(e,t="json")=>`/posts.${t}?page=${e}`,y="/posts",A=e=>`/posts/${e}`,b=(e,t,n=void 0,r=void 0,a=void 0,o="json")=>{const i=new URLSearchParams(`per_page=${e}&page=${t}`);return n&&n.length>0&&i.append("tags",`${n}`),a&&i.append("competitions",`${a}`),r&&i.append("q",r),`/incidents.${o}?${i.toString()}`},h="/incidents/new",_=e=>`/incidents/${e}`,w="/",C="/competitions",S=e=>`/competitions/${e}/report/edit`,I=e=>`/competitions/${e}/edit`,P=e=>`/competitions/${e}/edit/registrations`,O=e=>`/competitions/${e}`,R=e=>`/competitions/${e}/edit/admin`,k=e=>`/competitions/${e}/report`,j=e=>`/api/v0/competitions/${e}`,T=e=>`/api/v0/user_roles/${e}`,x=(e,t)=>`/api/v0/competitions/${e}/results/${t}`,D=(e,t)=>`/competitions/${e}/results/all?event=${t}`,F=e=>`/api/v0/search?q=${e}`,M=e=>`/api/v0/search/competitions?q=${e}`,L=(e,t)=>`/api/v0/competitions/${e}/scrambles/${t}`,N=(e,t)=>`/competitions/${e}/scrambles?event=${t}`,$=e=>`/competitions/${e}/admin/check-existing-results`,H=e=>`/admin/events_data/${e}`,V=(e,t=void 0,n=void 0,r=void 0)=>{const a=new URLSearchParams(`person_id=${e}`);return t&&(a.append("competition_id",t),n&&(a.append("event_id",n),r&&a.append("round_type_id",r))),`/panel-page/fix-results?${a.toString()}`},B=(e,t)=>`https://www.worldcubeassociation.org/competitions/${e}/payment-completion/${t}`,U=e=>`/api/v1/registrations/${e}/payments`,q=e=>`/api/v1/registrations/${e}/history`,W=(e,t,n)=>`/competitions/${e}/refund/${t}/${n}`,z=(e,t,n)=>`/registration/${e}/${t}/payment-denomination?iso_donation_amount=${n}`,G="/persons/new_id",K=e=>`/api/v0/persons/${e}`,Z=e=>`/api/v0/users/${e}`,Y=e=>`/api/v0/search/persons?q=${e}`,X=e=>`/api/v0/search/users?q=${e}`,Q=e=>`/users/admin_search?q=${e}`,J="/api/v0/geocoding/search",ee="/api/v0/geocoding/time_zone",te=e=>`/competitions/${e}/announcement_data`,ne=e=>`/competitions/${e}/user_preferences`,re=e=>`/competitions/${e}/confirmation_data`,ae=e=>`/competitions/${e}/confirmation_data`,oe=e=>`/competitions/${e}/announce`,ie=(e,t=!1)=>`/competitions/${e}/cancel?undo=${t}`,le=e=>`/competitions/${e}/close_full_registration`,se=e=>`/competitions/${e}/user_preference/notifications`,ce=e=>`/competitions/${e}/confirm`,ue="/competitions/edit/nearby-competitions-json",de="/competitions/edit/series-eligible-competitions-json",me="/competitions/edit/registration-collisions-json",pe=(e,t,n)=>`/competitions/edit/calculate_dues?${r({countryId:e,currencyCode:t,baseEntryFee:n})}`,fe="/admin/posting-index.json",ge="/admin/start-posting",Ee=e=>`/competitions/${e}/admin/import-results`,ve=e=>`/competitions/${e}/admin/upload-results`,ye=e=>{const t=new URLSearchParams;return t.append("groupType",e),`/api/v0/user_groups?${t.toString()}`},Ae="/api/v0/user_groups",be=e=>`/api/v0/user_groups/${e}`,he="/wfc/country-bands",_e="/panel/pending-claims",we="/competitions/for_senior",Ce="/wfc/competitions_export",Se="/panel/generate_db_token",Ie="/api/v0/wfc/xero_users",Pe="/api/v0/wfc/dues_redirects",Oe=e=>`/panel/pending-claims/${e}`,Re=({display:e,years:t,delegate:n,state:a})=>`/competitions?${r({display:e,years:t,delegate:n,state:a})}`,ke=e=>`/competitions/for_senior/${e}`,je=e=>`/users/${e}/avatar`,Te=25,xe="/delegates",De=e=>`/teams-committees#${e}`,Fe="/officers-and-board",Me="/translators",Le=e=>`/users/${e}/edit?section=avatar`,Ne="/admin/avatars",$e="/admin/avatars/pending",He="/contact",Ve="/contact/edit_profile",Be="/contact/edit_profile?editOthersProfile=true",Ue=e=>`/contact?contactRecipient=${e}`,qe=(e,t)=>`/contact?competitionId=${e}&contactRecipient=competition&message=${t}`,We={users:{me:{userDetails:"/api/v0/users/me",permissions:"/api/v0/users/me/permissions",token:"/api/v0/users/me/token"},show:"/api/v0/users"},persons:{show:e=>`/api/v0/persons/${e}`},wrt:{edit:e=>`/api/v0/wrt/persons/${e}`,destroy:e=>`/api/v0/wrt/persons/${e}`,resetClaimCount:e=>`/api/v0/wrt/persons/${e}/reset_claim_count`},userRoles:{list:({isActive:e,isGroupHidden:t,userId:n,groupId:a,status:o,groupType:i,isLead:l}={},s,c=100)=>`/api/v0/user_roles?${r({sort:s,isActive:e,isGroupHidden:t,userId:n,groupId:a,status:o,groupType:i,isLead:l,per_page:c})}`,create:()=>"/api/v0/user_roles",update:e=>`/api/v0/user_roles/${e}`,delete:e=>`/api/v0/user_roles/${e}`,search:(e,t)=>`/api/v0/user_roles/search?${r({query:e,groupType:t})}`},userGroups:{list:(e,t,{isActive:n,isHidden:a,parentGroupId:o,isRootGroup:i}={})=>`/api/v0/user_groups?${r({groupType:e,sort:t,isActive:n,isHidden:a,parentGroupId:o,isRootGroup:i})}`},competitions:{list:"/api/v0/competitions",listIndex:"/api/v0/competition_index",info:e=>`/api/v0/competitions/${e}`,registrationData:"/api/v0/registration-data"},delegates:{searchIndex:"/api/v0/delegates/search-index"}},ze={board:{regionsManager:"/panel/board#regions-manager"},seniorDelegate:{regions:"/panel/senior_delegate#regions"},wst:{translators:"/panel/wst#translators"},leader:{groupsManager:"/panel/leader#groups-manager"},wrt:{approveAvatars:"/panel/leader#approve-avatars"}},Ge=(e,t={})=>`/panel-page/${e}?${r(t)}`,Ke={tickets:{list:(e,t,n)=>`/tickets?${r({type:e,status:t,sort:n})}`,show:e=>`/tickets/${e}`,listComments:e=>`/tickets/${e}/ticket_comments`,listLogs:e=>`/tickets/${e}/ticket_logs`},admin:{completePersons:e=>`/admin/complete_persons?${r({competition_ids:e})}`,overrideRegionalRecords:(e,t,n)=>`/admin/override_regional_records?check_regional_records_form[competition_id]=${e}&check_regional_records_form[event_id]=${t}&check_regional_records_form[refresh_index]=${n}`},competitions:{countInRange:(e,t)=>`/panel/competition_count?${r({startDate:e,endDate:t})}`},persons:{results:(e,t,n)=>`/persons/results?${r({wcaId:e,competitionId:t,eventId:n})}`},cronjob:{details:e=>`/panel/cronjob_details?cronjob_name=${e}`}},Ze={tickets:{show:e=>`/tickets/${e}.json`,updateStatus:e=>`/tickets/${e}/update_status`,editPersonValidators:e=>`/tickets/${e}/edit_person_validators`,addComment:e=>`/tickets/${e}/ticket_comments`,getDetailsBeforeAnonymization:(e,t)=>`/tickets/details_before_anonymization?${r({userId:e,wcaId:t})}`,anonymize:"/tickets/anonymize"},validators:{forCompetitionList:(e,t,n)=>`/panel/validators_for_competition_list?${r({competitionIds:e,selectedValidators:t,applyFixWhenPossible:n})}`,forCompetitionsInRange:(e,t,n,a)=>`/panel/validators_for_competitions_in_range?${r({startDate:e,endDate:t,selectedValidators:n,applyFixWhenPossible:a})}`},cronjob:{run:e=>`/panel/cronjob_run?cronjob_name=${e}`,reset:e=>`/panel/cronjob_reset?cronjob_name=${e}`}},Ye={roundResults:(e,t)=>`/competitions/${e}/live/rounds/${t}`,personResults:(e,t)=>`/competitions/${e}/live/competitors/${t}`,roundResultsAdmin:(e,t)=>`/competitions/${e}/live/rounds/${t}/admin`,checkRoundResultsAdmin:(e,t)=>`/competitions/${e}/live/rounds/${t}/admin/check`,api:{addRoundResult:(e,t)=>`/api/competitions/${e}/rounds/${t}`,updateRoundResult:(e,t)=>`/api/competitions/${e}/rounds/${t}`,getRoundResults:(e,t)=>`/api/competitions/${e}/rounds/${t}`}},Xe="/profile/edit?section=preferences",Qe=(e,t)=>`https://t7ni46t9jd.execute-api.us-west-2.amazonaws.com/v1/prod?competition_id=${t}&user_id=${e}`,Je=(e,t,n)=>`/api/v0/competitions/${e}/psych-sheet/${t}?sort_by=${n}`,et=e=>`/registrations/${e}/edit`,tt="/admin/all-voters",nt="/admin/leader-senior-voters",rt=e=>`/api/v1/competitions/${e}/registrations`,at=e=>`/api/v1/competitions/${e}/registrations/admin`,ot=e=>`/api/v1/registrations/${e}`,it=(e,t)=>`/api/v1/competitions/${e}/registrations/${t}`,lt=e=>`/api/v1/competitions/${e}/registrations`,st=e=>`/api/v1/registrations/${e}`,ct=e=>`/api/v1/competitions/${e}/registrations/bulk_auto_accept`,ut=e=>`/api/v1/competitions/${e}/registrations/bulk_update`,dt=(e,t)=>`/api/v1/registrations/${e}/payment_ticket?iso_donation_amount=${t}`,mt=(e,t,n,r,a)=>{const o=`/results/rankings/${e}/${t}`,i=new URLSearchParams;return"world"!==n&&i.append("region",n),"All"!==r&&i.append("gender",r),"100 persons"!==a&&i.append("show",a),`${o}?${i.toString()}`},pt="/server-status",ft="/panel-page/merge-profiles",gt="/panel-page/reassign-connected-wca-id",Et=(e,t,n,r)=>{const a=new URLSearchParams;return"world"!==t&&a.append("region",t),"All"!==n&&a.append("gender",n),e&&a.append("event_id",e),r&&a.append("show",r),`/results/records?${a.toString()}`}},66251:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(1489),i=n(24106),l=n(35907),s=n(2543),c=n.n(s),u=n(83995),d=n(54076),m=n(22035),p=n(66048),f=n(45567);const g=(e,t)=>({key:e,value:e,text:t.byId[e].name});t.default=function({roundData:e,setRoundData:t}){const{competitionId:n,roundTypeId:s,eventId:E,roundId:v}=e,y=(0,d.A)(t,"competitionId"),[A,b]=(0,r.useState)((({eventId:e,formatId:t,roundTypeId:n})=>({[e]:{eventId:e,rounds:[{formatId:t,roundTypeId:n}]}}))(e)),h=(0,m.A)(t,"eventId",v,A),_=(0,m.A)(t,"roundTypeId",v,A),[w,C]=(0,r.useState)(null),S=Object.keys(A).map((e=>g(e,u.AZ))),I=((e,t,n,r)=>c().uniq(e[t].rounds.map((e=>e[n]))).map((e=>g(e,r))))(A,E,"roundTypeId",u.uY);return r.createElement(a.A,null,r.createElement(o.A,{stackable:!0,padded:!0,columns:3},r.createElement(o.A.Column,null,r.createElement(a.A.Input,{label:"Competition ID",value:n,onChange:y,error:w,icon:r.createElement(i.A,{trigger:r.createElement(l.A,{circular:!0,link:!0,onClick:()=>{return e=n,C(null),void(0,f.o)((0,p.yb)(e)).then((({data:e})=>{b(e)})).catch((e=>C(e.message)));var e},name:"sync"}),content:"Get the events and round data for that competition",position:"top right"})})),r.createElement(o.A.Column,null,r.createElement(a.A.Select,{label:"Event",value:E,onChange:h,options:S})),r.createElement(o.A.Column,null,r.createElement(a.A.Select,{label:"Round type",value:s,onChange:_,options:I}))))}},66303:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(21295),o=n(65632),i=n(27089),l=n(55969),s=n(3487),c=n(35907),u=n(95472),d=n(2543),m=n.n(d),p=n(97286),f=n(24880),g=n(73174),E=n(83995),v=n(87185),y=n(89407),A=n(58894),b=n(37700),h=n(18858),_=n(45567),w=n(66048),C=n(20045),S=n(600);const I=Intl.supportedValuesOf("timeZone");t.default=function({venue:e,countryZones:t,referenceTime:n}){const d=(0,y.wA)(),P=(0,A.S)(),O=(t,{name:n,value:r})=>{d((0,b.editVenue)(e.id,n,(0,h.h6)(r)))},R=(t,{name:n,value:r})=>{d((0,b.editVenue)(e.id,n,r))},k=(0,r.useCallback)((e=>(0,C.D)(e,n,"en-US")),[n]),j=(0,r.useCallback)((e=>({key:e,text:k(e),value:e})),[k]),T=(0,r.useMemo)((()=>{const e=m().intersection(m().uniq(t),I),r=(0,C.Z)(e,n),o=m().intersection(m().difference(E.RG,e),I),i=(0,C.Z)(o,n);return[{as:a.A.Header,key:"local-zones-header",text:"Local time zones",disabled:!0},...r.map(j),{as:a.A.Header,key:"other-zones-header",text:"Other time zones",disabled:!0},...i.map(j)]}),[t,n,j]),x=(0,r.useCallback)((async()=>{const t=`${w.U5}?${new URLSearchParams({lat:e.latitudeMicrodegrees,lng:e.longitudeMicrodegrees}).toString()}`;return(await(0,_.V)(t)).json()}),[e.latitudeMicrodegrees,e.longitudeMicrodegrees]),{data:D,isLoading:F,isError:M}=(0,p.I)({queryFn:x,queryKey:["suggested-tz",e.latitudeMicrodegrees,e.longitudeMicrodegrees],enabled:Boolean(e.latitudeMicrodegrees&&e.longitudeMicrodegrees),placeholderData:f.rX}),L=(0,r.useMemo)((()=>null===D||void 0===D?void 0:D.find((e=>T.some((t=>t.key===e))))),[D,T]);return r.createElement(o.A,{fluid:!0,raised:!0},r.createElement(i.A,{as:l.A,className:"venue-map",style:{height:"300px"}},r.createElement(g.default,{venue:e})),r.createElement(o.A.Content,null,r.createElement(o.A.Header,null,r.createElement(s.A,{floated:"right",compact:!0,icon:!0,labelPosition:"left",negative:!0,onClick:()=>{P({content:`Are you sure you want to delete the venue ${e.name}? This will also delete all associated rooms and all associated schedules. THIS ACTION CANNOT BE UNDONE!`}).then((()=>d((0,b.removeVenue)(e.id))))}},r.createElement(c.A,{name:"trash"}),"Remove")),r.createElement(o.A.Description,null,r.createElement(u.A,null,r.createElement(u.A.Group,{widths:"equal"},r.createElement(u.A.Input,{label:"Latitude",name:"latitudeMicrodegrees",value:(0,h.xW)(e.latitudeMicrodegrees),onChange:O}),r.createElement(u.A.Input,{label:"Longitude",name:"longitudeMicrodegrees",value:(0,h.xW)(e.longitudeMicrodegrees),onChange:O})),r.createElement(u.A.Input,{id:"venue-name",label:"Name",name:"name",value:e.name,onChange:R}),r.createElement(S.default,{name:"countryIso2",onlyCountries:!0,region:e.countryIso2,onRegionChange:R}),L&&r.createElement(s.A,{floated:"right",compact:!0,icon:!0,labelPosition:"left",primary:!0,negative:M,disabled:F,onClick:async e=>{L&&R(0,{name:"timezone",value:L})}},r.createElement(c.A,{name:"target"}),"Use coordinate timezone",r.createElement("div",null,L)),r.createElement(u.A.Select,{label:"Timezone",name:"timezone",options:T,value:e.timezone,onChange:R})))),r.createElement(o.A.Content,null,r.createElement(o.A.Header,null,r.createElement(s.A,{floated:"right",compact:!0,icon:!0,labelPosition:"left",positive:!0,onClick:()=>{d((0,b.addRoom)(e.id))}},r.createElement(c.A,{name:"add"}),"Add room"),"Rooms"),r.createElement(o.A.Description,null,r.createElement(o.A.Group,{itemsPerRow:2},e.rooms.map((e=>r.createElement(v.default,{key:e.id,room:e})))))))}},66708:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(66162),o=n(81344),i=n(14489),l=n(13489),s=n(68438),c=n(92562),u=n(83615),d=n(18770),m=n(81922),p=n(66048),f=n(64417);t.default=function({competitions:e,isLoading:t,fetchMoreCompetitions:n,hasMoreCompsToLoad:g}){(0,r.useEffect)((()=>{g&&(null===e||void 0===e?void 0:e.length)<500&&!t&&n()}),[g,e,t,n]);const E=c.V;return r.createElement("div",{name:"competitions-map"},r.createElement(a.W,{center:[0,0],zoom:2,scrollWheelZoom:!0,style:{height:"400px",width:"100%"}},r.createElement(d.A,null),r.createElement(o.e,{url:E.url,attribution:E.attribution}),null===e||void 0===e?void 0:e.slice(0,500).map((e=>r.createElement(i.p,{key:e.id,position:{lat:e.latitude_degrees,lng:e.longitude_degrees},icon:(0,m.ac)(e)?u.Z:u.I},r.createElement(l.z,null,r.createElement("a",{href:(0,p.No)(e.id)},e.name),r.createElement("br",null),`${(0,f.Mk)(e.start_date,e.end_date)} - ${e.city}`))))),r.createElement(s.A,{loading:t,cssOverride:{width:"100%"}}))}},67168:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({ticketId:e}){const{data:t}=await(0,r.o)(a.uP.tickets.listComments(e));return t||{}}},67626:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(31797);t.default=function({item:e,description:t}){return r.createElement("div",{className:"multisearch-item-user"},r.createElement(a.default,{avatar:e.avatar,avatarClass:"avatar-image",size:"tiny",disableHover:!0}),r.createElement("div",{className:"details"},r.createElement("span",null,e.name),e.wca_id&&r.createElement("span",{className:"wca-id"},e.wca_id),t&&r.createElement("span",null,t)))}},67642:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(96540),a=n(73574),o=n(5074),i=n(31746),l=n(95472),s=n(60654),c=n(69960),u=n(3487),d=n(97665),m=n(57097),p=n(1460),f=n(80824),g=n(64417),E=n(83995),v=n(95817),y=n(52322),A=n(89407),b=n(58894),h=n(66048),_=n(3861),w=n(34260),C=n(94028);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O({nextStep:e,competitionInfo:t}){var n,S;const P=(0,A.wA)(),O=(0,b.S)(),{registration:R,isRejected:k,isAccepted:j,hasPaid:T}=(0,w.useRegistration)(),x=(0,g.Pc)(null!==(n=t.event_change_deadline_date)&&void 0!==n?n:t.start_date),D="always"===t.competitor_can_cancel||"not_accepted"===t.competitor_can_cancel&&!j||"unpaid"===t.competitor_can_cancel&&!T,F=(0,d.jE)(),{mutate:M,isPending:L}=(0,m.n)({mutationFn:()=>(0,v.default)({registrationId:R.id,payload:{user_id:R.user_id,competition_id:t.id,competing:{status:"cancelled"}}}),onError:e=>{const{error:t}=e.json;P((0,y.showMessage)(`competitions.registration_v2.errors.${t}`,"negative"))},onSuccess:n=>{e({toStart:!0}),F.setQueryData(["registration",t.id,R.user_id],I(I({},n.registration),{},{payment:R.payment})),P((0,y.showMessage)("competitions.registration_v2.register.registration_status.cancelled","positive"))}});return k?r.createElement(_.default,{registration:R,competitionInfo:t}):r.createElement(r.Fragment,null,r.createElement(_.default,{registration:R,competitionInfo:t}),!t["using_payment_integrations?"]&&"pending"===R.competing.registration_status&&t.base_entry_fee_lowest_denomination&&r.createElement(a.A,{info:!0},p.Ay.t("registrations.wont_pay_here")),r.createElement(o.A,{loading:L},r.createElement(i.A,null,p.Ay.t("competitions.nav.menu.registration")),r.createElement(l.A,{onSubmit:e,size:"large"},r.createElement(s.A,null,r.createElement(s.A.Item,null,r.createElement(s.A.Header,null,p.Ay.t("activerecord.attributes.registration.registration_competition_events"),":"),E.AZ.official.filter((e=>R.competing.event_ids.includes(e.id))).map((e=>r.createElement(r.Fragment,{key:e.id},r.createElement(f.default,{id:e.id,hoverable:!1})," ")))),r.createElement(s.A.Item,null,r.createElement(s.A.Header,null,p.Ay.t("activerecord.attributes.registration.comments"),":"),(null===(S=R.competing.comment)||void 0===S?void 0:S.length)>0?R.competing.comment:p.Ay.t("competitions.schedule.rooms_panel.none")),t.guests_enabled&&r.createElement(s.A.Item,null,r.createElement(s.A.Header,null,p.Ay.t("activerecord.attributes.registration.guests"),":"),R.guests),R.payment&&r.createElement(s.A.Item,null,r.createElement(s.A.Header,null,p.Ay.t("payments.labels.net_payment"),":"),(0,C.i)(R.payment.paid_amount_iso,R.payment.currency_code)),r.createElement(c.A,{widths:2},r.createElement(u.A,{primary:!0,type:"submit",disabled:x},p.Ay.t(x?"competitions.registration_v2.errors.-4001":"registrations.update")),r.createElement(u.A,{negative:!0,onClick:n=>{n.preventDefault(),O({content:p.Ay.t(D?"registrations.delete_confirm":"competitions.registration_v2.update.delete_confirm_contact")}).then((()=>D?M():window.location=(0,h.Ft)(t.id,encodeURIComponent(p.Ay.t("competitions.registration_v2.update.delete_contact_message"))))).catch((()=>e({refresh:!0})))}},p.Ay.t("registrations.delete_registration")))))))}},67808:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(95472),o=n(31746),i=n(98866),l=n(3487),s=n(41935),c=n(16523),u=n(66048),d=n(46882),m=n(91283);function p(){var e;const[t]=(0,d.A)(),n=null===t||void 0===t||null===(e=t.competition_ids)||void 0===e||null===(e=e.split(","))||void 0===e?void 0:e.filter(Boolean),[p,f]=(0,m.A)(n||[]);return r.createElement(a.A,null,r.createElement(s.IdWcaSearch,{model:c.default.competition,multiple:!0,value:p,onChange:f,label:"Competition(s)"}),r.createElement(o.A,{as:"h4"},r.createElement(i.A,null,"Leave blank to check for all competitions")),r.createElement(l.A,{primary:!0,size:"big",href:u.uP.admin.completePersons(p)},"Check newcomers"))}},68036:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(31746),o=n(60654),i=n(83760),l=n(67808);function s(){return r.createElement(r.Fragment,null,r.createElement(a.A,null,"Create Newcomers"),r.createElement(c,null),r.createElement(l.default,null))}function c(){return r.createElement(r.Fragment,null,r.createElement("p",null,'In this script, a "person" always means a triple of (id,name,country_id) and "similar" always means just name similarity. A person is called "finished" if it has a non-empty personId. A "semi-id" is the id without the running number at the end.'),r.createElement("p",null,'For each unfinished person in the Results table, I show you the few most similar persons. Then you make choices and click "update" at the bottom of the page to show and execute your choices. You can:'),r.createElement(o.A,{bulleted:!0},r.createElement(i.A,null,'Choose the person as "new", optionally modifying name, country and semi-id. This will add the person to the Persons table (with appropriately extended id) and change its Results accordingly. If this person has both roman and local names, the syntax for the names to be inserted correctly is "romanName (localName)".'),r.createElement(i.A,null,"Choose another person. This will overwrite the person's (id,name,country_id) triple in the Results table with those of the other person."),r.createElement(i.A,null,"Skip it if you're not sure yet.")))}},68103:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(22926),a=n(22037),o=n(96540),i=n(31746),l=n(73574),s=n(5074),c=n(95472),u=n(36713),d=n(63129),m=n(50363),p=n(6957),f=n(3487),g=n(97286),E=n(1460),v=n(45567),y=n(66048),A=n(34260),b=n(89407),h=n(57598),_=n(60513),w=n(52322),C=n(62728),S=n(7862);const I=async(e,t,n)=>{const{data:r}=await(0,v.o)((0,y.xq)(e,t,n));return r};function P({competitionInfo:e,stripePublishableKey:t,connectedAccountId:n,user:s,nextStep:c}){var u;const[d,m]=(0,o.useState)(null),p=e.base_entry_fee_lowest_denomination,[f,v]=(0,o.useState)(0),{registration:y}=(0,A.useRegistration)(),{data:b,isFetching:h}=(0,g.I)({queryFn:()=>I(e.id,y.user_id,f),queryKey:["displayAmount",f,e.id,y.user_id]});return(0,o.useEffect)((()=>{m((0,a.c)(t,{stripeAccount:n}))}),[n,t]),o.createElement(o.Fragment,null,o.createElement(i.A,null,"Payment"),o.createElement(l.A,{positive:!0},E.Ay.t("registrations.payment_form.hints.payment_button")),f>p&&o.createElement(l.A,{warning:!0},E.Ay.t("registrations.payment_form.alerts.amount_rather_high")),d&&o.createElement(r.Elements,{stripe:d,options:{amount:null!==(u=null===b||void 0===b?void 0:b.api_amounts.stripe)&&void 0!==u?u:p,currency:e.currency_code.toLowerCase(),mode:"payment"}},o.createElement(O,{setIsoDonationAmount:v,competitionInfo:e,user:s,isoDonationAmount:f,displayAmount:null===b||void 0===b?void 0:b.human_amount,registration:y,nextStep:c,conversionFetching:h})))}function O({competitionInfo:e,setIsoDonationAmount:t,isoDonationAmount:n,displayAmount:a,conversionFetching:l}){const g=(0,r.useStripe)(),v=(0,r.useElements)(),I=(0,b.wA)(),{registration:P}=(0,A.useRegistration)(),[O,R]=(0,o.useState)(!1),[k,j]=(0,h.A)(!1);return o.createElement(s.A,null,o.createElement(c.A,{id:"payment-form",onSubmit:async t=>{if(t.preventDefault(),!g||!v)return;R(!0),await v.submit();const r=await(0,_.default)(P.id,n),{client_secret:a}=r,{error:o}=await g.confirmPayment({elements:v,clientSecret:a,confirmParams:{return_url:(0,y.Pw)(e.id,"stripe")}});o&&(I((0,w.showMessage)("registrations.payment_form.errors.generic.failed","error",{provider:E.Ay.t("payments.payment_providers.stripe")})),console.error(o)),R(!1)}},o.createElement(r.PaymentElement,{id:"payment-element"}),o.createElement(u.A,null),e.enable_donations&&o.createElement(d.A,null,o.createElement(m.A,{id:"useDonationCheckbox",value:k,onChange:(e,n)=>{j(e,n),t(0)},label:E.Ay.t("registrations.payment_form.labels.show_donation")}),k&&o.createElement(C.default,{id:"donationInputField",onChange:(e,{value:n})=>t(n),currency:e.currency_code,value:n,label:o.createElement(p.A,null,E.Ay.t("registrations.payment_form.labels.donation"))})),O?o.createElement(S.default,null):o.createElement(o.Fragment,null,o.createElement(i.A,{size:"small",id:"money-subtotal"},E.Ay.t("registrations.payment_form.labels.subtotal"),":"," ",a),o.createElement(u.A,{hidden:!0}),o.createElement(f.A,{type:"submit",primary:!0,disabled:O||l||!g||!v,id:"submit"},E.Ay.t("registrations.payment_form.button_text")))))}},68194:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(31746),o=n(60654);const i="https://docs.google.com/forms/d/e/1FAIpQLSf3079GXcGUYDmJIIdRt0GPlDA_-aMSBZqk93zDgaFRxG15xQ/viewform";function l(){return r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h2"},"Leader Forms"),r.createElement(o.A,null,r.createElement(o.A.Item,null,r.createElement("a",{href:i,target:"_blank",rel:"noreferrer"},"Member Promotion Form"))))}},68533:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Pg:function(){return i},al:function(){return l},uR:function(){return s}});const i=(e,t)=>{const n=new Date(e);let r;return r="undefined"!==typeof Intl?new Intl.DateTimeFormat(t,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"}).format(n):n.toString(),r},l=()=>{const e=location.search.substr(1),t={};return e&&e.split("&").forEach((e=>{const[n,r]=decodeURIComponent(e).split("=");t[n]=r})),t},s=e=>{const t=a(a({},l()),e),n=Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&");history.replaceState(null,null,`?${n}`)}},68859:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(97286),o=n(77534),i=n(7862),l=n(37202),s=n(90509);function c({filterState:e}){const{event:t,region:n,rankingType:c,gender:u,show:d}=e,m="average"===c,{data:p,isLoading:f}=(0,a.I)({queryKey:["rankings",t,n,c,u,d],queryFn:()=>(0,o.getRankings)(t,c,n,u,d),select:e=>(0,s.mapRankingsData)(e,"by region"===d)});return f?r.createElement(i.default,null):r.createElement(l.default,{rows:p,config:(0,s.rankingsConfig)(d,m)})}},69034:function(e,t,n){"use strict";n.r(t),n.d(t,{augmentApiResults:function(){return f},historyConfig:function(){return v},mixedRecordsConfig:function(){return y},separateRecordsConfig:function(){return E},slimConfig:function(){return g}});var r=n(96285),a=n(96540),o=n(83995),i=n(1460),l=n(62375),s=n(51319),c=n(44721);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return e.map((e=>{if(null===e)return null;const n=t[e.competition_id],r=o.Xr.real.find((t=>t.id===e.country_id));return{result:e,competition:n,country:r}}))}function f(e,t){const{rows:n,competitionsById:r}=e;if("slim"===t||"separate"===t){const[e,t,a]=n;return[e,p(t,r),p(a,r)]}return p(n,r)}const g=[{accessorKey:"single.person_name",header:i.Ay.t("results.table_elements.name"),cell:({row:e,getValue:t})=>t()&&a.createElement(l.PersonCell,{personId:e.original.single.person_id,personName:t()})},{accessorKey:"single.value",header:i.Ay.t("common.single"),cell:({row:e,getValue:t})=>t()&&(0,s.U2)(t(),e.original.single.event_id)},{accessorKey:"single.event_id",header:i.Ay.t("results.table_elements.event"),cell:({getValue:e})=>e()&&a.createElement(l.EventCell,{eventId:e()})},{accessorKey:"average.value",header:i.Ay.t("common.average"),cell:({row:e,getValue:t})=>{var n;return t()&&(0,s.U2)(t(),null===(n=e.original.average)||void 0===n?void 0:n.event_id)}},{accessorKey:"average.person_name",header:i.Ay.t("results.table_elements.name"),cell:({row:e,getValue:t})=>{var n;return t&&a.createElement(l.PersonCell,{personId:null===(n=e.original.average)||void 0===n?void 0:n.person_id,personName:t()})}},d(d({},c.resultsFiveWideColumn),{},{accessorKey:"average"})],E=e=>[c.eventColumn,c.attemptResultColumn,c.personColumn,c.regionColumn,c.competitionColumn,"average"===e&&c.resultsFiveWideColumn].filter(Boolean),v=e=>[{accessorKey:"result.start_date",header:i.Ay.t("results.table_elements.date_circa"),cell:({getValue:e})=>r.c9.fromISO(e()).toFormat("MMM dd, yyyy")},e&&c.eventColumn,c.personColumn,{id:"single",accessorKey:"result.value",header:i.Ay.t("common.single"),cell:({row:e,getValue:t})=>"single"===e.original.result.type&&(0,s.U2)(t(),e.original.result.event_id)},{id:"average",accessorKey:"result.value",header:i.Ay.t("common.average"),cell:({row:e,getValue:t})=>"average"===e.original.result.type&&(0,s.U2)(t(),e.original.result.event_id)},c.regionColumn,c.competitionColumn,c.resultsFiveWideColumn].filter(Boolean),y=[{accessorKey:"result.type",header:i.Ay.t("results.selector_elements.type_selector.type"),cell:({getValue:e})=>i.Ay.t(`results.selector_elements.type_selector.${e()}`)},c.personColumn,c.attemptResultColumn,c.regionColumn,c.competitionColumn,c.resultsFiveWideColumn]},69551:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(60654);t.default=function(){return r.createElement(r.Fragment,null,r.createElement("h1",null,"Disclaimer"),r.createElement(a.A,{as:"ul"},r.createElement(a.A.Item,{as:"li"},"The World Cube Association (WCA) works to verify that appropriate WCA Regulations are followed for the competition portion of WCA Competitions."),r.createElement(a.A.Item,{as:"li"},"However, all other aspects of competitions, including (but not limited to) financial matters and competition websites, are solely the responsibility of the competition organizers and not the WCA."),r.createElement(a.A.Item,{as:"li"},"Unless otherwise noted, sponsorship and partnership agreements are arranged with individual competition organizers and not with the WCA."),r.createElement(a.A.Item,{as:"li"},"Since the WCA itself does not organize competitions, the WCA is not responsible for damage or injury incurred at WCA Competitions."),r.createElement(a.A.Item,{as:"li"},"It is not permitted to use the WCA's non-profit status determination letter without explicit permission from the WCA Board of Directors.")))}},69567:function(e,t,n){var r={"./CompetitionForm/AnnouncementActions":59211,"./CompetitionForm/AnnouncementActions.js":59211,"./CompetitionForm/ConfirmationToggles":10319,"./CompetitionForm/ConfirmationToggles.js":10319,"./CompetitionForm/Create":13285,"./CompetitionForm/Create.js":13285,"./CompetitionForm/Edit":16013,"./CompetitionForm/Edit.js":16013,"./CompetitionForm/FormSections/CompDates":80656,"./CompetitionForm/FormSections/CompDates.js":80656,"./CompetitionForm/FormSections/CompetitorLimit":50605,"./CompetitionForm/FormSections/CompetitorLimit.js":50605,"./CompetitionForm/FormSections/ConditionalSection":18397,"./CompetitionForm/FormSections/ConditionalSection.js":18397,"./CompetitionForm/FormSections/DuesEstimate":98805,"./CompetitionForm/FormSections/DuesEstimate.jsx":98805,"./CompetitionForm/FormSections/EventRestrictions":52363,"./CompetitionForm/FormSections/EventRestrictions.js":52363,"./CompetitionForm/FormSections/NameDetails":80879,"./CompetitionForm/FormSections/NameDetails.js":80879,"./CompetitionForm/FormSections/RegistrationDates":92314,"./CompetitionForm/FormSections/RegistrationDates.js":92314,"./CompetitionForm/FormSections/RegistrationDetails":40117,"./CompetitionForm/FormSections/RegistrationDetails.js":40117,"./CompetitionForm/FormSections/RegistrationFees":93846,"./CompetitionForm/FormSections/RegistrationFees.js":93846,"./CompetitionForm/FormSections/Series":80907,"./CompetitionForm/FormSections/Series.js":80907,"./CompetitionForm/FormSections/Staff":33846,"./CompetitionForm/FormSections/Staff.js":33846,"./CompetitionForm/FormSections/VenueInfo":80955,"./CompetitionForm/FormSections/VenueInfo.js":80955,"./CompetitionForm/FormSections/Website":54905,"./CompetitionForm/FormSections/Website.js":54905,"./CompetitionForm/Header":75908,"./CompetitionForm/Header.js":75908,"./CompetitionForm/MainForm":20326,"./CompetitionForm/MainForm.js":20326,"./CompetitionForm/Tables/CompsTable":52067,"./CompetitionForm/Tables/CompsTable.js":52067,"./CompetitionForm/Tables/NearbyComps":21966,"./CompetitionForm/Tables/NearbyComps.js":21966,"./CompetitionForm/Tables/RegistrationCollisions":55227,"./CompetitionForm/Tables/RegistrationCollisions.js":55227,"./CompetitionForm/Tables/SeriesComps":76252,"./CompetitionForm/Tables/SeriesComps.js":76252,"./CompetitionForm/Tables/TableWrapper":91592,"./CompetitionForm/Tables/TableWrapper.js":91592,"./CompetitionForm/UserPreferences":7362,"./CompetitionForm/UserPreferences.js":7362,"./CompetitionForm/api":81333,"./CompetitionForm/api.js":81333,"./CompetitionsOverview":20171,"./CompetitionsOverview/":20171,"./CompetitionsOverview/CompetitionsFilters":51540,"./CompetitionsOverview/CompetitionsFilters.jsx":51540,"./CompetitionsOverview/CompetitionsView":87462,"./CompetitionsOverview/CompetitionsView.js":87462,"./CompetitionsOverview/ListView":23922,"./CompetitionsOverview/ListView.js":23922,"./CompetitionsOverview/ListViewSection":5087,"./CompetitionsOverview/ListViewSection.js":5087,"./CompetitionsOverview/MapView":66708,"./CompetitionsOverview/MapView.js":66708,"./CompetitionsOverview/filterUtils":74596,"./CompetitionsOverview/filterUtils.js":74596,"./CompetitionsOverview/index":20171,"./CompetitionsOverview/index.js":20171,"./CompetitionsOverview/queryUtils":27066,"./CompetitionsOverview/queryUtils.js":27066,"./CompetitionsOverview/useDelegatesData":85094,"./CompetitionsOverview/useDelegatesData.js":85094,"./ContactEditProfilePage":3342,"./ContactEditProfilePage/":3342,"./ContactEditProfilePage/EditProfileForm":51491,"./ContactEditProfilePage/EditProfileForm.jsx":51491,"./ContactEditProfilePage/index":3342,"./ContactEditProfilePage/index.jsx":3342,"./ContactsPage":54694,"./ContactsPage/":54694,"./ContactsPage/ContactForm":89740,"./ContactsPage/ContactForm.jsx":89740,"./ContactsPage/SubForms/Competition":65974,"./ContactsPage/SubForms/Competition/":65974,"./ContactsPage/SubForms/Competition/index":65974,"./ContactsPage/SubForms/Competition/index.jsx":65974,"./ContactsPage/SubForms/Wct":2577,"./ContactsPage/SubForms/Wct/":2577,"./ContactsPage/SubForms/Wct/index":2577,"./ContactsPage/SubForms/Wct/index.jsx":2577,"./ContactsPage/SubForms/Wrt":96974,"./ContactsPage/SubForms/Wrt/":96974,"./ContactsPage/SubForms/Wrt/OtherQuery":58802,"./ContactsPage/SubForms/Wrt/OtherQuery.jsx":58802,"./ContactsPage/SubForms/Wrt/index":96974,"./ContactsPage/SubForms/Wrt/index.jsx":96974,"./ContactsPage/SubForms/Wst":55521,"./ContactsPage/SubForms/Wst/":55521,"./ContactsPage/SubForms/Wst/index":55521,"./ContactsPage/SubForms/Wst/index.jsx":55521,"./ContactsPage/UserData":54565,"./ContactsPage/UserData.jsx":54565,"./ContactsPage/index":54694,"./ContactsPage/index.jsx":54694,"./ContactsPage/store/actions":50495,"./ContactsPage/store/actions.js":50495,"./ContactsPage/store/reducer":62832,"./ContactsPage/store/reducer.js":62832,"./DelegateProbations":71638,"./DelegateProbations/":71638,"./DelegateProbations/ProbationForm":90844,"./DelegateProbations/ProbationForm.jsx":90844,"./DelegateProbations/ProbationListTable":82568,"./DelegateProbations/ProbationListTable.jsx":82568,"./DelegateProbations/index":71638,"./DelegateProbations/index.jsx":71638,"./Delegates":92884,"./Delegates/":92884,"./Delegates/DelegatesOfAllRegion":85353,"./Delegates/DelegatesOfAllRegion.jsx":85353,"./Delegates/DelegatesOfRegion":78075,"./Delegates/DelegatesOfRegion.jsx":78075,"./Delegates/DelegatesOfSubregion":57569,"./Delegates/DelegatesOfSubregion.jsx":57569,"./Delegates/DelegatesTable":14526,"./Delegates/DelegatesTable.jsx":14526,"./Delegates/index":92884,"./Delegates/index.jsx":92884,"./EditAvatar":49597,"./EditAvatar/":49597,"./EditAvatar/CroppedImage":12761,"./EditAvatar/CroppedImage.js":12761,"./EditAvatar/ImageUpload":92745,"./EditAvatar/ImageUpload.js":92745,"./EditAvatar/ThumbnailEditor":1772,"./EditAvatar/ThumbnailEditor.js":1772,"./EditAvatar/index":49597,"./EditAvatar/index.js":49597,"./EditEvents":96997,"./EditEvents/":96997,"./EditEvents/EventPanel":71952,"./EditEvents/EventPanel/":71952,"./EditEvents/EventPanel/RoundCountInput":96649,"./EditEvents/EventPanel/RoundCountInput.js":96649,"./EditEvents/EventPanel/RoundRow":2202,"./EditEvents/EventPanel/RoundRow.js":2202,"./EditEvents/EventPanel/RoundsTable":94227,"./EditEvents/EventPanel/RoundsTable.js":94227,"./EditEvents/EventPanel/index":71952,"./EditEvents/EventPanel/index.js":71952,"./EditEvents/Modals":69860,"./EditEvents/Modals/":69860,"./EditEvents/Modals/ButtonActivatedModal":99358,"./EditEvents/Modals/ButtonActivatedModal.js":99358,"./EditEvents/Modals/EditAdvancementConditionModal":87907,"./EditEvents/Modals/EditAdvancementConditionModal/":87907,"./EditEvents/Modals/EditAdvancementConditionModal/AdvancementTypeInput":58233,"./EditEvents/Modals/EditAdvancementConditionModal/AdvancementTypeInput.js":58233,"./EditEvents/Modals/EditAdvancementConditionModal/index":87907,"./EditEvents/Modals/EditAdvancementConditionModal/index.js":87907,"./EditEvents/Modals/EditCutoffModal":2105,"./EditEvents/Modals/EditCutoffModal/":2105,"./EditEvents/Modals/EditCutoffModal/CutoffFormatInput":89027,"./EditEvents/Modals/EditCutoffModal/CutoffFormatInput.js":89027,"./EditEvents/Modals/EditCutoffModal/index":2105,"./EditEvents/Modals/EditCutoffModal/index.js":2105,"./EditEvents/Modals/EditQualificationModal":16791,"./EditEvents/Modals/EditQualificationModal/":16791,"./EditEvents/Modals/EditQualificationModal/QualificationResultTypeInput":72599,"./EditEvents/Modals/EditQualificationModal/QualificationResultTypeInput.js":72599,"./EditEvents/Modals/EditQualificationModal/QualificationTypeInput":34368,"./EditEvents/Modals/EditQualificationModal/QualificationTypeInput.js":34368,"./EditEvents/Modals/EditQualificationModal/index":16791,"./EditEvents/Modals/EditQualificationModal/index.js":16791,"./EditEvents/Modals/EditTimeLimitModal":82112,"./EditEvents/Modals/EditTimeLimitModal/":82112,"./EditEvents/Modals/EditTimeLimitModal/SelectRoundsModal":74122,"./EditEvents/Modals/EditTimeLimitModal/SelectRoundsModal.js":74122,"./EditEvents/Modals/EditTimeLimitModal/TimeLimitDescription":57560,"./EditEvents/Modals/EditTimeLimitModal/TimeLimitDescription.js":57560,"./EditEvents/Modals/EditTimeLimitModal/index":82112,"./EditEvents/Modals/EditTimeLimitModal/index.js":82112,"./EditEvents/Modals/index":69860,"./EditEvents/Modals/index.js":69860,"./EditEvents/index":96997,"./EditEvents/index.js":96997,"./EditEvents/store/actions":72272,"./EditEvents/store/actions.js":72272,"./EditEvents/store/reducer":32259,"./EditEvents/store/reducer.js":32259,"./EditEvents/utils":83744,"./EditEvents/utils.js":83744,"./EditResult":40573,"./EditResult/":40573,"./EditResult/Create":54365,"./EditResult/Create.js":54365,"./EditResult/ResultForm/AfterActionMessage":95790,"./EditResult/ResultForm/AfterActionMessage.js":95790,"./EditResult/ResultForm/AttemptResultFieldWrapper":46082,"./EditResult/ResultForm/AttemptResultFieldWrapper.js":46082,"./EditResult/ResultForm/AttemptsForm":90161,"./EditResult/ResultForm/AttemptsForm.js":90161,"./EditResult/ResultForm/DeleteResultButton":59971,"./EditResult/ResultForm/DeleteResultButton.js":59971,"./EditResult/ResultForm/NewPersonModal":47737,"./EditResult/ResultForm/NewPersonModal.js":47737,"./EditResult/ResultForm/PersonForm":49346,"./EditResult/ResultForm/PersonForm.js":49346,"./EditResult/ResultForm/ResultForm":10265,"./EditResult/ResultForm/ResultForm.js":10265,"./EditResult/ResultForm/ResultForm.scss":47701,"./EditResult/ResultForm/RoundForm":25991,"./EditResult/ResultForm/RoundForm.js":25991,"./EditResult/ResultForm/SaveMessage":73477,"./EditResult/ResultForm/SaveMessage.js":73477,"./EditResult/WCALive/AttemptResultField/AttemptResultField":72220,"./EditResult/WCALive/AttemptResultField/AttemptResultField.js":72220,"./EditResult/WCALive/AttemptResultField/CubesField":47646,"./EditResult/WCALive/AttemptResultField/CubesField.js":47646,"./EditResult/WCALive/AttemptResultField/FmField":57721,"./EditResult/WCALive/AttemptResultField/FmField.js":57721,"./EditResult/WCALive/AttemptResultField/MarkerField":91252,"./EditResult/WCALive/AttemptResultField/MarkerField.js":91252,"./EditResult/WCALive/AttemptResultField/MbldField":62783,"./EditResult/WCALive/AttemptResultField/MbldField.js":62783,"./EditResult/WCALive/AttemptResultField/MbldPointsField":41798,"./EditResult/WCALive/AttemptResultField/MbldPointsField.js":41798,"./EditResult/WCALive/AttemptResultField/TimeField":90765,"./EditResult/WCALive/AttemptResultField/TimeField.js":90765,"./EditResult/WCALive/AttemptResultField/keybindings":85111,"./EditResult/WCALive/AttemptResultField/keybindings.js":85111,"./EditResult/index":40573,"./EditResult/index.js":40573,"./EditSchedule":23593,"./EditSchedule/":23593,"./EditSchedule/EditActivities":5455,"./EditSchedule/EditActivities/":5455,"./EditSchedule/EditActivities/ActionsHeader":27705,"./EditSchedule/EditActivities/ActionsHeader.js":27705,"./EditSchedule/EditActivities/ActivityPicker":90032,"./EditSchedule/EditActivities/ActivityPicker.js":90032,"./EditSchedule/EditActivities/EditActivityModal":95897,"./EditSchedule/EditActivities/EditActivityModal.js":95897,"./EditSchedule/EditActivities/index":5455,"./EditSchedule/EditActivities/index.js":5455,"./EditSchedule/EditVenues":64478,"./EditSchedule/EditVenues/":64478,"./EditSchedule/EditVenues/RoomPanel":87185,"./EditSchedule/EditVenues/RoomPanel.js":87185,"./EditSchedule/EditVenues/VenueLocationMap":73174,"./EditSchedule/EditVenues/VenueLocationMap.js":73174,"./EditSchedule/EditVenues/VenuePanel":66303,"./EditSchedule/EditVenues/VenuePanel.js":66303,"./EditSchedule/EditVenues/index":64478,"./EditSchedule/EditVenues/index.js":64478,"./EditSchedule/index":23593,"./EditSchedule/index.js":23593,"./EditSchedule/store/actions":37700,"./EditSchedule/store/actions.js":37700,"./EditSchedule/store/reducer":45743,"./EditSchedule/store/reducer.js":45743,"./EditSchedule/utils":62692,"./EditSchedule/utils.js":62692,"./EditScramble":25119,"./EditScramble/":25119,"./EditScramble/Create":89671,"./EditScramble/Create.js":89671,"./EditScramble/ScrambleForm/AfterActionMessage":42242,"./EditScramble/ScrambleForm/AfterActionMessage.js":42242,"./EditScramble/ScrambleForm/DeleteScrambleButton":13873,"./EditScramble/ScrambleForm/DeleteScrambleButton.js":13873,"./EditScramble/ScrambleForm/RoundForm":66251,"./EditScramble/ScrambleForm/RoundForm.js":66251,"./EditScramble/ScrambleForm/SaveMessage":43633,"./EditScramble/ScrambleForm/SaveMessage.js":43633,"./EditScramble/ScrambleForm/ScrambleForm":53192,"./EditScramble/ScrambleForm/ScrambleForm.js":53192,"./EditScramble/ScrambleForm/ScrambleForm.scss":41183,"./EditScramble/ScrambleForm/ScrambleInfoForm":49528,"./EditScramble/ScrambleForm/ScrambleInfoForm.js":49528,"./EditScramble/index":25119,"./EditScramble/index.js":25119,"./EmailButton":21660,"./EmailButton/":21660,"./EmailButton/index":21660,"./EmailButton/index.jsx":21660,"./EventsTable":83021,"./EventsTable/":83021,"./EventsTable/index":83021,"./EventsTable/index.jsx":83021,"./I18nHTMLTranslate":1026,"./I18nHTMLTranslate.js":1026,"./IncidentsLog":37113,"./IncidentsLog/":37113,"./IncidentsLog/Tags":33070,"./IncidentsLog/Tags.jsx":33070,"./IncidentsLog/index":37113,"./IncidentsLog/index.jsx":37113,"./Live/Admin/DoubleCheck":11198,"./Live/Admin/DoubleCheck/":11198,"./Live/Admin/DoubleCheck/index":11198,"./Live/Admin/DoubleCheck/index.jsx":11198,"./Live/Admin/Results":46989,"./Live/Admin/Results/":46989,"./Live/Admin/Results/index":46989,"./Live/Admin/Results/index.jsx":46989,"./Live/Admin/Schedule":73626,"./Live/Admin/Schedule/":73626,"./Live/Admin/Schedule/index":73626,"./Live/Admin/Schedule/index.jsx":73626,"./Live/ByPerson":33497,"./Live/ByPerson/":33497,"./Live/ByPerson/index":33497,"./Live/ByPerson/index.jsx":33497,"./Live/Competitors":11778,"./Live/Competitors/":11778,"./Live/Competitors/index":11778,"./Live/Competitors/index.jsx":11778,"./Live/Podiums":11332,"./Live/Podiums/":11332,"./Live/Podiums/index":11332,"./Live/Podiums/index.jsx":11332,"./Live/RoundResults":78839,"./Live/RoundResults/":78839,"./Live/RoundResults/index":78839,"./Live/RoundResults/index.jsx":78839,"./Live/api/getRoundResults":65119,"./Live/api/getRoundResults.js":65119,"./Live/api/submitRoundResults":12515,"./Live/api/submitRoundResults.js":12515,"./Live/api/updateRoundResults":10054,"./Live/api/updateRoundResults.js":10054,"./Live/components/AttemptsForm":50057,"./Live/components/AttemptsForm.jsx":50057,"./Live/components/ConnectionPulse":89226,"./Live/components/ConnectionPulse.jsx":89226,"./Live/components/ResultsTable":59731,"./Live/components/ResultsTable.jsx":59731,"./Live/hooks/useResultsSubscription":83811,"./Live/hooks/useResultsSubscription.js":83811,"./Markdown":18150,"./Markdown.jsx":18150,"./MyCompetitions":72682,"./MyCompetitions/":72682,"./MyCompetitions/PastCompetitionTable":435,"./MyCompetitions/PastCompetitionTable.jsx":435,"./MyCompetitions/TableCells":99251,"./MyCompetitions/TableCells.jsx":99251,"./MyCompetitions/UpcomingCompetitionTable":47545,"./MyCompetitions/UpcomingCompetitionTable.jsx":47545,"./MyCompetitions/index":72682,"./MyCompetitions/index.jsx":72682,"./OfficersAndBoard":61408,"./OfficersAndBoard/":61408,"./OfficersAndBoard/index":61408,"./OfficersAndBoard/index.jsx":61408,"./PaginationFooter":86552,"./PaginationFooter.js":86552,"./Panel/PanelPages":32366,"./Panel/PanelPages.jsx":32366,"./Panel/PanelTemplate":34070,"./Panel/PanelTemplate.jsx":34070,"./Panel/pages/AnonymizationScriptPage":24178,"./Panel/pages/AnonymizationScriptPage/":24178,"./Panel/pages/AnonymizationScriptPage/index":24178,"./Panel/pages/AnonymizationScriptPage/index.jsx":24178,"./Panel/pages/ApprovePictures":9168,"./Panel/pages/ApprovePictures/":9168,"./Panel/pages/ApprovePictures/AvatarCard":2575,"./Panel/pages/ApprovePictures/AvatarCard.jsx":2575,"./Panel/pages/ApprovePictures/api/getPendingAvatarUsers":56529,"./Panel/pages/ApprovePictures/api/getPendingAvatarUsers.js":56529,"./Panel/pages/ApprovePictures/api/updateAvatars":40914,"./Panel/pages/ApprovePictures/api/updateAvatars.js":40914,"./Panel/pages/ApprovePictures/index":9168,"./Panel/pages/ApprovePictures/index.jsx":9168,"./Panel/pages/BannedCompetitorsPage":16574,"./Panel/pages/BannedCompetitorsPage/":16574,"./Panel/pages/BannedCompetitorsPage/BannedCompetitorForm":83080,"./Panel/pages/BannedCompetitorsPage/BannedCompetitorForm.jsx":83080,"./Panel/pages/BannedCompetitorsPage/BannedCompetitors":39531,"./Panel/pages/BannedCompetitorsPage/BannedCompetitors.jsx":39531,"./Panel/pages/BannedCompetitorsPage/index":16574,"./Panel/pages/BannedCompetitorsPage/index.jsx":16574,"./Panel/pages/BoardEditorPage":20536,"./Panel/pages/BoardEditorPage/":20536,"./Panel/pages/BoardEditorPage/BoardEditor":43,"./Panel/pages/BoardEditorPage/BoardEditor.jsx":43,"./Panel/pages/BoardEditorPage/index":20536,"./Panel/pages/BoardEditorPage/index.jsx":20536,"./Panel/pages/CheckRecordsPage":43601,"./Panel/pages/CheckRecordsPage/":43601,"./Panel/pages/CheckRecordsPage/CheckRecordsForm":74809,"./Panel/pages/CheckRecordsPage/CheckRecordsForm.jsx":74809,"./Panel/pages/CheckRecordsPage/index":43601,"./Panel/pages/CheckRecordsPage/index.jsx":43601,"./Panel/pages/ComputeAuxiliaryDataPage":73374,"./Panel/pages/ComputeAuxiliaryDataPage/":73374,"./Panel/pages/ComputeAuxiliaryDataPage/index":73374,"./Panel/pages/ComputeAuxiliaryDataPage/index.jsx":73374,"./Panel/pages/CreateNewcomersPage":68036,"./Panel/pages/CreateNewcomersPage/":68036,"./Panel/pages/CreateNewcomersPage/CompetitionsInput":67808,"./Panel/pages/CreateNewcomersPage/CompetitionsInput.jsx":67808,"./Panel/pages/CreateNewcomersPage/index":68036,"./Panel/pages/CreateNewcomersPage/index.jsx":68036,"./Panel/pages/DelegateForms":61532,"./Panel/pages/DelegateForms/":61532,"./Panel/pages/DelegateForms/index":61532,"./Panel/pages/DelegateForms/index.jsx":61532,"./Panel/pages/DownloadVoters":22239,"./Panel/pages/DownloadVoters/":22239,"./Panel/pages/DownloadVoters/index":22239,"./Panel/pages/DownloadVoters/index.jsx":22239,"./Panel/pages/DuesExport":59897,"./Panel/pages/DuesExport/":59897,"./Panel/pages/DuesExport/index":59897,"./Panel/pages/DuesExport/index.jsx":59897,"./Panel/pages/DuesRedirect":32823,"./Panel/pages/DuesRedirect/":32823,"./Panel/pages/DuesRedirect/index":32823,"./Panel/pages/DuesRedirect/index.jsx":32823,"./Panel/pages/EditPersonPage":32192,"./Panel/pages/EditPersonPage/":32192,"./Panel/pages/EditPersonPage/EditPersonForm":60727,"./Panel/pages/EditPersonPage/EditPersonForm.jsx":60727,"./Panel/pages/EditPersonPage/index":32192,"./Panel/pages/EditPersonPage/index.jsx":32192,"./Panel/pages/EditPersonRequestsPage":4870,"./Panel/pages/EditPersonRequestsPage/":4870,"./Panel/pages/EditPersonRequestsPage/index":4870,"./Panel/pages/EditPersonRequestsPage/index.jsx":4870,"./Panel/pages/FixResultsPage":3190,"./Panel/pages/FixResultsPage/":3190,"./Panel/pages/FixResultsPage/api/getFixResultsData":16946,"./Panel/pages/FixResultsPage/api/getFixResultsData.js":16946,"./Panel/pages/FixResultsPage/index":3190,"./Panel/pages/FixResultsPage/index.jsx":3190,"./Panel/pages/GenerateDataExportsPage":20789,"./Panel/pages/GenerateDataExportsPage/":20789,"./Panel/pages/GenerateDataExportsPage/index":20789,"./Panel/pages/GenerateDataExportsPage/index.jsx":20789,"./Panel/pages/GroupsManager":53027,"./Panel/pages/GroupsManager/":53027,"./Panel/pages/GroupsManager/index":53027,"./Panel/pages/GroupsManager/index.jsx":53027,"./Panel/pages/GroupsManagerAdmin":62e3,"./Panel/pages/GroupsManagerAdmin/":62e3,"./Panel/pages/GroupsManagerAdmin/index":62e3,"./Panel/pages/GroupsManagerAdmin/index.jsx":62e3,"./Panel/pages/ImportantLinks":18163,"./Panel/pages/ImportantLinks/":18163,"./Panel/pages/ImportantLinks/index":18163,"./Panel/pages/ImportantLinks/index.jsx":18163,"./Panel/pages/LeaderForms":68194,"./Panel/pages/LeaderForms/":68194,"./Panel/pages/LeaderForms/index":68194,"./Panel/pages/LeaderForms/index.jsx":68194,"./Panel/pages/LeadersAdminPage":11768,"./Panel/pages/LeadersAdminPage/":11768,"./Panel/pages/LeadersAdminPage/LeaderChangeForm":18279,"./Panel/pages/LeadersAdminPage/LeaderChangeForm.jsx":18279,"./Panel/pages/LeadersAdminPage/LeadersAdmin":25681,"./Panel/pages/LeadersAdminPage/LeadersAdmin.jsx":25681,"./Panel/pages/LeadersAdminPage/index":11768,"./Panel/pages/LeadersAdminPage/index.jsx":11768,"./Panel/pages/OfficersEditor":56628,"./Panel/pages/OfficersEditor/":56628,"./Panel/pages/OfficersEditor/index":56628,"./Panel/pages/OfficersEditor/index.jsx":56628,"./Panel/pages/RegionManager":51951,"./Panel/pages/RegionManager/":51951,"./Panel/pages/RegionManager/index":51951,"./Panel/pages/RegionManager/index.jsx":51951,"./Panel/pages/Regions":44153,"./Panel/pages/Regions/":44153,"./Panel/pages/Regions/LocationEditorForm":95385,"./Panel/pages/Regions/LocationEditorForm.jsx":95385,"./Panel/pages/Regions/LocationEditorModal":89048,"./Panel/pages/Regions/LocationEditorModal.jsx":89048,"./Panel/pages/Regions/Region":61281,"./Panel/pages/Regions/Region.jsx":61281,"./Panel/pages/Regions/Subregion":5627,"./Panel/pages/Regions/Subregion.jsx":5627,"./Panel/pages/Regions/index":44153,"./Panel/pages/Regions/index.jsx":44153,"./Panel/pages/RegionsAdmin":22758,"./Panel/pages/RegionsAdmin/":22758,"./Panel/pages/RegionsAdmin/index":22758,"./Panel/pages/RegionsAdmin/index.jsx":22758,"./Panel/pages/RunValidatorsPage/CompetitionRangeSelector":33438,"./Panel/pages/RunValidatorsPage/CompetitionRangeSelector.jsx":33438,"./Panel/pages/RunValidatorsPage/RunValidatorsForm":55677,"./Panel/pages/RunValidatorsPage/RunValidatorsForm.jsx":55677,"./Panel/pages/RunValidatorsPage/ValidationListView":42955,"./Panel/pages/RunValidatorsPage/ValidationListView.jsx":42955,"./Panel/pages/RunValidatorsPage/ValidationOutput":39355,"./Panel/pages/RunValidatorsPage/ValidationOutput.jsx":39355,"./Panel/pages/RunValidatorsPage/api/getCompetitionCount":37422,"./Panel/pages/RunValidatorsPage/api/getCompetitionCount.js":37422,"./Panel/pages/RunValidatorsPage/api/runValidatorsForCompetitionList":62528,"./Panel/pages/RunValidatorsPage/api/runValidatorsForCompetitionList.js":62528,"./Panel/pages/RunValidatorsPage/api/runValidatorsForCompetitionsInRange":76187,"./Panel/pages/RunValidatorsPage/api/runValidatorsForCompetitionsInRange.js":76187,"./Panel/pages/SeniorDelegatesList":88970,"./Panel/pages/SeniorDelegatesList/":88970,"./Panel/pages/SeniorDelegatesList/index":88970,"./Panel/pages/SeniorDelegatesList/index.jsx":88970,"./Panel/pages/Translators":18719,"./Panel/pages/Translators/":18719,"./Panel/pages/Translators/index":18719,"./Panel/pages/Translators/index.jsx":18719,"./Panel/pages/XeroUsers":50258,"./Panel/pages/XeroUsers/":50258,"./Panel/pages/XeroUsers/index":50258,"./Panel/pages/XeroUsers/index.jsx":50258,"./Panel/views/CronJobStatus":59739,"./Panel/views/CronJobStatus/":59739,"./Panel/views/CronJobStatus/CronjobActions":469,"./Panel/views/CronJobStatus/CronjobActions.jsx":469,"./Panel/views/CronJobStatus/api/getCronjobDetails":11217,"./Panel/views/CronJobStatus/api/getCronjobDetails.js":11217,"./Panel/views/CronJobStatus/api/resetCronjob":42842,"./Panel/views/CronJobStatus/api/resetCronjob.js":42842,"./Panel/views/CronJobStatus/api/runCronjob":31216,"./Panel/views/CronJobStatus/api/runCronjob.js":31216,"./Panel/views/CronJobStatus/index":59739,"./Panel/views/CronJobStatus/index.jsx":59739,"./Persons/Badges":14780,"./Persons/Badges.jsx":14780,"./Persons/List":4969,"./Persons/List/":4969,"./Persons/List/index":4969,"./Persons/List/index.jsx":4969,"./Persons/NewPersonForm/NewPersonForm":75059,"./Persons/NewPersonForm/NewPersonForm.jsx":75059,"./Persons/api/getPersons":19467,"./Persons/api/getPersons.js":19467,"./PostingCompetitions":37794,"./PostingCompetitions/":37794,"./PostingCompetitions/index":37794,"./PostingCompetitions/index.js":37794,"./Posts/CreatePost":85647,"./Posts/CreatePost.jsx":85647,"./Posts/EditPost":74527,"./Posts/EditPost.jsx":74527,"./Posts/PostForm":64173,"./Posts/PostForm.jsx":64173,"./Posts/PostsWidget":77684,"./Posts/PostsWidget.jsx":77684,"./Posts/api/posts":51935,"./Posts/api/posts.js":51935,"./RegionalOrganizations":10243,"./RegionalOrganizations/":10243,"./RegionalOrganizations/index":10243,"./RegionalOrganizations/index.js":10243,"./RegistrationsV2/Register":87142,"./RegistrationsV2/Register/":87142,"./RegistrationsV2/Register/CompetingStep":65106,"./RegistrationsV2/Register/CompetingStep.jsx":65106,"./RegistrationsV2/Register/PaymentOverview":37125,"./RegistrationsV2/Register/PaymentOverview.jsx":37125,"./RegistrationsV2/Register/PaymentStepWrapper":78737,"./RegistrationsV2/Register/PaymentStepWrapper.jsx":78737,"./RegistrationsV2/Register/Processing":81133,"./RegistrationsV2/Register/Processing.jsx":81133,"./RegistrationsV2/Register/RegistrationClosingMessage":70553,"./RegistrationsV2/Register/RegistrationClosingMessage.jsx":70553,"./RegistrationsV2/Register/RegistrationMessage":52322,"./RegistrationsV2/Register/RegistrationMessage.jsx":52322,"./RegistrationsV2/Register/RegistrationNotAllowedMessage":19529,"./RegistrationsV2/Register/RegistrationNotAllowedMessage.jsx":19529,"./RegistrationsV2/Register/RegistrationOpeningMessage":37166,"./RegistrationsV2/Register/RegistrationOpeningMessage.jsx":37166,"./RegistrationsV2/Register/RegistrationOverview":67642,"./RegistrationsV2/Register/RegistrationOverview.jsx":67642,"./RegistrationsV2/Register/RegistrationRequirements":44283,"./RegistrationsV2/Register/RegistrationRequirements.jsx":44283,"./RegistrationsV2/Register/RegistrationStatus":3861,"./RegistrationsV2/Register/RegistrationStatus.jsx":3861,"./RegistrationsV2/Register/StepPanel":56622,"./RegistrationsV2/Register/StepPanel.jsx":56622,"./RegistrationsV2/Register/StripePaymentStep":68103,"./RegistrationsV2/Register/StripePaymentStep.jsx":68103,"./RegistrationsV2/Register/index":87142,"./RegistrationsV2/Register/index.jsx":87142,"./RegistrationsV2/RegistrationAdministration":91768,"./RegistrationsV2/RegistrationAdministration/":91768,"./RegistrationsV2/RegistrationAdministration/AdministrationTableHeader":88681,"./RegistrationsV2/RegistrationAdministration/AdministrationTableHeader.jsx":88681,"./RegistrationsV2/RegistrationAdministration/AdministrationTableRow":12300,"./RegistrationsV2/RegistrationAdministration/AdministrationTableRow.jsx":12300,"./RegistrationsV2/RegistrationAdministration/RegistrationActions":95440,"./RegistrationsV2/RegistrationAdministration/RegistrationActions.jsx":95440,"./RegistrationsV2/RegistrationAdministration/RegistrationAdministrationList":615,"./RegistrationsV2/RegistrationAdministration/RegistrationAdministrationList.jsx":615,"./RegistrationsV2/RegistrationAdministration/RegistrationAdministrationSearch":73875,"./RegistrationsV2/RegistrationAdministration/RegistrationAdministrationSearch.jsx":73875,"./RegistrationsV2/RegistrationAdministration/RegistrationAdministrationTableFooter":26474,"./RegistrationsV2/RegistrationAdministration/RegistrationAdministrationTableFooter.jsx":26474,"./RegistrationsV2/RegistrationAdministration/RegistrationsAdministrationTable":8666,"./RegistrationsV2/RegistrationAdministration/RegistrationsAdministrationTable.jsx":8666,"./RegistrationsV2/RegistrationAdministration/index":91768,"./RegistrationsV2/RegistrationAdministration/index.jsx":91768,"./RegistrationsV2/RegistrationEdit":36714,"./RegistrationsV2/RegistrationEdit/":36714,"./RegistrationsV2/RegistrationEdit/RegistrationEditor":44296,"./RegistrationsV2/RegistrationEdit/RegistrationEditor.jsx":44296,"./RegistrationsV2/RegistrationEdit/RegistrationHistory":14391,"./RegistrationsV2/RegistrationEdit/RegistrationHistory.jsx":14391,"./RegistrationsV2/RegistrationEdit/RegistrationPayments":28782,"./RegistrationsV2/RegistrationEdit/RegistrationPayments.jsx":28782,"./RegistrationsV2/RegistrationEdit/index":36714,"./RegistrationsV2/RegistrationEdit/index.jsx":36714,"./RegistrationsV2/Registrations":46017,"./RegistrationsV2/Registrations/":46017,"./RegistrationsV2/Registrations/Competitors":30736,"./RegistrationsV2/Registrations/Competitors.jsx":30736,"./RegistrationsV2/Registrations/PreTableInfo":43036,"./RegistrationsV2/Registrations/PreTableInfo.jsx":43036,"./RegistrationsV2/Registrations/PsychSheet":3011,"./RegistrationsV2/Registrations/PsychSheet.jsx":3011,"./RegistrationsV2/Registrations/PsychSheetEventSelector":46756,"./RegistrationsV2/Registrations/PsychSheetEventSelector.jsx":46756,"./RegistrationsV2/Registrations/RegistrationList":11554,"./RegistrationsV2/Registrations/RegistrationList.jsx":11554,"./RegistrationsV2/Registrations/index":46017,"./RegistrationsV2/Registrations/index.jsx":46017,"./RegistrationsV2/Registrations/utils":65710,"./RegistrationsV2/Registrations/utils.js":65710,"./RegistrationsV2/api/auth/get_jwt":64846,"./RegistrationsV2/api/auth/get_jwt.js":64846,"./RegistrationsV2/api/helper/error_codes":8449,"./RegistrationsV2/api/helper/error_codes.js":8449,"./RegistrationsV2/api/mocks/polling_mock":38419,"./RegistrationsV2/api/mocks/polling_mock.js":38419,"./RegistrationsV2/api/payment/get/getPaymentTicket":60513,"./RegistrationsV2/api/payment/get/getPaymentTicket.js":60513,"./RegistrationsV2/api/payment/get/getRegistrationPayments":94889,"./RegistrationsV2/api/payment/get/getRegistrationPayments.js":94889,"./RegistrationsV2/api/payment/get/refundPayment":88887,"./RegistrationsV2/api/payment/get/refundPayment.js":88887,"./RegistrationsV2/api/registration/get/get_registrations":5889,"./RegistrationsV2/api/registration/get/get_registrations.js":5889,"./RegistrationsV2/api/registration/get/poll_registrations":53274,"./RegistrationsV2/api/registration/get/poll_registrations.js":53274,"./RegistrationsV2/api/registration/patch/bulk_auto_accept":23319,"./RegistrationsV2/api/registration/patch/bulk_auto_accept.js":23319,"./RegistrationsV2/api/registration/patch/update_registration":95817,"./RegistrationsV2/api/registration/patch/update_registration.js":95817,"./RegistrationsV2/api/registration/post/submit_registration":91142,"./RegistrationsV2/api/registration/post/submit_registration.js":91142,"./RegistrationsV2/api/user/post/getUserInfo":40823,"./RegistrationsV2/api/user/post/getUserInfo.js":40823,"./RegistrationsV2/hooks/usePerpetualState":83077,"./RegistrationsV2/hooks/usePerpetualState.js":83077,"./RegistrationsV2/lib/RegistrationProvider":34260,"./RegistrationsV2/lib/RegistrationProvider.js":34260,"./RegistrationsV2/lib/mutations":710,"./RegistrationsV2/lib/mutations.js":710,"./RegistrationsV2/lib/users":29654,"./RegistrationsV2/lib/users.js":29654,"./RegistrationsV2/reducers/messageReducer":77791,"./RegistrationsV2/reducers/messageReducer.jsx":77791,"./RegistrationsV2/reducers/sortReducer":246,"./RegistrationsV2/reducers/sortReducer.jsx":246,"./Requests/Errored":80405,"./Requests/Errored.js":80405,"./Requests/Loading":7862,"./Requests/Loading.js":7862,"./Results/DataTable":37202,"./Results/DataTable.jsx":37202,"./Results/Rankings":99348,"./Results/Rankings/":99348,"./Results/Rankings/RankingsTable":68859,"./Results/Rankings/RankingsTable.jsx":68859,"./Results/Rankings/index":99348,"./Results/Rankings/index.jsx":99348,"./Results/Rankings/utils":90509,"./Results/Rankings/utils.js":90509,"./Results/Records":44181,"./Results/Records/":44181,"./Results/Records/GroupedEventsTable":58706,"./Results/Records/GroupedEventsTable.jsx":58706,"./Results/Records/GroupedRankingTypesTable":33160,"./Results/Records/GroupedRankingTypesTable.jsx":33160,"./Results/Records/RecordsTable":14655,"./Results/Records/RecordsTable.jsx":14655,"./Results/Records/index":44181,"./Results/Records/index.jsx":44181,"./Results/Records/utils":69034,"./Results/Records/utils.js":69034,"./Results/ResultsFilter":32194,"./Results/ResultsFilter.jsx":32194,"./Results/TableCells":62375,"./Results/TableCells.jsx":62375,"./Results/TableColumns":44721,"./Results/TableColumns.jsx":44721,"./Results/api/rankings":77534,"./Results/api/rankings.js":77534,"./Results/api/records":5795,"./Results/api/records.js":5795,"./ResultsData/EventNavigation":17068,"./ResultsData/EventNavigation.js":17068,"./ResultsData/Panel/CreateEntry":52011,"./ResultsData/Panel/CreateEntry.js":52011,"./ResultsData/Panel/EditEntry":76283,"./ResultsData/Panel/EditEntry.js":76283,"./ResultsData/Panel/SingleEntryTable":143,"./ResultsData/Panel/SingleEntryTable.js":143,"./ResultsData/Results":53647,"./ResultsData/Results/":53647,"./ResultsData/Results/ResultRow":86029,"./ResultsData/Results/ResultRow.js":86029,"./ResultsData/Results/ResultRowBody":55448,"./ResultsData/Results/ResultRowBody.js":55448,"./ResultsData/Results/ResultRowHeader":54485,"./ResultsData/Results/ResultRowHeader.js":54485,"./ResultsData/Results/ShowSingleResult":24943,"./ResultsData/Results/ShowSingleResult.js":24943,"./ResultsData/Results/index":53647,"./ResultsData/Results/index.js":53647,"./ResultsData/Scrambles":82309,"./ResultsData/Scrambles/":82309,"./ResultsData/Scrambles/ScrambleRow":49608,"./ResultsData/Scrambles/ScrambleRow.js":49608,"./ResultsData/Scrambles/ScrambleRowBody":28672,"./ResultsData/Scrambles/ScrambleRowBody.js":28672,"./ResultsData/Scrambles/ScrambleRowHeader":4525,"./ResultsData/Scrambles/ScrambleRowHeader.js":4525,"./ResultsData/Scrambles/ShowSingleScramble":42171,"./ResultsData/Scrambles/ShowSingleScramble.js":42171,"./ResultsData/Scrambles/index":82309,"./ResultsData/Scrambles/index.js":82309,"./ResultsData/ViewData":65097,"./ResultsData/ViewData.js":65097,"./RolesTab":73816,"./RolesTab/":73816,"./RolesTab/ActiveRoles":14597,"./RolesTab/ActiveRoles.jsx":14597,"./RolesTab/PastRoles":8547,"./RolesTab/PastRoles.jsx":8547,"./RolesTab/index":73816,"./RolesTab/index.jsx":73816,"./Schedule":70324,"./Schedule/":70324,"./Schedule/AddToCalendar":24391,"./Schedule/AddToCalendar.jsx":24391,"./Schedule/CalendarView":34374,"./Schedule/CalendarView.jsx":34374,"./Schedule/TableView":12008,"./Schedule/TableView.jsx":12008,"./Schedule/TimeZone":19698,"./Schedule/TimeZone.jsx":19698,"./Schedule/VenuesAndRooms":30410,"./Schedule/VenuesAndRooms.jsx":30410,"./Schedule/ViewSelector":39363,"./Schedule/ViewSelector.jsx":39363,"./Schedule/index":70324,"./Schedule/index.jsx":70324,"./ScrambleMatcher":52993,"./ScrambleMatcher/":52993,"./ScrambleMatcher/Events":62798,"./ScrambleMatcher/Events.jsx":62798,"./ScrambleMatcher/FileUpload":45760,"./ScrambleMatcher/FileUpload.jsx":45760,"./ScrambleMatcher/Groups":5933,"./ScrambleMatcher/Groups.jsx":5933,"./ScrambleMatcher/Rounds":99142,"./ScrambleMatcher/Rounds.jsx":99142,"./ScrambleMatcher/ScrambleFileList":51122,"./ScrambleMatcher/ScrambleFileList.jsx":51122,"./ScrambleMatcher/ScrambleMatch":54269,"./ScrambleMatcher/ScrambleMatch.jsx":54269,"./ScrambleMatcher/index":52993,"./ScrambleMatcher/index.jsx":52993,"./ScrambleMatcher/reducer":59267,"./ScrambleMatcher/reducer.js":59267,"./ScrambleMatcher/util":53691,"./ScrambleMatcher/util.js":53691,"./SearchWidget":80336,"./SearchWidget/":80336,"./SearchWidget/AdminWcaSearch":10526,"./SearchWidget/AdminWcaSearch.jsx":10526,"./SearchWidget/CompetitionItem":35244,"./SearchWidget/CompetitionItem.js":35244,"./SearchWidget/IncidentItem":34383,"./SearchWidget/IncidentItem.js":34383,"./SearchWidget/MultiSearchInput":65395,"./SearchWidget/MultiSearchInput.jsx":65395,"./SearchWidget/RegulationItem":6573,"./SearchWidget/RegulationItem.js":6573,"./SearchWidget/SearchModel":16523,"./SearchWidget/SearchModel.jsx":16523,"./SearchWidget/TextItem":98974,"./SearchWidget/TextItem.js":98974,"./SearchWidget/UserItem":67626,"./SearchWidget/UserItem.js":67626,"./SearchWidget/UserRoleItem":242,"./SearchWidget/UserRoleItem.js":242,"./SearchWidget/WcaSearch":41935,"./SearchWidget/WcaSearch.jsx":41935,"./SearchWidget/index":80336,"./SearchWidget/index.js":80336,"./StaticPages/About":81811,"./StaticPages/About.js":81811,"./StaticPages/Disclaimer":69551,"./StaticPages/Disclaimer.js":69551,"./StaticPages/Logo":2037,"./StaticPages/Logo.jsx":2037,"./StaticPages/LogoImages/WCA Lockup Mono Black":34323,"./StaticPages/LogoImages/WCA Lockup Mono Black.svg":34323,"./StaticPages/LogoImages/WCA Lockup Mono White":22969,"./StaticPages/LogoImages/WCA Lockup Mono White.svg":22969,"./StaticPages/LogoImages/WCA Lockup Negative Primary":61904,"./StaticPages/LogoImages/WCA Lockup Negative Primary.svg":61904,"./StaticPages/LogoImages/WCA Lockup Positive Primary":19504,"./StaticPages/LogoImages/WCA Lockup Positive Primary.svg":19504,"./StaticPages/LogoImages/WCA Logo Only Mono Black":49892,"./StaticPages/LogoImages/WCA Logo Only Mono Black.svg":49892,"./StaticPages/LogoImages/WCA Logo Only Mono White":6146,"./StaticPages/LogoImages/WCA Logo Only Mono White.svg":6146,"./StaticPages/LogoImages/WCA Logo Only Negative Primary":27211,"./StaticPages/LogoImages/WCA Logo Only Negative Primary.svg":27211,"./StaticPages/LogoImages/WCA Logo Only Positive Primary":86583,"./StaticPages/LogoImages/WCA Logo Only Positive Primary.svg":86583,"./StaticPages/bulgarian-open-2018":82755,"./StaticPages/bulgarian-open-2018.jpg":82755,"./StaticPages/worlds-2015":94295,"./StaticPages/worlds-2015.jpg":94295,"./TeamsCommitteesCouncils":34156,"./TeamsCommitteesCouncils/":34156,"./TeamsCommitteesCouncils/GroupPage":33976,"./TeamsCommitteesCouncils/GroupPage.jsx":33976,"./TeamsCommitteesCouncils/RolesTable":43723,"./TeamsCommitteesCouncils/RolesTable.jsx":43723,"./TeamsCommitteesCouncils/index":34156,"./TeamsCommitteesCouncils/index.jsx":34156,"./Tickets":99551,"./Tickets/":99551,"./Tickets/TicketCommentCreate":48060,"./Tickets/TicketCommentCreate.jsx":48060,"./Tickets/TicketComments":82273,"./Tickets/TicketComments.jsx":82273,"./Tickets/TicketHeader":73341,"./Tickets/TicketHeader/":73341,"./Tickets/TicketHeader/StatusView":87412,"./Tickets/TicketHeader/StatusView.jsx":87412,"./Tickets/TicketHeader/index":73341,"./Tickets/TicketHeader/index.jsx":73341,"./Tickets/TicketLogs":53990,"./Tickets/TicketLogs.jsx":53990,"./Tickets/TicketWorkbenches":57064,"./Tickets/TicketWorkbenches.jsx":57064,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt":8069,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/":8069,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/AccountAnonymization":2314,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/AccountAnonymization.jsx":2314,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/AnonymizeAction":76549,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/AnonymizeAction.jsx":76549,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/VerifyAnonymizeDetails":54534,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/VerifyAnonymizeDetails.jsx":54534,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/api/anonymize":1866,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/api/anonymize.js":1866,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/api/getDetailsBeforeAnonymization":12799,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/api/getDetailsBeforeAnonymization.js":12799,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/index":8069,"./Tickets/TicketWorkbenches/AnonymizationTicketWorkbenchForWrt/index.jsx":8069,"./Tickets/TicketWorkbenches/EditPersonActionerView":25375,"./Tickets/TicketWorkbenches/EditPersonActionerView/":25375,"./Tickets/TicketWorkbenches/EditPersonActionerView/EditPersonRequestedChangesList":47511,"./Tickets/TicketWorkbenches/EditPersonActionerView/EditPersonRequestedChangesList.jsx":47511,"./Tickets/TicketWorkbenches/EditPersonActionerView/EditPersonValidations":95630,"./Tickets/TicketWorkbenches/EditPersonActionerView/EditPersonValidations.jsx":95630,"./Tickets/TicketWorkbenches/EditPersonActionerView/index":25375,"./Tickets/TicketWorkbenches/EditPersonActionerView/index.jsx":25375,"./Tickets/api/createComment":51487,"./Tickets/api/createComment.js":51487,"./Tickets/api/editPerson/getEditPersonValidators":20008,"./Tickets/api/editPerson/getEditPersonValidators.js":20008,"./Tickets/api/getComments":67168,"./Tickets/api/getComments.js":67168,"./Tickets/api/getLogs":72445,"./Tickets/api/getLogs.js":72445,"./Tickets/index":99551,"./Tickets/index.jsx":99551,"./TicketsList":62347,"./TicketsList/":62347,"./TicketsList/index":62347,"./TicketsList/index.jsx":62347,"./Translators":27217,"./Translators/":27217,"./Translators/index":27217,"./Translators/index.jsx":27217,"./UserAvatar":31797,"./UserAvatar.js":31797,"./UserBadge":60301,"./UserBadge.js":60301,"./Users/List":39371,"./Users/List/":39371,"./Users/List/index":39371,"./Users/List/index.jsx":39371,"./Users/api/getUsers":55323,"./Users/api/getUsers.js":55323,"./wca/EventIcon":80824,"./wca/EventIcon.js":80824,"./wca/EventSelector":82664,"./wca/EventSelector.jsx":82664,"./wca/FormBuilder/EditForm":23875,"./wca/FormBuilder/EditForm.jsx":23875,"./wca/FormBuilder/FormErrors":48058,"./wca/FormBuilder/FormErrors.jsx":48058,"./wca/FormBuilder/SubSection":34622,"./wca/FormBuilder/SubSection.jsx":34622,"./wca/FormBuilder/input/AutonumericField":62728,"./wca/FormBuilder/input/AutonumericField.js":62728,"./wca/FormBuilder/input/FormInputs":77949,"./wca/FormBuilder/input/FormInputs.js":77949,"./wca/FormBuilder/input/InputChampionship":90189,"./wca/FormBuilder/input/InputChampionship.js":90189,"./wca/FormBuilder/input/InputMap":42136,"./wca/FormBuilder/input/InputMap.js":42136,"./wca/FormBuilder/input/MarkdownEditor":88486,"./wca/FormBuilder/input/MarkdownEditor.js":88486,"./wca/FormBuilder/provider/FormObjectProvider":43703,"./wca/FormBuilder/provider/FormObjectProvider.jsx":43703,"./wca/FormBuilder/provider/FormSectionProvider":14487,"./wca/FormBuilder/provider/FormSectionProvider.jsx":14487,"./wca/FormBuilder/store/actions":81934,"./wca/FormBuilder/store/actions.js":81934,"./wca/FormBuilder/store/reducer":14133,"./wca/FormBuilder/store/reducer.js":14133,"./wca/GenderSelector":85895,"./wca/GenderSelector.jsx":85895,"./wca/RegionFlag":34975,"./wca/RegionFlag.js":34975,"./wca/RegionSelector":600,"./wca/RegionSelector.jsx":600,"./wca/UtcDatePicker":13113,"./wca/UtcDatePicker.js":13113};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=69567},69860:function(e,t,n){"use strict";n.r(t),n.d(t,{EditAdvancementConditionModal:function(){return r.default},EditCutoffModal:function(){return a.default},EditQualificationModal:function(){return o.default},EditTimeLimitModal:function(){return i.default}});var r=n(87907),a=n(2105),o=n(16791),i=n(82112)},70324:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(96540),a=n(73574),o=n(5074),i=n(34374),l=n(12008),s=n(19698),c=n(30410),u=n(39363),d=n(26027),m=n(72401);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e=new Set){const t=(0,m.A)([...e]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({asSet:(0,r.useMemo)((()=>new Set(t.asArray)),[t.asArray])},t)}var E=n(64047),v=n(64417),y=n(82664),A=n(1460);function b({wcifSchedule:e,wcifEvents:t,competitionName:n,calendarLocale:m}){const{venues:p}=e,f=p.length,[b,h]=(0,r.useState)(-1),_=1===f?p[0]:-1!==b?p[b]:null,w=_?[_]:p,[C,S]=(0,r.useState)(!0),[I,P]=(0,r.useState)(p[0].timezone),O=[...new Set(p.map((e=>e.timezone)))].length,R=w.flatMap((e=>e.rooms)),k=g(R.map((e=>e.id))),j=R.filter((e=>k.asSet.has(e.id))),T=t.map((({id:e})=>e)),x=g(T),D=t.filter((({id:e})=>x.has(e))),[F,M]=(0,d.A)("calendar","scheduleView"),L=p.flatMap((e=>e.rooms)).flatMap((e=>e.activities)).toSorted(E.eA),N=L[0].startTime,$=L[L.length-1].startTime,H=(0,v.o4)(N,$,I);return r.createElement(r.Fragment,null,O>1&&r.createElement(a.A,{warning:!0},r.createElement(a.A.Content,null,A.Ay.t("competitions.schedule.multiple_timezones_available"))),r.createElement(a.A,null,r.createElement(a.A.Content,null,A.Ay.t("competitions.schedule.schedule_change_warning"))),r.createElement(c.default,{venues:p,activeVenueOrNull:_,activeVenueIndex:b,setActiveVenueIndex:e=>{if(e>=0&&C){const t=p[e].timezone;P(t)}h(e)},timeZoneCount:O,rooms:R,activeRoomIds:k.asArray,updateRooms:k.update,toggleRoom:k.toggle,setActiveTimeZone:P}),r.createElement(o.A,null,r.createElement(y.default,{eventList:T,selectedEvents:x.asArray,onEventClick:x.toggle,onAllClick:()=>x.update(T),onClearClick:x.clear})),r.createElement(s.default,{activeVenueOrNull:_,hasMultipleVenues:f>1,activeTimeZone:I,setActiveTimeZone:P,followVenueSelection:C,setFollowVenueSelection:S}),r.createElement(u.default,{activeView:F,setActiveView:M}),"calendar"===F?r.createElement(i.default,{dates:H,timeZone:I,activeVenues:w,activeRooms:j,activeEventIds:x.asArray,calendarLocale:m,wcifEvents:t}):r.createElement(l.default,{dates:H,timeZone:I,activeRooms:j,activeEvents:D,activeVenueOrNull:_,competitionName:n,wcifEvents:t}))}},70553:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96285),a=n(96540),o=n(73574),i=n(1026),l=n(64417),s=n(83077);function c({registrationEnd:e}){const t=r.c9.fromISO(e),n=(0,a.useCallback)((()=>(0,l.Sp)(t)),[t]),c=(0,s.default)(n);return c.seconds<0||c.minutes<0||c.hours<0||c.days<0?a.createElement(o.A,{negative:!0},a.createElement(i.default,{i18nKey:"registrations.closed_html",options:{days:t.toRelative(),time:t.toLocaleString(r.c9.DATETIME_FULL)}})):c.days>=1||c.hours>=1?null:a.createElement(o.A,{info:!0},c.days<1&&c.hours<1&&c.minutes<30?a.createElement(i.default,{i18nKey:"competitions.registration_v2.register.will_close_countdown",options:c}):a.createElement(i.default,{i18nKey:"registrations.will_close_html",options:{days:t.toRelative(),time:t.toLocaleString(r.c9.DATETIME_FULL)}}))}},71638:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(96540),a=n(96285),o=n(79519),i=n(12845),l=n(66048),s=n(83995),c=n(80405),u=n(7862),d=n(90844),m=n(82568),p=n(53254);function f(){const{data:e,loading:t,error:n,sync:f}=(0,o.A)(l.VB.userRoles.list({groupType:s.Hn.delegate_probation})),{save:g,saving:E}=(0,i.A)(),{loggedInUserPermissions:v}=(0,p.A)();if(t||E)return r.createElement(u.default,null);if(n)return r.createElement(c.default,null);const y=a.c9.now(),A=e.filter((e=>!e.end_date||a.c9.fromISO(e.end_date,{zone:"UTC"})>y)),b=e.filter((e=>e.end_date&&a.c9.fromISO(e.end_date,{zone:"UTC"})<=y)),h=e.some((e=>v.canEditGroup(e.group.id)));return r.createElement(r.Fragment,null,r.createElement("h1",null,"Delegate Probations"),h&&r.createElement(d.default,{save:g,sync:f}),r.createElement("h2",null,"Active Probations"),r.createElement(m.default,{roleList:A,isActive:h,save:g,sync:f}),r.createElement("h2",null,"Past Probations"),r.createElement(m.default,{roleList:b,isActive:!1}))}},71952:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(96540),a=n(3487),o=n(65632),i=n(5074),l=n(31746),s=n(35907),c=n(46942),u=n.n(c),d=n(1460),m=n(83995),p=n(278),f=n(94227),g=n(96649),E=n(89407),v=n(58894),y=n(72272),A=n(69860);function b({wcifEvent:e}){const{wcifEvents:t,canAddAndRemoveEvents:n,canUpdateEvents:c,canUpdateQualifications:b}=(0,E.Pj)(),h=(0,E.wA)(),_=(0,v.S)(),w=!c,C=m.AZ.byId[e.id],S=()=>{e.rounds&&e.rounds.length>0?_({content:`Are you sure you want to remove all ${(0,p.td)(e.rounds.length,"round")} of ${C.name}?`}).then((()=>{h((0,y.removeEvent)(e.id))})):h((0,y.removeEvent)(e.id))},I=t=>{const n=e.rounds.length-t;n>0?_({content:`Are you sure you want to remove ${(0,p.td)(n,"round")} of ${C.name}?`}).then((()=>{h((0,y.removeRounds)(e.id,n))})):h((0,y.addRounds)(e.id,t-e.rounds.length))};return r.createElement(o.A,{style:{minWidth:"min-content"},size:"tiny",className:`event-panel event-${e.id}`},r.createElement(o.A.Content,{style:{padding:0}},r.createElement(i.A,{basic:!0,tertiary:!0},r.createElement(l.A,{as:"span",size:"tiny"},r.createElement(s.A,{className:u()("cubing-icon",`event-${C.id}`)}),r.createElement(l.A.Content,null,C.name)),r.createElement(a.A.Group,{floated:"right",size:"tiny"},e.rounds?r.createElement(r.Fragment,null,r.createElement(g.default,{roundCount:e.rounds.length,onChange:I,disabled:w}),r.createElement(a.A,{disabled:!n,title:n?"":`Cannot remove ${C.name} because the competition is confirmed.`,onClick:S,negative:!0},"Remove event")):r.createElement(a.A,{className:"add-event",disabled:!n,title:n?"":`Cannot add ${C.name} because the competition is confirmed.`,onClick:()=>h((0,y.addEvent)(e.id)),positive:!0,size:"small"},"Add event")))),null!==e.rounds&&r.createElement(r.Fragment,null,r.createElement(o.A.Content,null,r.createElement(f.default,{wcifEvents:t,wcifEvent:e,disabled:w})),r.createElement(o.A.Content,null,d.Ay.t("competitions.events.qualification"),":"," ",r.createElement(A.EditQualificationModal,{wcifEvent:e,disabled:w||!n||!b,disabledReason:b?void 0:"Turn on Qualifications under Edit > Organizer View and add a reason."}))))}},72220:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(57721),o=n(62783),i=n(90765);const l=["eventId"];t.default=function(e){let{eventId:t}=e,n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,l);return"333fm"===t?r.createElement(a.default,n):"333mbf"===t||"333mbo"===t?r.createElement(o.default,n):r.createElement(i.default,n)}},72272:function(e,t,n){"use strict";n.r(t),n.d(t,{AddEvent:function(){return a},AddRounds:function(){return i},ChangesSaved:function(){return r},RemoveEvent:function(){return o},RemoveRounds:function(){return l},SetScrambleSetCount:function(){return s},UpdateAdvancementCondition:function(){return m},UpdateCutoff:function(){return u},UpdateQualification:function(){return p},UpdateRoundFormat:function(){return c},UpdateTimeLimit:function(){return d},addEvent:function(){return g},addRounds:function(){return v},changesSaved:function(){return f},removeEvent:function(){return E},removeRounds:function(){return y},setScrambleSetCount:function(){return b},updateAdvancementCondition:function(){return w},updateCutoff:function(){return h},updateQualification:function(){return C},updateRoundFormat:function(){return A},updateTimeLimit:function(){return _}});const r="saving_started",a="ADD_EVENT",o="REMOVE_EVENT",i="ADD_ROUNDS",l="REMOVE_ROUNDS",s="SET_SCRAMBLE_SET_COUNT",c="UPDATE_ROUND_FORMAT",u="UPDATE_CUTOFF",d="UPDATE_TIMELIMIT",m="UPDATE_ADVANCEMENT_CONDITION",p="UPDATE_QUALIFICATION",f=()=>({type:r}),g=e=>({type:a,payload:{eventId:e}}),E=e=>({type:o,payload:{eventId:e}}),v=(e,t)=>({type:i,payload:{eventId:e,roundsToAddCount:t}}),y=(e,t)=>({type:l,payload:{eventId:e,roundsToRemoveCount:t}}),A=(e,t)=>({type:c,payload:{roundId:e,format:t}}),b=(e,t)=>({type:s,payload:{roundId:e,scrambleSetCount:t}}),h=(e,t)=>({type:u,payload:{roundId:e,cutoff:t}}),_=(e,t)=>({type:d,payload:{roundId:e,timeLimit:t}}),w=(e,t)=>({type:m,payload:{roundId:e,advancementCondition:t}}),C=(e,t)=>({type:p,payload:{eventId:e,qualification:t}})},72401:function(e,t,n){"use strict";n.d(t,{A:function(){return d},_:function(){return m}});var r=n(96540),a=n(2543),o=n.n(a);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(e,{type:t,array:n,elements:r})=>{var a,i;const s=o().uniq(null!==(a=null===r||void 0===r?void 0:r.filter((t=>!e.array.includes(t))))&&void 0!==a?a:[]),c=o().uniq(null!==(i=null===r||void 0===r?void 0:r.filter((t=>e.array.includes(t))))&&void 0!==i?i:[]);switch(t){case"clear":return l(l({},e),{},{array:[]});case"override":return l(l({},e),{},{array:n});case"add":if(s.length)return l(l({},e),{},{array:[...e.array,...s]});break;case"remove":if(c.length)return l(l({},e),{},{array:[...e.array.filter((e=>!c.includes(e)))]});break;case"toggle":if(null!==r&&void 0!==r&&r.length)return l(l({},e),{},{array:[...e.array.filter((e=>!c.includes(e))),...s]});break;default:console.error("Unknown action type",t)}return e};function u(e,t){const n=(0,r.useCallback)((()=>t({type:"clear"})),[t]),a=(0,r.useCallback)((e=>t({type:"override",array:e})),[t]),o=(0,r.useCallback)(((...e)=>t({type:"add",elements:e})),[t]),i=(0,r.useCallback)(((...e)=>t({type:"remove",elements:e})),[t]),l=(0,r.useCallback)(((...e)=>t({type:"toggle",elements:e})),[t]),s=e.length,c=(0,r.useCallback)((t=>e.includes(t)),[e]);return{asArray:e,size:s,has:c,clear:n,update:a,add:o,remove:i,toggle:l}}function d(e=[]){const[{array:t},n]=(0,r.useReducer)(c,e,(e=>({array:o().uniq(e)})));return u(t,n)}const m=(e,t,n=void 0)=>u(e,(0,r.useCallback)((e=>t((t=>{const r=c({array:t},e).array;return n?o().intersection(n,r):r}))),[t,n]))},72445:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({ticketId:e}){const{data:t}=await(0,r.o)(a.uP.tickets.listLogs(e));return t||{}}},72599:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u},qualificationResultTypeInput:function(){return c}});var r=n(96540),a=n(95472),o=n(6957),i=n(1460);const l=[{key:0,value:0,text:i.Ay.t("qualification.type.none")},{key:-1,value:-1,text:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500",disabled:!0},{key:1,value:"single",text:i.Ay.t("common.single")},{key:2,value:"average",text:i.Ay.t("common.average")}],s=l.slice(0,3);function c({qualificationResultType:e,onChange:t,eventId:n}){return r.createElement(a.A.Select,{name:"qualificationResultType",value:e,onChange:t,options:"333mbf"===n?s:l,openOnFocus:!1})}function u({qualificationResultType:e,onChange:t,eventId:n}){return r.createElement(a.A.Field,{inline:!0},r.createElement(o.A,null,i.Ay.t("qualification.result_type")),r.createElement(a.A.Input,{as:c,qualificationResultType:e,onChange:t,eventId:n}))}},72682:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(31746),o=n(3487),i=n(74813),l=n(36713),s=n(35907),c=n(1460),u=n(66048),d=n(47545),m=n(435);function p({permissions:e,competitions:t,wcaId:n}){var p,f;const[g,E]=(0,r.useState)(!1);return r.createElement(r.Fragment,null,r.createElement(a.A,null,n&&r.createElement(o.A,{as:"a",href:(0,u.hs)(n),secondary:!0,floated:"right"},c.Ay.t("layouts.navigation.my_results")),c.Ay.t("competitions.my_competitions.title")),r.createElement("p",null,c.Ay.t("competitions.my_competitions.disclaimer")),r.createElement(d.default,{competitions:t.futureCompetitions,permissions:e,registrationStatuses:t.competingStatuses,fallbackMessage:{key:"competitions.my_competitions_table.no_upcoming_competitions_html",options:{link:`<a href="${(0,u.KR)({})}">${c.Ay.t("competitions.my_competitions_table.competitions_list")}</a>`}}}),r.createElement(i.A,{fluid:!0,styled:!0},r.createElement(i.A.Title,{active:g,onClick:()=>E((e=>!e))},`${c.Ay.t("competitions.my_competitions.past_competitions")} (${null!==(p=null===(f=t.pastCompetitions)||void 0===f?void 0:f.length)&&void 0!==p?p:0})`),r.createElement(i.A.Content,{active:g},r.createElement(m.default,{permissions:e,competitions:t.pastCompetitions,fallbackMessage:{key:"competitions.my_competitions_table.no_past_competitions"}}))),r.createElement(l.A,null),r.createElement(a.A,null,r.createElement(s.A,{name:"bookmark"}),c.Ay.t("competitions.my_competitions.bookmarked_title")),r.createElement("p",null,c.Ay.t("competitions.my_competitions.bookmarked_explanation")),r.createElement(d.default,{competitions:t.bookmarkedCompetitions,registrationStatuses:t.competingStatuses,permissions:e,fallbackMessage:{key:"competitions.my_competitions_table.no_bookmarked_competitions"}}))}},73174:function(e,t,n){"use strict";n.r(t),n.d(t,{DraggableMarker:function(){return g}});var r=n(96540),a=n(31111),o=n(14489),i=n(13489),l=n(66162),s=n(81344),c=n(18858),u=n(92562),d=n(89407),m=n(37700),p=n(18770);function f({onGeoSearchResult:e}){const t=(0,a.ko)();return(0,r.useEffect)((()=>{const n=window.wca.createSearchInput(t);return t.on("geosearch/showlocation",e),t.zoomControl.setPosition("bottomright"),()=>{t.removeControl(n)}}),[t,e]),null}function g({position:e,setPosition:t,disabled:n=!1,markerRef:i=null,children:l}){const s=(0,a.ko)(),c=(0,r.useCallback)((e=>t(e,e.target.getLatLng())),[t]);return(0,r.useEffect)((()=>{s.panTo(e)}),[s,e]),r.createElement(o.p,{ref:i,position:e,draggable:!n,eventHandlers:{dragend:c}},l)}t.default=function({venue:e}){const t=(0,d.wA)(),n=(0,r.useRef)(),[a,o]=(0,r.useState)(),E=(0,r.useMemo)((()=>a?r.createElement(i.z,null,a):null),[a]),v=(0,r.useMemo)((()=>({lat:(0,c.xW)(e.latitudeMicrodegrees),lng:(0,c.xW)(e.longitudeMicrodegrees)})),[e.latitudeMicrodegrees,e.longitudeMicrodegrees]),y=(0,r.useCallback)(((n,{lat:r,lng:a})=>{t((0,m.editVenue)(e.id,"latitudeMicrodegrees",(0,c.h6)(r))),t((0,m.editVenue)(e.id,"longitudeMicrodegrees",(0,c.h6)(a)))}),[t,e.id]),A=u.V,b=(0,r.useCallback)((e=>{y(e,{lat:e.location.y,lng:e.location.x}),o(e.location.label)}),[y,o]);return r.createElement(l.W,{center:v,zoom:16,scrollWheelZoom:!1,style:{height:"100%"}},r.createElement(p.A,null),r.createElement(s.e,{url:A.url,attribution:A.attribution}),r.createElement(f,{onGeoSearchResult:b}),r.createElement(g,{markerRef:n,position:v,setPosition:y},E))}},73341:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(65632),o=n(31746),i=n(87412);function l({ticketDetails:e,currentStakeholder:t,sync:n}){const{ticket:{id:l}}=e;return r.createElement(a.A,{fluid:!0},r.createElement(a.A.Content,null,r.createElement(o.A,{as:"h1"},`Ticket #${l}`),r.createElement(i.default,{ticketDetails:e,currentStakeholder:t,sync:n})))}},73367:function(e,t,n){"use strict";n.d(t,{J:function(){return i},P:function(){return o}});var r=n(1460),a=n(83995);function o(e){var t,n;let o="";return null!==(t=e.metadata)&&void 0!==t&&t.status?o+=`${r.Ay.t(`enums.user_roles.status.${e.group.group_type}.${e.metadata.status}`)}, `:e.group.group_type===a.Hn.translators&&(o+="Translator, "),o+=e.group.name,null!==(n=e.metadata)&&void 0!==n&&n.location&&(o+=` (${e.metadata.location})`),o}function i(e){return e.start_date?e.end_date?`${e.start_date} - ${e.end_date}`:`Since ${e.start_date}`:""}},73374:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96540),a=n(59739),o=n(83995);function i(){return r.createElement(a.default,{cronjobName:o.Xp.ComputeAuxiliaryData})}},73477:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(73574);t.default=function({response:e}){return r.createElement(r.Fragment,null,e.messages&&r.createElement(a.A,{positive:!0,header:"Save was successful!",list:e.messages}),e.errors&&r.createElement(a.A,{error:!0,list:e.errors,header:"Something went wrong when saving the result."}))}},73626:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(5074),o=n(65632),i=n(60654),l=n(83995),s=n(66048);function c({competitionId:e,rounds:t}){const n=_.groupBy(t,"event.id");return r.createElement(a.A,null,r.createElement(o.A.Group,null,_.map(n,((t,n)=>r.createElement(o.A,null,r.createElement(o.A.Header,null,l.AZ.byId[n].name),r.createElement(o.A.Content,null,r.createElement(i.A,null,t.map((t=>r.createElement(i.A.Item,{key:t.id},r.createElement("a",{href:s.Hd.roundResultsAdmin(e,t.id)},t.name)," ","(",t.competitors_live_results_entered,"/",t.total_accepted_registrations,")"))))))))))}},73816:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(79519),o=n(66048),i=n(80405),l=n(7862),s=n(14597),c=n(8547);const u="groupTypeRank,status:desc";function d({userId:e}){const{data:t,loading:n,error:d}=(0,a.A)(o.VB.userRoles.list({isActive:!0,isGroupHidden:!1,userId:e},u)),{data:m,loading:p,error:f}=(0,a.A)(o.VB.userRoles.list({isActive:!1,isGroupHidden:!1,userId:e},u)),g=0===(null===t||void 0===t?void 0:t.length)&&0===(null===m||void 0===m?void 0:m.length);return n||p?r.createElement(l.default,null):d||f?r.createElement(i.default,null):r.createElement(r.Fragment,null,(null===t||void 0===t?void 0:t.length)>0&&r.createElement(s.default,{activeRoles:t}),(null===m||void 0===m?void 0:m.length)>0&&r.createElement(c.default,{pastRoles:m}),g&&r.createElement("p",null,"No Roles..."))}},73875:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(35907),o=n(54859),i=n(2543),l=n.n(i),s=n(91283),c=n(13797),u=n(94028),d=n(49876),m=n(66048),p=n(1460);const f=2;function g({partitionedRegistrations:e,usingPayments:t,currencyCode:n}){const[i,g]=(0,s.A)(""),E=(0,c.A)(i),v=(0,r.useMemo)((()=>Object.fromEntries(Object.entries(e).map((([e,r])=>[e,{name:e,results:r.map((({id:e,user:r,competing:a,payment:o})=>({title:`${r.name}${r.wca_id?` (${r.wca_id})`:""}`,description:`${r.email}${a.comment?` ${p.Ay.t("activerecord.attributes.registration.comments")}: ${a.comment}`:""}${a.admin_comment?` ${p.Ay.t("activerecord.attributes.registration.administrative_notes")}: ${a.admin_comment}`:""}`,price:t?(0,u.i)(o.paid_amount_iso,n):void 0,id:e,searchable:{name:r.name,wcaId:r.wca_id,email:r.email,comment:a.comment,note:a.admin_comment}})))}])))),[e,t,n]),y=(0,r.useMemo)((()=>{if(E.length<f)return{};const e=new RegExp(l().escapeRegExp(E),"i"),t=({searchable:t})=>Object.values(t).some((t=>e.test(t)));return l().pickBy(l().mapValues(v,(({name:e,results:n})=>({name:e,results:l().filter(n,t)}))),(({results:e})=>e.length>0))}),[E,v]);return r.createElement(o.A,{fluid:!0,category:!0,noResultsMessage:E.length>=f?p.Ay.t("activerecord.attributes.registration.no_results"):p.Ay.t("activerecord.attributes.registration.too_few_chars"),placeholder:p.Ay.t("activerecord.attributes.registration.search"),value:i,onResultSelect:(e,{result:t})=>(({id:e})=>{window.location.href=(0,m.pu)(e)})(t),onSearchChange:g,results:y,categoryRenderer:({name:e})=>r.createElement(a.A,{name:(0,d.cR)(e),color:(0,d.qY)(e)})})}},74122:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(2543),a=n.n(r),o=n(96540),i=n(95472),l=n(24106),s=n(50363),c=n(83995),u=n(89407),d=n(21531),m=n(99358);function p({timeLimit:e,excludeEventId:t,onOk:n}){const{wcifEvents:r}=(0,u.Pj)(),[p,f]=(0,o.useState)(e.cumulativeRoundIds),g=(0,o.useMemo)((()=>o.createElement("span",null,"Choose rounds for cumulative time limit")),[]),E=(0,o.useMemo)((()=>o.createElement("span",null,"Share with other rounds")),[]),v=a().compact(a().flatMap(r,(e=>c.AZ.byId[e.id].canChangeTimeLimit&&t!==e.id?e.rounds:[]))),y=(e,t)=>{t.disabled||(t.checked?f([...p,t.value]):f(p.filter((e=>e!==t.value))))};return o.createElement(m.default,{title:g,trigger:E,hasUnsavedChanges:!a().isEqual(p,e.cumulativeRoundIds),onOk:()=>n(p),reset:()=>{var t;f(null!==(t=null===e||void 0===e?void 0:e.cumulativeRoundId)&&void 0!==t?t:[])},contentScrolling:!0},v.map((e=>{const t=e.id,{eventId:n}=(0,d.Eh)(t),r=c.AZ.byId[n],a=p.indexOf(t)>-1,u=!!p.find((e=>(0,d.Eh)(e).eventId===n)),m=!a&&u,f=m?`Cannot select this round because you've already selected a round with ${r.name}`:null;return o.createElement(i.A.Field,{key:t},o.createElement(l.A,{content:f,disabled:!m,position:"right center",trigger:o.createElement(s.A,{name:"round-id-radio-group",label:(0,d.yt)(t),value:t,checked:a,onClick:y,disabled:m})}))})))}},74527:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(95522),o=n(64173),i=n(58894);function l({allTags:e,post:t}){return r.createElement(a.A,null,r.createElement(i.A,null,r.createElement(o.default,{post:t,allTags:e,header:"Edit Post"})))}},74596:function(e,t,n){"use strict";n.r(t),n.d(t,{createFilterState:function(){return F},filterReducer:function(){return L},getDisplayMode:function(){return D},updateSearchParams:function(){return M}});var r=n(96285),a=n(83995),o=n(600);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="display",u="state",d="year",m="from_date",p="to_date",f="region",g="delegate",E="search",v="event_ids[]",y="show_cancelled",A="show_admin_details",b="admin_status",h="status",_="list",w="present",C="all_years",S=o.ALL_REGIONS_VALUE,I="admin",P=["list","map"],O=["present","recent","past","by_announcement","custom"],R=["all","warning","danger"],k=e=>a.I3.includes(Number(e))?Number(e):C,j="yyyy-MM-dd",T=e=>{const t=r.c9.fromFormat(e||"",j);return t.isValid?t.toFormat(j):null},x=e=>{var t,n;if(e===o.ALL_REGIONS_VALUE)return e;const r=a.ot.real.find((({id:t,name:n})=>e===t||e===n)),i=a.Xr.real.find((({id:t,iso2:n})=>e===t||e===n));return null!==(t=null!==(n=null===r||void 0===r?void 0:r.id)&&void 0!==n?n:null===i||void 0===i?void 0:i.iso2)&&void 0!==t?t:S},D=e=>(e=>{const t=null===e||void 0===e?void 0:e.toLowerCase();return P.includes(t)?t:_})(e.get(c)),F=e=>{return{timeOrder:(r=e.get(u),o=e.get(d),"all"===o?"past":O.includes(r)?r:w),selectedYear:k(e.get(d)),customStartDate:T(e.get(m)),customEndDate:T(e.get(p)),region:x(e.get(f)),delegate:Number(e.get(g))||"",search:e.get(E)||"",selectedEvents:(n=e.getAll(v),(n||[]).filter((e=>a.uE.includes(e)))),shouldIncludeCancelled:"on"===e.get(y),shouldShowAdminDetails:"yes"===e.get(A)||e.get(c)===I,adminStatus:(t=e.get(b)||e.get(h),R.includes(t)?t:"all")};var t,n,r,o},M=(e,t,n)=>{const{timeOrder:r,selectedYear:a,customStartDate:o,customEndDate:i,region:l,delegate:s,search:P,selectedEvents:O,shouldIncludeCancelled:R,shouldShowAdminDetails:k,adminStatus:j}=t;e.set(c,n),e.delete(c,_),e.delete(c,I),e.set(u,r),e.delete(u,w),e.set(b,j),e.delete(b,"all"),e.delete(h),e.set(d,a),e.delete(d,C),e.set(f,l),e.delete(f,S),e.delete(f,""),e.set(g,s),e.delete(g,""),e.set(E,P),e.delete(E,""),e.delete(v),O.forEach((t=>e.append(v,t))),o?e.set(m,o):e.delete(m),i?e.set(p,i):e.delete(p),R?e.set(y,"on"):e.delete(y),k?e.set(A,"yes"):e.delete(A),window.history.replaceState({},"",`${window.location.pathname}?${e}`)},L=(e,t)=>{switch(t.type){case"reset":return F(new URLSearchParams);case"toggle_event":return l(l({},e),{},{selectedEvents:e.selectedEvents.includes(t.eventId)?e.selectedEvents.filter((e=>e!==t.eventId)):[...e.selectedEvents,t.eventId]});case"select_all_events":return l(l({},e),{},{selectedEvents:a.uE});case"clear_events":return l(l({},e),{},{selectedEvents:[]});default:return l(l({},e),t)}}},74809:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(96540),a=n(95472),o=n(3487),i=n(41935),l=n(16523),s=n(82664),c=n(83995),u=n(66048),d=n(91283),m=n(57598),p=n(46882);const f=Object.keys(c.AZ.byId),g="all";function E(){const[e]=(0,p.A)(),[t,n]=(0,r.useState)((null===e||void 0===e?void 0:e.event_id)||g),[c,E]=(0,d.A)(null===e||void 0===e?void 0:e.competition_id),[v,y]=(0,m.A)(!1);return r.createElement(a.A,null,r.createElement(a.A.Field,{label:"Competition ID",control:i.IdWcaSearch,name:"competitionId",value:c,onChange:E,model:l.default.competition,required:!0,multiple:!1}),r.createElement("p",null,"Leave blank to check for all competitions"),r.createElement(s.default,{eventList:f,selectedEvents:t===g?f:[t],onAllClick:()=>n(g),onEventClick:n,hideClearButton:!0}),r.createElement(a.A.Checkbox,{required:!0,label:"Refresh index for selected competition(s)",checked:v,onChange:y}),r.createElement("p",null,"This will attempt to compute the lookup on-the-fly only if a specific competition has been selected above. It can lead to timeouts, please rely on CAD when that happens."),r.createElement(o.A,{content:"Run check",href:u.uP.admin.overrideRegionalRecords(c,t,v)}))}},75059:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(35907),i=n(73574),l=n(3487),s=n(600),c=n(85895),u=n(66048),d=n(45567),m=n(83995),p=n(91283),f=n(1460);const g=e=>{const t=m.Xr.byIso2[e];return t?t.id:void 0};t.default=function({onCreate:e,competitionId:t,save:n,saving:m}){const[E,v]=(0,p.A)(""),[y,A]=(0,p.A)(""),[b,h]=(0,p.A)(""),[_,w]=(0,p.A)(""),[C,S]=(0,p.A)(""),[I,P]=(0,p.A)("");(0,r.useEffect)((()=>{v(""),A("")}),[v,A,b]);const[O,R]=(0,r.useState)({}),k=(0,r.useCallback)((e=>{R({}),(0,d.o)(`${u.t7}?${new URLSearchParams(e)}`).then((({data:e})=>{void 0!==e.semiId&&v(e.semiId),void 0!==e.wcaId&&A(e.wcaId),R(e.errors||{})})).catch((e=>R({semi_id:e.message})))}),[R,v,A]),j=(0,r.useCallback)((e=>{R({message:e.message})}),[R]),T=(0,r.useCallback)((t=>{t.errors?R(t.errors):e(t)}),[e,R]);return r.createElement(r.Fragment,null,r.createElement(a.A,null,r.createElement(a.A.Group,{widths:4},r.createElement(a.A.Input,{label:"Name",placeholder:"Name",onChange:h,error:O.name,value:b}),r.createElement(a.A.Input,{label:"Date of birth",placeholder:"YYYY-MM-DD",onChange:P,error:O.dob,value:I}),r.createElement(c.default,{gender:C,onChange:S}),r.createElement(s.default,{label:f.Ay.t("activerecord.attributes.user.country_iso2"),onlyCountries:!0,region:_,onRegionChange:w,error:O.countryId})),r.createElement(a.A.Group,{widths:2},r.createElement(a.A.Input,{label:"Semi ID",onChange:v,error:O.semi_id,value:E,icon:r.createElement(o.A,{circular:!0,link:!0,onClick:()=>k({name:b,competition_id:t,semi_id:E}),name:"search"})}),r.createElement(a.A.Input,{label:"WCA ID",onChange:A,error:O.wca_id,value:y}))),r.createElement(i.A,{info:!0},r.createElement("p",null,"When creating a new person, this modal will close and the person data for the result will be filled.",r.createElement("br",null),"The person will be created no matter what happens with the result!",r.createElement("br",null),"So if you end up not using the newly created person in the result, keep in mind that you may have to remove them.")),r.createElement(l.A,{positive:!0,disabled:m,onClick:()=>n(u.Kh,{person:{name:b,dob:I,gender:C,country_id:g(_),wca_id:y}},T,{method:"POST"},j),content:"Create the person"}))}},75908:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(73574),o=n(89407),i=n(59211),l=n(7362),s=n(43703),c=n(1026),u=n(7862),d=n(81333),m=n(10319);const p="wcat";function f({competitionId:e}){const{isAdminView:t}=(0,o.Pj)(),{data:n,isLoading:i}=(0,d.useConfirmationData)(e);if(i)return r.createElement(u.default,null);const{isConfirmed:l,isVisible:s}=n;let m=null,f=null,g={};if(l&&s){if(t)return null;m="success",f="competitions.competition_form.public_and_locked_html"}else l&&!s?(m="warning",f="competitions.competition_form.confirmed_but_not_visible_html",g={contact:p.toLocaleUpperCase()}):!l&&s?(m="error",f="competitions.competition_form.is_visible"):l||s||(m="warning",f="competitions.competition_form.pending_confirmation_html",g={contact:p.toLocaleUpperCase()});return r.createElement(a.A,{error:"error"===m,warning:"warning"===m,success:"success"===m},r.createElement(c.default,{i18nKey:f,options:g}))}function g(){const{competitionId:e}=(0,s.useFormInitialObject)();return r.createElement(r.Fragment,null,r.createElement(i.default,{competitionId:e}),r.createElement(l.default,{competitionId:e}),r.createElement(f,{competitionId:e}),r.createElement(m.default,{competitionId:e}))}},76187:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o(e,t,n){const{data:o}=await(0,r.o)(a.v9.validators.forCompetitionsInRange(null===e||void 0===e?void 0:e.startDate,null===e||void 0===e?void 0:e.endDate,t,n));return o}},76252:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(73574),o=n(66048),i=n(1460),l=n(52067),s=n(7862),c=n(91592),u=n(89407),d=n(79519),m=n(43703);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E({missingDate:e,missingLocation:t}){return r.createElement(a.A,{negative:!0},e&&r.createElement("p",null,i.Ay.t("competitions.adjacent_competitions.no_date_yet")),t&&r.createElement("p",null,i.Ay.t("competitions.adjacent_competitions.no_location_yet")))}function v(){const{isPersisted:e}=(0,u.Pj)(),{competitionId:t,venue:{coordinates:n},startDate:p,endDate:g,series:v}=(0,m.useFormObject)(),y=(0,m.useFormUpdateAction)(),A=parseFloat(n.lat),b=parseFloat(n.long),h=!p||!g,_=!n||Number.isNaN(A)||Number.isNaN(b),w=(0,r.useMemo)((()=>{const e=new URLSearchParams;return h||_||(e.append("id",t),e.append("latitude_degrees",A.toString()),e.append("longitude_degrees",b.toString()),e.append("start_date",p),e.append("end_date",g)),e}),[t,A,b,p,g,h,_]),C=(0,r.useMemo)((()=>`${o.eQ}?${w.toString()}`),[w]),{data:S,loading:I}=(0,d.A)(C),P=(0,r.useCallback)((e=>{if(e.series){const n=e.series.competitionIds;return f(f({},e.series),{},{competitionIds:[...n,t]})}return{competitionIds:[e.id,t]}}),[t]),O=(0,r.useCallback)((e=>{const t=P(e);y("series",t)}),[y,P]),R=i.Ay.t("competitions.adjacent_competitions.label",{days:33,kms:200});return v?null:I?r.createElement(c.default,{label:R},r.createElement(s.default,null)):h||_?r.createElement(c.default,{label:R},r.createElement(E,{missingDate:h,missingLocation:_})):e?r.createElement(c.default,{label:R},r.createElement(l.default,{comps:S,action:{label:i.Ay.t("competitions.competition_series_fields.add_series"),onClick:O}})):r.createElement(c.default,{label:R},r.createElement(a.A,{info:!0,visible:!0},r.createElement("p",null,i.Ay.t("competitions.adjacent_competitions.save_first"))))}},76283:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(2543),o=n.n(a),i=n(79519),l=n(66048),s=n(7862),c=n(80405);t.default=function({id:e,dataUrlFn:t,dataType:n,DisplayTable:a,EditForm:u}){const{data:d,sync:m,loading:p,error:f}=(0,i.A)(t(e));return r.createElement(r.Fragment,null,f&&r.createElement(c.default,{componentName:"EditEntry"}),p&&r.createElement(s.default,null),d&&r.createElement(r.Fragment,null,!p&&r.createElement(r.Fragment,null,r.createElement("h3",null,o().upperFirst(n)," ","previously saved in the database"," ","-"," ",r.createElement("a",{href:(0,l.No)(d.competition_id)},d.competition_id)),r.createElement(a,{dataItem:d})),r.createElement(u,{dataItem:d,sync:m})))}},76549:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(57097),a=n(96540),o=n(73574),i=n(3487),l=n(56991),s=n(80405),c=n(7862),u=n(1866);function d({userId:e,wcaId:t}){const[n,d]=(0,a.useState)(!1),{mutate:m,isLoading:p,isError:f,isSuccess:g,data:E}=(0,r.n)({mutationFn:u.default});return p?a.createElement(c.default,null):f?a.createElement(s.default,null):a.createElement(a.Fragment,null,g&&a.createElement(a.Fragment,null,a.createElement(o.A,{info:!0},"Anonymization completed."),(null===E||void 0===E?void 0:E.new_wca_id)&&a.createElement(o.A,{info:!0},`New WCA ID is ${null===E||void 0===E?void 0:E.new_wca_id}`)),a.createElement(i.A,{onClick:()=>d(!0)},"Anonymize"),a.createElement(l.A,{open:n,onCancel:()=>d(!1),onConfirm:()=>{d(!1),m({userId:e,wcaId:t})},content:"Are you sure you want to anonymize?"}))}},77534:function(e,t,n){"use strict";n.r(t),n.d(t,{getRankings:function(){return o}});var r=n(45567),a=n(66048);async function o(e,t,n,o,i){const{data:l}=await(0,r.o)((0,a.Hg)(e,t,n,o,i),{headers:{Accept:"application/json"}});return l}},77684:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(60654),o=n(65632),i=n(35907),l=n(3487),s=n(31473),c=n(79519),u=n(66048),d=n(7862),m=n(80405),p=n(68533);function f({posts:e}){return r.createElement(a.A,{bulleted:!0},e.map((e=>r.createElement(a.A.Item,{key:e.id},r.createElement("a",{href:e.url},e.title)))))}function g({posts:e}){return r.createElement(o.A.Group,null,e.map((e=>{var t;return r.createElement(o.A,{key:e.id,fluid:!0},r.createElement(o.A.Content,null,r.createElement(o.A.Header,null,e.sticky&&r.createElement(i.A,{name:"pin"}),r.createElement("a",{href:e.url},e.title),e.edit_url&&r.createElement(r.Fragment,null,r.createElement(l.A,{circular:!0,href:e.url,"data-method":"delete","data-confirm":"Are you sure you want to delete this post?",color:"red",floated:"right",icon:"trash"}),r.createElement(l.A,{circular:!0,href:e.edit_url,color:"teal",floated:"right",icon:"pencil"}))),r.createElement(o.A.Meta,null,"Posted by"," ",null!==(t=e.author_name)&&void 0!==t?t:"Unknown"," ","on"," ",(0,p.Pg)(e.created_at,"en")),r.createElement(o.A.Description,{dangerouslySetInnerHTML:{__html:e.teaser}})),r.createElement(o.A.Content,{extra:!0},r.createElement(l.A,{href:e.url,primary:!0},"Read full post")))})))}function E({page:e,setPage:t,totalPages:n}){return r.createElement(s.A,{activePage:e,onPageChange:(e,{activePage:n})=>t(n),totalPages:n,boundaryRange:0,siblingRange:2,ellipsisItem:null,firstItem:{content:r.createElement(i.A,{name:"angle double left"}),icon:!0},lastItem:{content:r.createElement(i.A,{name:"angle double right"}),icon:!0},prevItem:{content:r.createElement(i.A,{name:"angle left"}),icon:!0},nextItem:{content:r.createElement(i.A,{name:"angle right"}),icon:!0}})}t.default=function({titleOnly:e,initialPage:t}){const[n,a]=(0,r.useState)(t||1),{data:o,loading:i,error:l}=(0,c.A)((0,u.H9)(n));return r.createElement(r.Fragment,null,l&&r.createElement(m.default,{componentName:"PostsWidget"}),i&&r.createElement(d.default,null),!i&&o&&r.createElement("div",{className:"posts-widget"},e?r.createElement(f,{posts:o.posts}):r.createElement(r.Fragment,null,r.createElement(g,{posts:o.posts}),r.createElement(E,{page:n,setPage:a,totalPages:o.totalPages}))))}},77791:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);t.default=(e,{messages:t,newMessages:n,toClear:r})=>{var o;const i=null!==(o=e.nextId)&&void 0!==o?o:0;if(t){const n=t.map(((e,t)=>a(a({},e),{},{id:i+t})));return a(a({},e),{},{messages:n,nextId:i+t.length})}if(n){const t=n.map(((e,t)=>a(a({},e),{},{id:i+t})));return a(a({},e),{},{messages:[...e.messages,...t],nextId:i+n.length})}if(r){const t=e.messages.filter((({id:e})=>!r.includes(e)));return a(a({},e),{},{messages:t})}return e}},77949:function(e,t,n){"use strict";n.r(t),n.d(t,{InputBoolean:function(){return V},InputBooleanSelect:function(){return B},InputChampionships:function(){return q},InputCompetitions:function(){return $},InputCurrencyAmount:function(){return H},InputDate:function(){return D},InputMap:function(){return U},InputMarkdown:function(){return L},InputNumber:function(){return x},InputRadio:function(){return M},InputSelect:function(){return F},InputString:function(){return j},InputTextArea:function(){return T},InputUsers:function(){return N}});var r=n(96540),a=n(95472),o=n(92257),i=n(4713),l=n(73591),s=n(50363),c=n(21663),u=n(68986),d=n(2543),m=n.n(d),p=n(1460),f=n(88486),g=n(62728),E=n(42136),v=n(90189),y=n(13113),A=n(41935),b=n(16523),h=n(14487),_=n(43703);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t=[]){return[...t,e].map(m().snakeCase).join(".")}function P(e,t=[]){const n=I(e,t);return p.Ay.t(`competitions.competition_form.labels.${n}`)}function O(e,t=[]){return[...t,e].join("-")}function R({id:e,label:t,noLabel:n,hint:o,noHint:i,mdHint:l,error:s,disabled:c,required:u,children:d}){const m=(0,h.useSections)(),f="ignore"===n,g=n?"blank"===n?"":"&nbsp;":t||P(e,m),E=i?"blank"===i?"":"&nbsp;":o||function(e,t=[],n=!1){const r=I(e,t);return n?p.Ay.t(`competitions.competition_form.hints.${r}_html`,{md:p.Ay.t("competitions.competition_form.supports_md_html")}):p.Ay.t(`competitions.competition_form.hints.${r}`)}(e,m,l),v=O(e,m);return r.createElement(a.A.Field,{error:!!s,className:s?"has-error":"",disabled:!!c,required:!!u},!f&&r.createElement("label",{htmlFor:v,dangerouslySetInnerHTML:{__html:g}}),d,s&&r.createElement("p",{dangerouslySetInnerHTML:{__html:s||""},className:"help-block"}),r.createElement("p",{dangerouslySetInnerHTML:{__html:E},className:"help-block"}))}const k=(e,t=[],n=void 0,a="value")=>function(o){const{errors:i}=(0,_.useFormContext)(),l=(0,h.useSections)(),s=(0,h.useSectionDisabled)(),c=(0,h.useSectionAllowIgnoreDisabled)(),u=(0,_.useFormObjectSection)(),d=(0,_.useFormUpdateAction)(),m=t.reduce(((e,t)=>C(C({},e),{},{[t]:o[t]})),{}),p=(0,r.useCallback)(((e,{[a]:t})=>{d(o.id,t,l)}),[d,o.id,l]);let f=u[o.id];null===f&&void 0!==o.defaultValue&&(f=o.defaultValue),null===f&&void 0!==n&&(f=n),m[a]=f;const g=(0,h.readValueRecursive)(i,l),E=null===g||void 0===g?void 0:g[o.id],v=Array.isArray(E)&&E.join(", "),y=t.includes("label");y&&(m.label=o.label||P(o.id,l));const A=y?"ignore":o.noLabel,b=s||o.disabled,w=c&&o.ignoreDisabled,S=b&&!w;t.includes("disabled")&&(m.disabled=S);const I=O(o.id,l),k=P(o.id,l);return r.createElement(R,{id:o.id,label:o.label,noLabel:A,hint:o.hint,noHint:o.noHint,mdHint:o.mdHint,error:v,disabled:S,required:o.required},r.createElement(e,Object.assign({},m,{htmlId:I,htmlName:k,onChange:p})))},j=k((e=>r.createElement(o.A,{id:e.htmlId,name:e.htmlName,label:e.attachedLabel,value:e.value,disabled:e.disabled,onChange:e.onChange})),["attachedLabel","disabled"],""),T=k((e=>r.createElement(c.A,{id:e.htmlId,name:e.htmlName,value:e.value,onChange:t=>e.onChange(t,{value:t.target.value}),className:"no-autosize",rows:2})),[],""),x=k((e=>{const t=(0,r.useCallback)(((t,{value:n})=>{const r=e.nullable&&""===n?null:Number(n);e.onChange(t,{value:r})}),[e]);return r.createElement(o.A,{id:e.htmlId,name:e.htmlName,type:"number",label:e.attachedLabel,value:e.value,onChange:t,min:e.min,max:e.max,step:e.step})}),["attachedLabel","min","max","step","nullable"]),D=k((e=>{const t=(0,r.useCallback)((t=>{e.onChange(null,{value:t})}),[e]);return r.createElement(r.Fragment,null,r.createElement(o.A,{id:e.htmlId,name:e.htmlName},r.createElement(y.default,{id:e.htmlId,isoDate:e.value,onChange:t,shouldCloseOnSelect:!1,showTimeInput:e.dateTime,style:{width:"inherit"},selectsStart:e.selectsStart,selectsEnd:e.selectsEnd,isoStartDate:e.startDate,isoEndDate:e.endDate,isoMinDate:e.minDate,isoMaxDate:e.maxDate})),e.dateTime&&e.value&&r.createElement("p",{className:"help-block"},"In your current time zone:"," ",new Date(e.value).toLocaleString(void 0,{dateStyle:"full",timeStyle:"short"})))}),["dateTime","selectsStart","selectsEnd","startDate","endDate","minDate","maxDate"],""),F=k((e=>r.createElement(i.A,{id:e.htmlId,name:e.htmlName,options:e.options,value:e.value,onChange:e.onChange,search:e.search})),["options","search"]),M=k((e=>r.createElement(r.Fragment,null,e.options.map(((t,n)=>r.createElement(r.Fragment,{key:t.value},0!==n&&r.createElement("br",null),r.createElement(l.A,{name:e.htmlName,label:t.text,value:t.value.toString(),checked:e.value===t.value,onChange:()=>e.onChange(null,{value:t.value})})))))),["options"]),L=k((e=>r.createElement(f.default,{id:e.htmlId,name:e.htmlName,value:e.value,onChange:e.onChange})),[],""),N=k((e=>{const t={};return e.delegateOnly&&(t.only_staff_delegates=!0),e.traineeOnly&&(t.only_trainee_delegates=!0),r.createElement(A.IdWcaSearch,{id:e.htmlId,value:e.value||[],onChange:e.onChange,model:b.default.user,params:t})}),["delegateOnly","traineeOnly"]),$=k((e=>r.createElement(A.IdWcaSearch,{id:e.htmlId,value:e.value||[],onChange:e.onChange,model:b.default.competition,disabled:e.disabled})),["disabled"]),H=k((e=>r.createElement(g.default,{id:e.htmlId,currency:e.currency,value:e.value,onChange:e.onChange})),["currency"]),V=k((e=>r.createElement(s.A,{id:e.htmlId,checked:e.checked,onChange:e.onChange,label:e.label})),["label"],!1,"checked"),B=k((e=>{const t=(0,h.useSections)(),n=(0,r.useMemo)((()=>I(e.id,t)),[e.id,t]),a=(0,r.useMemo)((()=>{const t=[!0,!1].map((e=>({value:e,text:p.Ay.t(`competitions.competition_form.choices.${n}.${e.toString()}`)})));if(!e.forceChoice){return[{value:null,text:""},...t]}return t}),[n,e.forceChoice]);return r.createElement(i.A,{options:a,value:e.value,onChange:e.onChange})}),["id","forceChoice"]),U=k((e=>{const t=[e.value.lat,e.value.long],n=(0,r.useCallback)(((t,n)=>e.onChange(t,{value:{lat:n[0],long:n[1]}})),[e]);return r.createElement("div",{id:"venue-map-wrapper"},r.createElement(E.CompetitionsMap,{id:e.wrapperId,coords:t,setCoords:n},e.circles&&e.circles.map((e=>r.createElement(u.j,{key:e.id,center:t,fill:!1,radius:1e3*e.radius,color:e.color}))),r.createElement(E.DraggableMarker,{coords:t,setCoords:n,disabled:e.disabled}),e.markers&&e.markers.map((e=>r.createElement(E.StaticMarker,{key:e.id,coords:e.coords})))))}),["wrapperId","circles","markers","disabled"]),q=k((e=>{const t=e.value,n=(0,r.useCallback)((t=>{e.onChange(null,{value:t})}),[e]),a=(0,r.useCallback)((()=>{n([...t,null])}),[t,n]);return r.createElement(r.Fragment,null,t.map(((e,a)=>r.createElement(v.ChampionshipSelect,{key:`${e}-${a+1}`,value:e,onChange:(e,{value:r})=>{const o=[...t];o[a]=r,n(o)},onRemove:()=>{const e=[...t];e.splice(a,1),n(e)}}))),r.createElement(v.AddChampionshipButton,{onClick:a}))}))},78075:function(e,t,n){"use strict";n.r(t),n.d(t,{ALL_REGIONS:function(){return g},default:function(){return v}});var r=n(96540),a=n(1489),o=n(5074),i=n(6957),l=n(1460),s=n(66048),c=n(80405),u=n(7862),d=n(79519),m=n(60301),p=n(14526),f=n(57569);const g={id:"all",name:l.Ay.t("delegates_page.all_regions")};function E({seniorDelegate:e}){return r.createElement(a.A,{padded:!0,centered:!0},r.createElement(a.A.Row,null,r.createElement(o.A,{raised:!0,compact:!0,textAlign:"center"},r.createElement(i.A,{ribbon:!0},l.Ay.t("enums.user_roles.status.delegate_regions.senior_delegate")),e&&r.createElement(m.default,{user:e.user,hideBorder:!0,leftAlign:!0,subtexts:e.user.wca_id?[e.user.wca_id]:[]}))))}function v({activeRegion:e,delegateSubregions:t,isAdminMode:n}){const{data:a,loading:o,error:i}=(0,d.A)(s.VB.userRoles.list({isActive:!0,groupId:e.id},"location,name")),l=(0,r.useCallback)((()=>null===a||void 0===a?void 0:a.find((e=>"senior_delegate"===e.metadata.status))),[a]),m=(0,r.useMemo)((()=>null===a||void 0===a?void 0:a.filter((e=>"senior_delegate"!==e.metadata.status))),[a]);return o?r.createElement(u.default,null):i?r.createElement(c.default,null):r.createElement(r.Fragment,null,r.createElement(E,{seniorDelegate:l()}),m.length>0&&r.createElement(p.default,{delegates:m,isAdminMode:n}),t.map((e=>r.createElement(f.default,{subregion:e,isAdminMode:n}))))}},78732:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});const r=(0,n(96540).createContext)(!1)},78737:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(73574),o=n(97286),i=n(68103),l=n(34260),s=n(37125),c=n(64417),u=n(1460),d=n(94889),m=n(7862);function p({competitionInfo:e,stripePublishableKey:t,connectedAccountId:n,user:p,nextStep:f}){const{registration:g}=(0,l.useRegistration)(),{data:E,isLoading:v}=(0,o.I)({queryKey:["payments",g.id],queryFn:()=>(0,d.default)(g.id),select:e=>e.charges});return v?r.createElement(m.default,null):E.length>0?r.createElement(s.default,{payments:E,competitionInfo:e,connectedAccountId:n,nextStep:f,stripePublishableKey:t,user:p}):(0,c.Pc)(e.registration_close)?r.createElement(a.A,{error:!0},u.Ay.t("registrations.payment_form.errors.registration_closed")):r.createElement(i.default,{competitionInfo:e,connectedAccountId:n,nextStep:f,stripePublishableKey:t,user:p})}},78839:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(96540),a=n(27089),o=n(31746),i=n(3487),l=n(1489),s=n(97665),c=n(97286),u=n(83995),d=n(95522),m=n(59731),p=n(66048),f=n(7862),g=n(65119),E=n(83811),v=n(89226);function y({roundId:e,eventId:t,competitionId:n,competitors:a,canAdminResults:o}){return r.createElement(d.A,null,r.createElement(A,{competitionId:n,roundId:e,eventId:t,competitors:a,canAdminResults:o}))}function A({canAdminResults:e,competitionId:t,roundId:n,eventId:d,competitors:y}){const A=(0,s.jE)(),{data:b,isLoading:h}=(0,c.I)({queryKey:(0,g.roundResultsKey)(n),queryFn:()=>(0,g.default)(n,t)}),_=(0,r.useCallback)((e=>{A.setQueryData((0,g.roundResultsKey)(n),(t=>(0,g.insertNewResult)(t,e)))}),[n,A]),w=(0,E.default)(n,_),C=u.AZ.byId[d];return h?r.createElement(f.default,null):r.createElement(a.A,{fluid:!0},r.createElement(o.A,null,C.name,r.createElement(v.default,{connectionState:w}),e&&r.createElement("a",{href:p.Hd.roundResultsAdmin(t,n)},r.createElement(i.A,{floated:"right"},"Admin"))),r.createElement(l.A,null,r.createElement(l.A.Column,{width:16},r.createElement(m.default,{results:null!==b&&void 0!==b?b:[],event:C,competitors:y,competitionId:t}))))}},79519:function(e,t,n){"use strict";var r=n(96540),a=n(45567);t.A=e=>{const[t,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(new Headers),[l,s]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),d=(0,r.useCallback)((()=>{u(!0),i(new Headers),s(null),(0,a.o)(e).then((e=>{n(e.data),i(e.headers)})).catch((e=>{s(e.message)})).finally((()=>u(!1)))}),[e,u,n,i,s]);return(0,r.useEffect)(d,[d]),{data:t,headers:o,loading:c,error:l,sync:d}}},80336:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(66048),o=n(65395),i=n(91283);t.default=function(){const[e,t]=(0,i.A)();return r.createElement(o.default,{selectedValue:e,onChange:t,removeNoResultsMessage:!0,showOptionToGoToSearchPage:!0,goToItemUrlOnClick:!0,url:a.HF,multiple:!1})}},80405:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(73574),o=n(35907);t.default=function({componentName:e,error:t}){return r.createElement(a.A,{icon:!0,negative:!0},r.createElement(o.A,{name:"warning sign"}),r.createElement(a.A.Content,null,r.createElement(a.A.Header,null,"Oh no :("),r.createElement(r.Fragment,null,"Something went wrong while loading the data",e&&r.createElement(r.Fragment,null," ","for the component '",e,"'"),"\n",String(t)||""),"!"))}},80656:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(95472),o=n(77949),i=n(1460),l=n(43703);function s(e){if(!e)return null;const t=new Date(e).getTime()-(new Date).getTime(),n=Math.trunc(t/864e5),r=i.Ay.t("datetime.distance_in_words.x_days",{count:Math.abs(n)});return n>=0?i.Ay.t("competitions.time_until_competition.competition_in",{n_days:r}):i.Ay.t("competitions.time_until_competition.competition_was",{n_days:r})}function c(){const{startDate:e,endDate:t}=(0,l.useFormObject)();return r.createElement(a.A.Group,{widths:"equal"},r.createElement(o.InputDate,{id:"startDate",hint:s(e),required:!0,selectsStart:!0,startDate:e,endDate:t}),r.createElement(o.InputDate,{id:"endDate",required:!0,selectsEnd:!0,startDate:e,endDate:t,minDate:e}))}},80824:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(46942),o=n.n(a);const i=["id","className","size","hoverable"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e){let{id:t,className:n,size:a,hoverable:l=!0}=e,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,i);const u=l?{}:{pointerEvents:"none"};return r.createElement("span",Object.assign({},c,{className:o()("cubing-icon",`event-${t}`,n),style:s({fontSize:a},u)}))}},80879:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(1460),o=n(77949),i=n(89407),l=n(83995),s=n(43703);function c(){const{isPersisted:e,isAdminView:t}=(0,i.Pj)(),{name:n}=(0,s.useFormObject)(),c=!n||n.length<=l.ju,u=!t&&c;return r.createElement(r.Fragment,null,e&&r.createElement(o.InputString,{id:"competitionId",disabled:u}),r.createElement(o.InputString,{id:"name",required:!0}),e&&r.createElement(o.InputString,{id:"shortName",hint:a.Ay.t("competitions.competition_form.hints.short_name",{short_name_limit:l.ju}),disabled:u}),r.createElement(o.InputString,{id:"nameReason",mdHint:!0,required:!0}))}},80907:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(3487),o=n(77949),i=n(76252),l=n(1460),s=n(89407),c=n(83995),u=n(34622),d=n(43703),m=n(14487);function p(){const{isAdminView:e,isSeriesPersisted:t}=(0,s.Pj)(),{series:n}=(0,d.useFormObject)(),p=(0,m.useSectionDisabled)(),f=(0,d.useFormUpdateAction)();if(!n)return r.createElement(i.default,null);const{name:g}=n,E=!g||g.length<=c.ju,v=!e&&E;return r.createElement(u.default,{section:"series"},t&&r.createElement(o.InputString,{id:"seriesId",disabled:v}),r.createElement(o.InputString,{id:"name"}),t&&r.createElement(o.InputString,{id:"shortName",disabled:v}),r.createElement(o.InputCompetitions,{id:"competitionIds",disabled:!0}),r.createElement(a.A,{negative:!0,disabled:p,onClick:()=>f("series",null)},l.Ay.t("competitions.competition_series_fields.remove_series")))}},80955:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(95472),o=n(83995),i=n(77949),l=n(34622);const s=Object.values(o.Xr.byIso2).map((e=>({key:e.id,value:e.id,text:e.name}))).sort(((e,t)=>e.text.localeCompare(t.text)));function c(){const e=[{id:"danger",radius:o.r7,color:"#d9534f"},{id:"warning",radius:o.OJ,color:"#f0ad4e"}];return r.createElement(l.default,{section:"venue"},r.createElement(i.InputSelect,{id:"countryId",options:s,search:!0,required:!0}),r.createElement(i.InputString,{id:"cityName",required:!0}),r.createElement(i.InputString,{id:"name",mdHint:!0,required:!0}),r.createElement(i.InputString,{id:"details",mdHint:!0,required:!0}),r.createElement(i.InputString,{id:"address",required:!0}),r.createElement(i.InputMap,{id:"coordinates",wrapperId:"map",circles:e,noHint:"blank"}),r.createElement(l.default,{section:"coordinates"},r.createElement(a.A.Group,{widths:"equal"},r.createElement(i.InputNumber,{id:"lat",attachedLabel:"Latitude",step:.01,noLabel:"ignore",noHint:"blank"}),r.createElement(i.InputNumber,{id:"long",attachedLabel:"Longitude",step:.01,noLabel:"ignore",noHint:"blank"}))))}},81133:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(87977),o=n(73574),i=n(1460),l=n(34260);function s(){const{pollCounter:e,queueCount:t}=(0,l.useRegistration)();return r.createElement(a.A,{open:!0,dimmer:"blurring"},r.createElement(a.A.Header,null,i.Ay.t("competitions.registration_v2.register.processing")),r.createElement(a.A.Content,null,e>1&&r.createElement(o.A,{warning:!0},i.Ay.t("competitions.registration_v2.register.processing_longer")),t>0&&r.createElement(o.A,{warning:!0},i.Ay.t("competitions.registration_v2.register.processing_queue",{queueCount:t}))))}},81333:function(e,t,n){"use strict";n.r(t),n.d(t,{announcementDataQueryKey:function(){return s},confirmationDataQueryKey:function(){return u},useAnnouncementData:function(){return c},useConfirmationData:function(){return d},useQueryDataSetter:function(){return f},useQueryRedirect:function(){return g},useUserPreferences:function(){return p},userPreferencesQueryKey:function(){return m}});var r=n(96540),a=n(97286),o=n(97665),i=n(45567),l=n(66048);function s(e){return["announcement-data",e]}function c(e){return(0,a.I)({queryKey:s(e),queryFn:()=>(0,i.o)((0,l.qy)(e)).then((e=>e.data))})}function u(e){return["confirmation-data",e]}function d(e){return(0,a.I)({queryKey:u(e),queryFn:()=>(0,i.o)((0,l.Gp)(e)).then((e=>e.data))})}function m(e){return["user-preferences",e]}function p(e){return(0,a.I)({queryKey:m(e),queryFn:()=>(0,i.o)((0,l.iC)(e)).then((e=>e.data))})}function f(e){const t=(0,o.jE)();return(0,r.useCallback)((n=>{t.setQueryData(e,n.data||n)}),[t,e])}function g(e="redirect"){return(0,r.useCallback)((t=>{const n=t[e];n&&window.location.replace(n)}),[e])}},81811:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(3487),o=n(35907),i=n(60654),l=n(1460),s=n(1026),c=n(94295),u=n(82755);const d="https://www.paypal.com/donate/?hosted_button_id=W5JL8J4S8UTJU",m="https://www.nfggive.com/guidestar/82-3825954";t.default=function({currentBoardMembers:e}){return r.createElement(r.Fragment,null,r.createElement("div",{className:"jumbotron"},r.createElement("p",{className:"lead"},l.Ay.t("about.donation_banner.content")),r.createElement(a.A,{primary:!0,size:"big",href:m},r.createElement(o.A,{name:"credit card"}),l.Ay.t("about.donation_banner.donate_credit")),r.createElement(a.A,{primary:!0,size:"big",href:d,style:{marginLeft:"3px"}},r.createElement(o.A,{name:"paypal"}),l.Ay.t("about.donation_banner.donate_paypal")),r.createElement(a.A,{size:"big",href:"#contribute",style:{marginLeft:"3px"}},r.createElement(o.A,{name:"arrow down"}),l.Ay.t("about.donation_banner.donate_other"))),r.createElement("blockquote",{className:"blockquote"},r.createElement("p",{className:"mb-0"},l.Ay.t("about.mission_statement")),r.createElement("footer",{className:"blockquote-footer"},l.Ay.t("about.mission_footer"))),r.createElement("h2",null,l.Ay.t("about.who_we_are_title")),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-8"},r.createElement(s.default,{i18nKey:"about.who_we_are_content_html"})),r.createElement("div",{className:"col-md-4"},r.createElement("img",{src:u,className:"about-page-image",alt:"Bulgarian Open 2018"}))),r.createElement("blockquote",{className:"blockquote"},r.createElement("p",{className:"mb-0"},l.Ay.t("about.spirit")),r.createElement("footer",{className:"blockquote-footer"},l.Ay.t("about.spirit_footer"))),r.createElement("h2",null,l.Ay.t("about.our_goals_title")),r.createElement(s.default,{i18nKey:"about.our_goals_content_html"}),r.createElement("h2",null,l.Ay.t("about.whats_next_title")),r.createElement(s.default,{i18nKey:"about.whats_next_content_html"}),r.createElement("h2",null,l.Ay.t("about.world_championship_title")),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-8"},r.createElement(s.default,{i18nKey:"about.world_championship_content_html"})),r.createElement("div",{className:"col-md-4"},r.createElement("img",{className:"about-page-image",src:c,alt:"World Championship 2015"}))),r.createElement("h2",null,l.Ay.t("about.structure.title")),r.createElement("p",null,l.Ay.t("about.structure.board.description")),r.createElement(i.A,{as:"ul"},e.map((e=>r.createElement(i.A.Item,{as:"li",key:e.id},e.name," ","-"," ",e.country.name)))),r.createElement("p",null,r.createElement(s.default,{i18nKey:"about.structure.operations_html",options:{committees_and_teams:`<a href="/teams-committees">${l.Ay.t("about.structure.teams_committees")}</a>`}})),r.createElement("p",null,r.createElement(s.default,{i18nKey:"about.structure.delegates_html",options:{see_link:l.Ay.t("about.structure.see_link_html",{link:`<a href="/delegates">${l.Ay.t("delegates_page.title")}</a>`})}})),r.createElement("p",null,r.createElement(s.default,{i18nKey:"about.structure.members_html"})),r.createElement("h2",{id:"contribute"},l.Ay.t("about.contributing_title")),r.createElement("p",null,r.createElement(s.default,{i18nKey:"about.contributing_content_html",options:{here_credit:`<a href="${m}">${l.Ay.t("common.here")}</a>`,here_paypal:`<a href="${d}">${l.Ay.t("common.here")}</a>`}}),r.createElement("em",null,r.createElement("br",null),r.createElement("br",null),"World Cube Association",r.createElement("br",null),"5042 Wilshire Blvd #43206",r.createElement("br",null),"Los Angeles, CA 90036",r.createElement("br",null),"United States of America",r.createElement("br",null),r.createElement("br",null)),l.Ay.t("about.tax_deductible_note")),r.createElement("h2",null,l.Ay.t("about.other_help_title")),r.createElement(s.default,{i18nKey:"about.other_help_content_html"}))}},81922:function(e,t,n){"use strict";n.d(t,{CH:function(){return S},EF:function(){return g},Fp:function(){return y},LT:function(){return p},NP:function(){return s},Wk:function(){return m},ac:function(){return u},av:function(){return C},hj:function(){return A},mm:function(){return d},mt:function(){return c},nz:function(){return l},z:function(){return _}});var r=n(96540),a=n(96285),o=n(1460);function i(e){return a.c9.fromFormat(e,"yyyy-MM-dd",{zone:"utc"})}const l=(e,t)=>{return`${n=t,"waiting_list"===n?o.Ay.t("competitions.messages.tooltip_waiting_list"):"accepted"===n?o.Ay.t("competitions.messages.tooltip_registered"):"cancelled"===n||"rejected"===n?o.Ay.t("competitions.messages.tooltip_deleted"):"pending"===n?o.Ay.t("competitions.messages.tooltip_pending"):""} ${(e=>{let t="";return e["confirmed?"]?e["visible?"]?t+=o.Ay.t("competitions.messages.confirmed_visible"):t+=o.Ay.t("competitions.messages.confirmed_not_visible"):t+=o.Ay.t("competitions.messages.not_confirmed_not_visible"),t})(e)}`;var n};function s(e){const t=i(e),n=t.diffNow("days").days;return t>a.c9.now()?Math.ceil(n):Math.floor(-1*n)}function c(e){return i(e.end_date).year}function u(e){if(!e.end_date)return!1;return i(e.end_date).endOf("day")<a.c9.now()}function d(e){return!!e.cancelled_at}function m(e){return!!e.results_posted_at}function p(e){const t=i(e.start_date).startOf("day"),n=i(e.end_date).endOf("day");return a.IX.fromDateTimes(t,n).contains(a.c9.now())&&!m(e)}function f(e,t){const n=a.c9.fromISO(t),r=i(e.start_date).startOf("day").diff(n,"days").days;return Math.ceil(Math.abs(r))}function g(e,t){const n=o.Ay.t("datetime.distance_in_words.x_days",{count:f(e,t)});return o.Ay.t("competitions.competition_info.relative_days.before",{amount_of_days:n})}function E(e,t){const n=i(e.end_date).startOf("day");return a.c9.fromISO(t,{zone:"utc"}).startOf("day").diff(n,"days").days}function v(e,t){const n=o.Ay.t("datetime.distance_in_words.x_days",{count:E(e,t)});return o.Ay.t("competitions.competition_info.relative_days.after",{amount_of_days:n})}function y(e){if(e.report_posted_at){return e.delegates.map((e=>e.id)).includes(e.report_posted_by_user)?v(e,e.report_posted_at):o.Ay.t("competitions.competition_info.submitted_by_other")}return u(e)?o.Ay.t("competitions.competition_info.pending"):null}function A(e){if(e.results_posted_at){return v(e,e.results_submitted_at?e.results_submitted_at:e.results_posted_at)}return u(e)?o.Ay.t("competitions.competition_info.pending"):null}function b(e,t,n,r=null){if(!Number.isInteger(e))return r;const a=Object.entries(t).toSorted((([,e],[,t])=>n(e,t)?1:-1)),o=a.map((([,e])=>e)),i=a.map((([e])=>e)),l=o.filter((t=>n(e,t))).length;return 0===l?r:i[l-1]}const h={warning:28,danger:21};function _(e){return b(f(e,e.announced_at),h,((e,t)=>e<t),"ok")}const w={semi_ok:7,warning:14,danger:21};function C(e,t){return b(E(e,t),w,((e,t)=>e>t),t?"ok":null)}function S({text:e,RenderAs:t="p"}){const n=e.indexOf("["),a=e.indexOf("]",n),o=e.indexOf("(",a),i=e.indexOf(")",o);return-1===n||-1===a||-1===o||-1===i?r.createElement(t,null,e):r.createElement(t,null,r.createElement("a",{href:e.slice(o+1,i),target:"_blank",rel:"noreferrer"},e.slice(n+1,a)))}},81934:function(e,t,n){"use strict";n.r(t),n.d(t,{ChangesSaved:function(){return r},SetErrors:function(){return a},UpdateFormValue:function(){return o},changesSaved:function(){return i},setErrors:function(){return l},updateFormValue:function(){return s}});const r="saving_started",a="set_errors",o="update_form_value",i=(e=void 0)=>({type:r,payload:{override:e}}),l=e=>({type:a,payload:{errors:e}}),s=(e,t,n=[])=>({type:o,payload:{key:e,value:t,sections:n}})},82112:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(2543),o=n.n(a),i=n(6957),l=n(95472),s=n(73591),c=n(83995),u=n(21531),d=n(51319),m=n(89407),p=n(90765),f=n(72272),g=n(99358),E=n(57560);function v({wcifEvent:e,wcifRound:t,disabled:n}){var a,v;const{timeLimit:y}=t,A=(0,m.wA)(),b=c.AZ.byId[e.id],[h,_]=(0,r.useState)(null!==(a=null===y||void 0===y?void 0:y.centiseconds)&&void 0!==a?a:0),[w,C]=(0,r.useState)(null!==(v=null===y||void 0===y?void 0:y.cumulativeRoundIds)&&void 0!==v?v:[]),S=(0,r.useMemo)((()=>{if(!y)return"-";const e=(0,d.xb)(y.centiseconds);let t;switch(y.cumulativeRoundIds.length){case 0:t=e;break;case 1:t=`${e} cumulative`;break;default:t=`${e} total for ${y.cumulativeRoundIds.join(", ")}`}return t}),[y]),I=(0,r.useMemo)((()=>`Time limit for ${(0,u.yt)(t.id)}`),[t.id]),P=()=>!o().isEqual(y,{centiseconds:h,cumulativeRoundIds:w}),O=(0,r.useCallback)((()=>{var e,t;_(null!==(e=null===y||void 0===y?void 0:y.centiseconds)&&void 0!==e?e:0),C(null!==(t=null===y||void 0===y?void 0:y.cumulativeRoundIds)&&void 0!==t?t:[])}),[null===y||void 0===y?void 0:y.centiseconds,null===y||void 0===y?void 0:y.cumulativeRoundIds]);if((0,r.useEffect)(O,[O]),!b.canChangeTimeLimit)return null;return r.createElement(g.default,{trigger:S,title:I,onOk:()=>(P()&&A((0,f.updateTimeLimit)(t.id,{centiseconds:h,cumulativeRoundIds:w})),!0),reset:O,hasUnsavedChanges:P(),disabled:n,closeOnDocumentClick:!1,closeOnDimmerClick:!1,triggerButtonProps:{name:"timeLimit"}},r.createElement(i.A,null,"Time Limit"),r.createElement(p.default,{value:h,onChange:_,disabled:n}),r.createElement("br",null),r.createElement(l.A.Field,{inline:!0},r.createElement(s.A,{label:"per-solve",name:"timeLimitType",value:"per-solve",checked:0===w.length,onChange:()=>C([])}),r.createElement(s.A,{label:"cumulative",name:"timeLimitType",value:"per-solve",checked:w.length>0,onChange:()=>C([t.id])})),r.createElement(E.default,{wcifRound:t,timeLimit:{centiseconds:h,cumulativeRoundIds:w},onOk:e=>(C(e),!0)}))}},82273:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(31746),o=n(3487),i=n(60631),l=n(97286),s=n(96285),c=n(48060),u=n(67168),d=n(7862),m=n(80405);function p({ticketId:e,currentStakeholder:t}){const[n,p]=(0,r.useState)(!1),{data:f,isFetching:g,isError:E,refetch:v}=(0,l.I)({queryKey:["ticket-comments",e],queryFn:()=>(0,u.default)({ticketId:e})});return g?r.createElement(d.default,null):E?r.createElement(m.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h2"},"Comments"),r.createElement(o.A,{onClick:()=>p(!0)},"Add new comment"),r.createElement(i.A.Group,null,f.map((e=>r.createElement(i.A,null,r.createElement(i.A.Avatar,{src:e.acting_user.avatar.thumb_url}),r.createElement(i.A.Content,null,r.createElement(i.A.Author,{as:"a"},e.acting_user.name),r.createElement(i.A.Metadata,null,r.createElement("div",null,s.c9.fromISO(e.created_at).toLocal().toRelative())),r.createElement(i.A.Text,null,e.comment)))))),r.createElement(c.default,{open:n,onClose:()=>p(!1),ticketId:e,currentStakeholder:t,refetchComments:v}))}},82309:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(4525),o=n(28672),i=n(66048),l=n(65097);t.default=function({competitionId:e,canAdminResults:t}){return r.createElement(l.default,{competitionId:e,canAdminResults:t,dataUrlFn:i.tA,newEntryUrlFn:i.$Y,DataRowHeader:a.default,DataRowBody:o.default})}},82330:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(96540);function a(){const e=window.location.hash;return e.length>0?"#"===e[0]?e.slice(1):e:null}function o(){const[e,t]=r.useState(a()),n=r.useCallback((()=>{t(a())}),[]);r.useEffect((()=>(window.addEventListener("hashchange",n),()=>{window.removeEventListener("hashchange",n)})),[n]);const o=r.useCallback((n=>{n!==e&&(window.location.hash=n,t(a()))}),[e]);return[e,o]}},82568:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(53959),o=n(56991),i=n(60301),l=n(13113),s=n(66048);function c({roleList:e,isActive:t,save:n,sync:c}){const[u,d]=r.useState(!1),[m,p]=r.useState();return r.createElement(r.Fragment,null,r.createElement(a.A,null,r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,{width:5},"User"),r.createElement(a.A.HeaderCell,{width:2},"Start date"),r.createElement(a.A.HeaderCell,{width:2},"End date"))),r.createElement(a.A.Body,null,e.map((e=>r.createElement(a.A.Row,{key:e.id},r.createElement(a.A.Cell,null,r.createElement(i.default,{user:e.user,hideBorder:!0,leftAlign:!0})),r.createElement(a.A.Cell,null,e.start_date),r.createElement(a.A.Cell,null,t?r.createElement(l.default,{isoDate:e.end_date,onChange:t=>{p({probationRoleId:e.id,endDate:t}),d(!0)}}):e.end_date)))))),r.createElement(o.A,{open:u,onCancel:()=>d(!1),onConfirm:()=>{n(s.VB.userRoles.update(m.probationRoleId),{endDate:m.endDate},c,{method:"PATCH"}),d(!1),p(null)},content:"Are you sure you want to change end date of this probation?"}))}},82664:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(24106),o=n(3487),i=n(35907),l=n(83995),s=n(1460);function c({title:e=s.Ay.t("competitions.competition_form.events"),eventList:t=l.uE,selectedEvents:n,onEventClick:c=()=>{},hideAllButton:u=!1,onAllClick:d=()=>{},hideClearButton:m=!1,onClearClick:p=()=>{},disabled:f=!1,shouldErrorOnEmpty:g=!1,showBreakBeforeButtons:E=!0,eventButtonsCompact:v=!1,maxEvents:y=1/0,eventsDisabled:A=[],disabledText:b=e=>{}}){return r.createElement(r.Fragment,null,r.createElement("label",{htmlFor:"events"},e,E?r.createElement("br",null):" ",u||r.createElement(a.A,{disabled:!Number.isFinite(y),trigger:r.createElement("span",null,r.createElement(o.A,{disabled:f||t.length>=y,primary:!0,type:"button",size:"mini",id:"select-all-events",onClick:d},s.Ay.t("competitions.index.all_events")))},s.Ay.t("competitions.registration_v2.register.event_limit",{max_events:y})),m||r.createElement(o.A,{disabled:f,type:"button",size:"mini",id:"clear-all-events",onClick:p},s.Ay.t("competitions.index.clear"))),r.createElement(a.A,{open:0===n.length,disabled:!g,position:"bottom left",style:{color:"#9f3a38"},trigger:r.createElement("div",{id:"events"},t.map((e=>{const t=f||!n.includes(e)&&n.length>=y||A.includes(e);return r.createElement(a.A,{key:e,trigger:r.createElement("div",{style:{display:"inline-block"}},r.createElement(o.A,{key:e,disabled:t,basic:!0,compact:v,icon:!0,toggle:!0,type:"button",size:"mini",className:"event-checkbox",id:`checkbox-${e}`,value:e,"data-variation":"tiny",onClick:()=>c(e),active:n.includes(e)},r.createElement(i.A,{className:`cubing-icon event-${e}`,style:A.includes(e)?{color:"#FFBBBB"}:{}})))},A.includes(e)?b(e):s.Ay.t(`events.${e}`))})))},s.Ay.t("registrations.errors.must_register")))}},82755:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/bulgarian-open-2018-560caaee0bcb3a8476bc.jpg"},83021:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(96540),a=n(53959),o=n(55190),i=n(35275),l=n(95374),s=n(95755),c=n(93635),u=n(1460),d=n(83995),m=n(21531);function p({competitionInfo:e,wcifEvents:t}){return r.createElement("div",{style:{overflowX:"scroll"}},r.createElement(a.A,{striped:!0,selectable:!0,compact:!0,unstackable:!0,singleLine:!0},r.createElement(o.A,null,r.createElement(i.A,null,r.createElement(l.A,null,u.Ay.t("competitions.results_table.event")),r.createElement(l.A,null,u.Ay.t("competitions.results_table.round")),r.createElement(l.A,null,r.createElement("a",{href:"#format"},u.Ay.t("competitions.events.format"))),r.createElement(l.A,null,r.createElement("a",{href:"#time-limit"},u.Ay.t("competitions.events.time_limit"))),e["uses_cutoff?"]&&r.createElement(l.A,null,r.createElement("a",{href:"#cutoff"},u.Ay.t("competitions.events.cutoff"))),r.createElement(l.A,null,u.Ay.t("competitions.events.proceed")),e["uses_qualification?"]&&r.createElement(l.A,null,u.Ay.t("competitions.events.qualification")))),r.createElement(s.A,null,t.map((n=>n.rounds.map(((a,o)=>r.createElement(i.A,{key:a.id},0===o&&r.createElement(c.A,{rowSpan:n.rounds.length},d.AZ.byId[n.id].name),r.createElement(c.A,null,u.Ay.t(`rounds.${(0,m.An)(o+1,n.rounds.length,Boolean(a.cutoff))}.cell_name`)),r.createElement(c.A,null,a.cutoff&&`${d.Fx.byId[a.cutoff.numberOfAttempts].shortName} / `,d.Fx.byId[a.format].shortName),r.createElement(c.A,null,(0,m.fI)(a,t),null!==a.timeLimit&&r.createElement(r.Fragment,null,1===a.timeLimit.cumulativeRoundIds.length&&r.createElement("a",{href:"#cumulative-time-limit"},"*"),a.timeLimit.cumulativeRoundIds.length>1&&r.createElement("a",{href:"#cumulative-across-rounds-time-limit"},"**"))),e["uses_cutoff?"]&&r.createElement(c.A,null,a.cutoff&&(0,m.qY)(a)),r.createElement(c.A,null,a.advancementCondition&&(0,m.Oh)(a)),e["uses_qualification?"]&&r.createElement(c.A,null,0===o&&(0,m.Id)(n,n.qualification))))))))))}},83077:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(96540);function a(e,t=1e3){const[n,a]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const n=setInterval((()=>{a(e)}),t);return()=>clearInterval(n)}),[e,t]),n}},83080:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(96540),a=n(95472),o=n(66048),i=n(83995),l=n(41935),s=n(16523),c=n(13113),u=n(12845),d=n(7862),m=n(80405),p=n(1460);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v=Object.keys(i.P).map((e=>({key:e,text:p.Ay.t(`enums.user_roles.ban_scope.${e}`),value:e})));function y({sync:e,banAction:t,banActionRole:n,closeForm:p}){const[f,E]=(0,r.useState)({user:null,endDate:null===n||void 0===n?void 0:n.end_date,banReason:null===n||void 0===n?void 0:n.metadata.ban_reason,scope:null===n||void 0===n?void 0:n.metadata.scope}),[y,A]=(0,r.useState)(),{save:b,saving:h}=(0,u.A)(),_=(e,{name:t,value:n})=>E(g(g({},f),{},{[t]:n})),w="new"===t?()=>{var t;b(o.VB.userRoles.create(),{userId:null===f||void 0===f||null===(t=f.user)||void 0===t?void 0:t.id,groupType:i.Hn.banned_competitors,endDate:null===f||void 0===f?void 0:f.endDate,banReason:null===f||void 0===f?void 0:f.banReason,scope:null===f||void 0===f?void 0:f.scope},(()=>{e(),p()}),{method:"POST"},A)}:()=>{b(o.VB.userRoles.update(n.id),{endDate:null===f||void 0===f?void 0:f.endDate,banReason:null===f||void 0===f?void 0:f.banReason,scope:null===f||void 0===f?void 0:f.scope},(()=>{e(),p()}),{method:"PATCH"},A)};return h?r.createElement(d.default,null):y?r.createElement(m.default,{error:y}):r.createElement(a.A,{onSubmit:w},"new"===t&&r.createElement(a.A.Field,{label:"New Banned competitor",control:l.default,name:"user",value:null===f||void 0===f?void 0:f.user,onChange:_,model:s.default.user,multiple:!1}),r.createElement(a.A.Field,{label:"End Date",name:"endDate",control:c.default,showYearDropdown:!0,dateFormatOverride:"yyyy-MM-dd",dropdownMode:"select",isoDate:null===f||void 0===f?void 0:f.endDate,onChange:e=>_(0,{name:"endDate",value:e})}),r.createElement(a.A.Input,{label:"Ban Reason",name:"banReason",value:null===f||void 0===f?void 0:f.banReason,onChange:_}),r.createElement(a.A.Dropdown,{label:"Ban Scope",name:"scope",value:null===f||void 0===f?void 0:f.scope,onChange:_,options:v}),r.createElement(a.A.Button,{onClick:p},"Cancel"),r.createElement(a.A.Button,{type:"submit"},"Save"))}},83615:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},I:function(){return l}});var r=n(53481),a=n(19927),o=n(68980),i=n.p+"static/lib/leaflet-wca/marker-icon-red-8b9022a66c7385bf5864.png";const l=new r.Icon({iconUrl:i,shadowUrl:o,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),s=new r.Icon({iconUrl:a,shadowUrl:o,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})},83744:function(e,t,n){"use strict";n.r(t),n.d(t,{generateWcifRound:function(){return u},removeSharedTimeLimits:function(){return d},roundCutoffToString:function(){return m}});var r=n(83995),a=n(21531),o=n(278);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={centiseconds:6e4,cumulativeRoundIds:[]},u=(e,t)=>{const n=r.AZ.byId[e];return{id:(0,a.fW)({eventId:e,roundNumber:t}),format:n.recommendedFormat().id,timeLimit:n.canChangeTimeLimit?c:null,cutoff:null,advancementCondition:null,results:[],groups:[],scrambleSetCount:1}},d=(e,t)=>e.rounds?l(l({},e),{},{rounds:e.rounds.map((e=>((e,t)=>e.timeLimit?l(l({},e),{},{timeLimit:l(l({},e.timeLimit),{},{cumulativeRoundIds:e.timeLimit.cumulativeRoundIds.filter((e=>!t.includes(e)))})}):e)(e,t)))}):e,m=(e,{short:t}={})=>{const{cutoff:n}=e;if(!n)return"-";const{eventId:i}=(0,a.Eh)(e.id),l=(0,o.rY)(n.attemptResult,i,{short:t});if(t)return`Best of ${n.numberOfAttempts} ${l}`;let s=`Competitors get ${(0,o.td)(n.numberOfAttempts,"attempt")} to get ${l}.`;return s+=` If they succeed, they get to do all ${r.Fx.byId[e.format].expectedSolveCount} solves.`,s}},83811:function(e,t,n){"use strict";n.r(t),n.d(t,{CONNECTION_COLORS:function(){return s},CONNECTION_STATE_CONNECTED:function(){return i},CONNECTION_STATE_DISCONNECTED:function(){return l},CONNECTION_STATE_INITIALIZED:function(){return o},default:function(){return c}});var r=n(96540),a=n(5997);const o="initialized",i="connected",l="disconnected",s={[o]:"yellow",[i]:"green",[l]:"red"};function c(e,t){const[n,s]=(0,r.useState)();return(0,r.useEffect)((()=>{const n=(0,a.Be)().subscriptions.create({channel:"LiveResultsChannel",round_id:e},{received:t,initialized:()=>s(o),connected:()=>s(i),disconnected:()=>s(l)});return()=>n.unsubscribe()}),[e,t]),n}},85094:function(e,t,n){"use strict";n.r(t);var r=n(97286),a=n(66048),o=n(45567);t.default=()=>{const{data:e,isPending:t}=(0,r.I)({queryKey:["delegates-index"],queryFn:()=>(0,o.o)(a.VB.delegates.searchIndex)});return{delegatesLoading:t,delegatesData:null===e||void 0===e?void 0:e.data}}},85111:function(e,t,n){"use strict";n.r(t),n.d(t,{DNF_KEYS:function(){return r},DNS_KEYS:function(){return a}});const r=["d","D","/"],a=["s","S","*"]},85353:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(96540),a=n(31746),o=n(84941),i=n(14526),l=n(79519),s=n(66048),c=n(83995),u=n(7862),d=n(80405),m=n(1460),p=n(96285);var f=e=>{if(!e)return null;const t=p.c9.local(),n=p.c9.fromISO(e),r=t.diff(n,["years","months","days"]);return Math.floor(r.as("days"))};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=[{label:"Delegate Name",key:"user.name"},{label:"WCA ID",key:"user.wca_id"},{label:"Status",key:"status"},{label:"Location",key:"metadata.location"},{label:"First Delegated",key:"metadata.first_delegated"},{label:"Last Delegated",key:"metadata.last_delegated"},{label:"Total Delegated",key:"metadata.total_delegated"},{label:"Date Since Last Delegated",key:"date_since_last_delegated"}];function A(){const{data:e,loading:t,error:n}=(0,l.A)(s.VB.userRoles.list({groupType:c.Hn.delegate_regions,isActive:!0,isLead:!0},"name")),{data:p,loading:g,error:v}=(0,l.A)(s.VB.userRoles.list({groupType:c.Hn.delegate_regions,isActive:!0,isLead:!1},"name",1e3)),A=(0,r.useMemo)((()=>null===p||void 0===p?void 0:p.map((e=>E(E({},e),{},{status:m.Ay.t(`enums.user_roles.status.delegate_regions.${e.metadata.status}`),date_since_last_delegated:f(e.metadata.last_delegated)})))),[p]);return t||g?r.createElement(u.default,null):n||v?r.createElement(d.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h3"},"Lead Delegates"),r.createElement(i.default,{delegates:e,isAdminMode:!0,isAllLeadDelegates:!0}),r.createElement(a.A,{as:"h3"},"Other Delegates"),r.createElement(o.CSVLink,{data:A,headers:y,filename:"Delegates.csv"},"Download CSV"),r.createElement(i.default,{delegates:A,isAdminMode:!0,isAllNonLeadDelegates:!0}))}},85647:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96540),a=n(95522),o=n(64173);function i({allTags:e}){return r.createElement(a.A,null,r.createElement(o.default,{allTags:e,header:"New Post"}))}},85895:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(2543),o=n.n(a),i=n(95472),l=n(83995),s=n(1460);const c=o().map(l.Tf.byId,(e=>({key:e.id,text:e.name,value:e.id})));t.default=function({name:e,gender:t,onChange:n,disabled:a=!1}){return r.createElement(i.A.Select,{name:e,label:s.Ay.t("activerecord.attributes.user.gender"),value:t,options:c,onChange:n,disabled:a})}},86029:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(96540),a=n(53959),o=n(35907),i=n(46942),l=n.n(i),s=n(66048),c=n(34975),u=n(51319);function d(e){if(!e)return"";switch(e){case"WR":case"NR":return e;default:return"CR"}}var m=function({result:e,index:t,results:n,adminMode:i}){return r.createElement(a.A.Row,null,r.createElement(a.A.Cell,{className:l()({"text-muted":t>0&&n[t-1].pos===e.pos})},e.pos,i&&r.createElement("a",{href:(0,s.T5)(e.id),"aria-label":"Edit",role:"menuitem",className:"edit-link"},r.createElement(o.A,{name:"pencil"}))),r.createElement(a.A.Cell,null,r.createElement("a",{href:(0,s.hs)(e.wca_id)},`${e.name}`)),r.createElement(a.A.Cell,{className:d(e.regional_single_record)},(0,u.U2)(e.best,e.event_id)),r.createElement(a.A.Cell,null,e.regional_single_record),r.createElement(a.A.Cell,{className:d(e.regional_average_record)},(0,u.U2)(e.average,e.event_id)),r.createElement(a.A.Cell,null,e.regional_average_record),r.createElement(a.A.Cell,null,r.createElement(c.default,{iso2:e.country_iso2})),r.createElement(a.A.Cell,{className:"333mbf"===e.event_id||"333mbo"===e.event_id?"table-cell-solves-mbf":"table-cell-solves"},(0,u.gy)(e,e.event_id)))}},86552:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(4713),o=n(31473),i=n(35907);function l({pagination:e,totalPages:t,totalEntries:n,allowChangingEntriesPerPage:l=!0,entriesPerPageOptions:s=[10,25,50,100]}){const{entriesPerPage:c,setEntriesPerPage:u,activePage:d,setActivePage:m}=e,[p,f]=[(d-1)*c,Math.min(d*c,n)-1],g=s.map((e=>({key:e,text:e,value:e})));return 0===n?r.createElement("span",null,"No results"):r.createElement("div",null,l&&r.createElement("span",null,r.createElement("span",null,`Showing entries ${p+1} to ${f+1} of ${n} with `,r.createElement(a.A,{compact:!0,options:g,onChange:(e,t)=>{u(t.value)},value:c})," ","per page")),r.createElement("span",{style:{float:"right"}},r.createElement(o.A,{activePage:d,onPageChange:(e,{activePage:t})=>m(t),totalPages:t,boundaryRange:0,siblingRange:2,ellipsisItem:null,firstItem:{content:r.createElement(i.A,{name:"angle double left"}),icon:!0},lastItem:{content:r.createElement(i.A,{name:"angle double right"}),icon:!0},prevItem:{content:r.createElement(i.A,{name:"angle left"}),icon:!0},nextItem:{content:r.createElement(i.A,{name:"angle right"}),icon:!0}})))}},86583:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/LogoImages/WCA Logo Only Positive Primary-de8bfbd9d4fde40ccc22.svg"},87142:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(96540),a=n(56622),o=n(7862),i=n(34260),l=n(52322),s=n(89407),c=n(77791),u=n(95522),d=n(58894),m=n(37166),p=n(64417),f=n(19529),g=n(70553),E=n(83077),v=n(43703),y=n(27227);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=["accepted","pending","waiting_list"],w=(e=[])=>({competing:{event_ids:e,comment:""},guests:0}),C=({registration:e,competitionInfo:t,preferredEvents:n,qualifications:r})=>{const a=t.events_per_registration_limit?[]:n.filter((e=>t.event_ids.includes(e))).filter((e=>!t["uses_qualification?"]||(0,y.m)(e,r.wcif,r.personalRecords)));if(e){if("cancelled"===e.competing.registration_status){const e=w(a);return b(b({},e),{},{competing:b(b({},e.competing),{},{registration_status:"cancelled"})})}return e}return w(a)};function S({competitionInfo:e,userInfo:t,registrationId:n,userCanPreRegister:a,preferredEvents:o,qualifications:l,stripePublishableKey:m="",connectedAccountId:p="",cannotRegisterReasons:f,isProcessing:g=!1}){return r.createElement(u.A,null,r.createElement(s.Ay,{reducer:c.default,initialState:{messages:[]}},r.createElement(d.A,null,r.createElement(i.default,{competitionInfo:e,userInfo:t,registrationId:n,isProcessing:g},r.createElement(I,{competitionInfo:e,userInfo:t,userCanPreRegister:a,preferredEvents:o,stripePublishableKey:m,connectedAccountId:p,qualifications:l,cannotRegisterReasons:f})))))}function I({userCanPreRegister:e,competitionInfo:t,qualifications:n,userInfo:s,preferredEvents:c,connectedAccountId:u,stripePublishableKey:d,cannotRegisterReasons:y}){const A=(0,E.default)((()=>(0,p.Pc)(t.registration_open))),b=(0,E.default)((()=>(0,p.Un)(t.registration_close))),{isFetching:h,registration:w}=(0,i.useRegistration)();if(h)return r.createElement(o.default,null);if(y.length>0)return r.createElement(f.default,{reasons:y,competitionInfo:t,userInfo:s});const S=A&&b,I=w&&_.includes(w.competing.registration_status),P=S||e&&b||I,O=C({registration:w,competitionInfo:t,preferredEvents:c,qualifications:n});return r.createElement(r.Fragment,null,r.createElement(m.default,{registrationStart:t.registration_open}),r.createElement(g.default,{registrationEnd:t.registration_close}),P&&r.createElement(v.default,{initialObject:O},r.createElement(l.default,null),r.createElement(a.default,{user:s,preferredEvents:c,competitionInfo:t,registration:w,connectedAccountId:u,stripePublishableKey:d,qualifications:n,registrationCurrentlyOpen:S})))}},87185:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(65632),o=n(24106),i=n(3487),l=n(35907),s=n(95472),c=n(89407),u=n(58894),d=n(37700);t.default=function({room:e}){const t=(0,c.wA)(),n=(0,u.S)(),m=(n,{name:r,value:a})=>{t((0,d.editRoom)(e.id,r,a))};return r.createElement(a.A,{fluid:!0,raised:!0},r.createElement(a.A.Content,null,r.createElement(a.A.Header,null,r.createElement(o.A,{content:"Remove",position:"top center",trigger:r.createElement(i.A,{floated:"right",compact:!0,icon:!0,negative:!0,onClick:()=>{n({content:`Are you sure you want to delete the room ${e.name}? This will also delete all associated schedules. THIS ACTION CANNOT BE UNDONE!`}).then((()=>t((0,d.removeRoom)(e.id))))}},r.createElement(l.A,{name:"trash"}))}),r.createElement(o.A,{content:"Copy",position:"top center",trigger:r.createElement(i.A,{floated:"right",compact:!0,icon:!0,onClick:()=>{t((0,d.copyRoom)(e.id))}},r.createElement(l.A,{name:"copy"}))})),r.createElement(a.A.Description,null,r.createElement(s.A,null,r.createElement(s.A.Input,{id:"room-name",label:"Name",name:"name",value:e.name,onChange:m}),r.createElement(s.A.Input,{className:"room-color-cell",label:"Color",name:"color",type:"color",value:e.color,onChange:m})))))}},87412:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(96540),a=n(21295),o=n(3487),i=n(35907),l=n(2543),s=n.n(l),c=n(66048),u=n(83995),d=n(12845),m=n(7862),p=n(91283);const f="Tickets";function g({ticketDetails:e,currentStakeholder:t,onCancel:n,sync:i}){const{ticket:{id:l,metadata:g,metadata_type:E}}=e,v=s().snakeCase(s().replace(E,f,"")),[y,A]=(0,p.A)(g.status),{save:b,saving:h}=(0,d.A)(),_=(0,r.useMemo)((()=>Object.keys(u.XE[v]).map((e=>({key:e,text:u.XE[v][e],value:e})))),[v]);return h?r.createElement(m.default,null):r.createElement(r.Fragment,null,r.createElement("span",null,"Status: "),r.createElement(a.A,{inline:!0,options:_,value:y,onChange:A})," ",r.createElement(o.A,{primary:!0,disabled:y===g.status,onClick:()=>{return e=y,void b(c.v9.tickets.updateStatus(l),{ticket_status:e,acting_stakeholder_id:t.id},i,{method:"POST"});var e}},"Save")," ",r.createElement(o.A,{onClick:n},"Cancel"))}function E({ticketDetails:e,currentStakeholder:t,sync:n}){const{ticket:{metadata:a}}=e,[o,l]=(0,r.useState)(!1);return o?r.createElement(g,{ticketDetails:e,currentStakeholder:t,onCancel:()=>l(!1),sync:n}):r.createElement(r.Fragment,null,r.createElement("span",null,`Status: ${a.status}`)," ",r.createElement(i.A,{name:"edit",link:!0,onClick:()=>l(!0)}))}},87462:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(6475),o=n(97286),i=n(24880),l=n(27089),s=n(31746),c=n(3487),u=n(35907),d=n(8829),m=n(5074),p=n(95472),f=n(1460),g=n(66048),E=n(45567),v=n(51540),y=n(23922),A=n(66708),b=n(74596),h=n(27066),_=n(13797),w=n(81922);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function({canViewAdminDetails:e=!1}){const t=(0,r.useMemo)((()=>new URLSearchParams(window.location.search)),[]),[n,C]=(0,r.useReducer)(b.filterReducer,t,b.createFilterState),I=(0,_.A)(n,600),[P,O]=(0,r.useState)((()=>(0,b.getDisplayMode)(t))),[R,k]=(0,r.useState)(!1),j=(0,r.useMemo)((()=>(0,h.calculateQueryKey)(I,e)),[I,e]),T=e&&n.shouldShowAdminDetails;(0,r.useEffect)((()=>(0,b.updateSearchParams)(t,n,P)),[t,n,P]);const{data:x,fetchNextPage:D,isFetching:F,hasNextPage:M}=(0,a.q)({queryKey:["competitions",j],queryFn:({pageParam:t=1})=>{const n=(0,h.createSearchParams)(I,t,e);return(0,E.o)(`${g.VB.competitions.listIndex}?${n}`)},getNextPageParam:(e,t)=>{if(!(e.data.length<g.g6))return t.length+1}}),L=null===x||void 0===x?void 0:x.pages.flatMap((e=>e.data)),N=(null===L||void 0===L?void 0:L.map((e=>e.id)))||[],{data:$,isFetching:H}=(0,o.I)({queryFn:()=>(0,E.o)(g.VB.competitions.registrationData,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({ids:N})}),queryKey:["registration-info",...N],enabled:R&&N.length>0,placeholderData:i.rX,select:e=>e.data}),V=(0,r.useMemo)((()=>R?null===L||void 0===L?void 0:L.map((e=>{const t=null===$||void 0===$?void 0:$.find((t=>t.id===e.id));return t?S(S({},e),t):e})):L),[L,$,R]),[B,U]=(0,r.useState)(!0);return r.createElement(l.A,null,r.createElement(s.A,{as:"h2"},r.createElement(c.A,{floated:"right",icon:!0,labelPosition:"left",toggle:!0,active:!B,onClick:()=>U((e=>!e))},r.createElement(u.A,{name:"filter"}),B?f.Ay.t("competitions.index.hide_filters"):f.Ay.t("competitions.index.show_filters")),f.Ay.t("competitions.index.title")),r.createElement(d.A,{visible:B,animation:"slide down"},r.createElement(m.A,{raised:!0},r.createElement(c.A,{floated:"right",icon:!0,labelPosition:"left",size:"tiny",secondary:!0,onClick:()=>C({type:"reset"})},r.createElement(u.A,{name:"repeat"}),f.Ay.t("competitions.index.reset_filters")),r.createElement(v.default,{filterState:n,dispatchFilter:C,shouldShowAdminDetails:T,canViewAdminDetails:e}))),r.createElement(p.A,null,r.createElement(p.A.Group,{inline:!0},r.createElement(v.CompDisplayCheckboxes,{shouldIncludeCancelled:n.shouldIncludeCancelled,dispatchFilter:C,shouldShowRegStatus:R,setShouldShowRegStatus:k,shouldShowAdminDetails:T,canViewAdminDetails:e,displayMode:P})),r.createElement(p.A.Field,null,r.createElement(v.ToggleListOrMapDisplay,{displayMode:P,setDisplayMode:O}))),r.createElement(m.A,{basic:!0},"list"===P&&r.createElement(y.default,{competitions:V,filterState:I,shouldShowRegStatus:R,shouldShowAdminDetails:T,isLoading:F,regStatusLoading:H,fetchMoreCompetitions:D,hasMoreCompsToLoad:M}),"map"===P&&r.createElement(A.default,{competitions:"present"===I.timeOrder?null===V||void 0===V?void 0:V.filter((e=>!(0,w.LT)(e)&&!(0,w.ac)(e))):V,isLoading:F,fetchMoreCompetitions:D,hasMoreCompsToLoad:M})))}},87907:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(96540),a=n(2543),o=n.n(a),i=n(6957),l=n(91283),s=n(21531),c=n(99358),u=n(89407),d=n(72272),m=n(72220),p=n(278),f=n(58233),g=n(41798);const E=1,v=75;const y=(e,t,{type:n,level:r})=>{switch(n){case"ranking":return`The top ${r} competitors from round ${t} will advance to round ${t+1}.`;case"percent":return`The top ${r}% competitors from round ${t} will advance to round ${t+1}.`;case"attemptResult":return`Everyone in round ${t} with a result ${(0,p.rY)(r,e.id)} will advance to round ${t+1}.`;default:return""}};function A({eventId:e,type:t,level:n,onChange:a}){switch(t){case"ranking":return r.createElement(r.Fragment,null,r.createElement(i.A,null,"Rank"),r.createElement("input",{type:"number",min:1,value:n,onChange:e=>a(parseInt(e.target.value,10)),label:"Ranking"}));case"percent":return r.createElement(r.Fragment,null,r.createElement(i.A,null,"Percent"),r.createElement("input",{type:"number",min:E,max:v,value:n,onChange:e=>a(parseInt(e.target.value,10)),label:"Percent"}));case"attemptResult":return"333mbf"===e?r.createElement(g.default,{label:r.createElement(i.A,null,"Result"),eventId:e,value:n,onChange:a,resultType:"single"}):r.createElement(m.default,{label:r.createElement(i.A,null,"Result"),eventId:e,value:n,onChange:a,resultType:"single"});default:return null}}const b=e=>"percent"===e?75:0;function h({wcifEvent:e,wcifRound:t,roundNumber:n,disabled:a}){var i,m;const{advancementCondition:g}=t,E=(0,u.wA)(),[v,h]=(0,l.A)(null!==(i=null===g||void 0===g?void 0:g.type)&&void 0!==i?i:""),[_,w]=(0,r.useState)(null!==(m=null===g||void 0===g?void 0:g.level)&&void 0!==m?m:b(v)),C=()=>!o().isEqual(g,v?{type:v,level:_}:null),S=`Requirement to advance past ${(0,s.yt)(t.id)}`,I=function(e,t){if(!t)return"-";switch(t.type){case"ranking":return`Top ${t.level}`;case"percent":return`Top ${t.level}%`;case"attemptResult":return(0,p.rY)(t.level,e,{short:!0});default:throw new Error(`Unrecognized advancementCondition type: ${t.type}`)}}(e.id,g);return r.createElement(c.default,{trigger:I,title:S,reset:()=>{var e,t;h(null!==(e=null===g||void 0===g?void 0:g.type)&&void 0!==e?e:""),w(null!==(t=null===g||void 0===g?void 0:g.level)&&void 0!==t?t:0)},onOk:()=>{C()&&E((0,d.updateAdvancementCondition)(t.id,v?{type:v,level:_}:null))},hasUnsavedChanges:C(),disabled:a,triggerButtonProps:{name:"advancementCondition"}},r.createElement(f.default,{advancementType:v,onChange:h}),!!v&&r.createElement(r.Fragment,null,r.createElement(A,{eventId:e.id,type:v,level:_,onChange:w}),r.createElement("br",null),r.createElement("p",null,y(e,n,{type:v,level:_}))))}},88486:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(63781),o=n(45567);const i="upload-image";function l(e,t,n){const r=e.codemirror,a=r.getCursor("start"),o=r.getCursor("end"),i=r.somethingSelected(),l=i?r.getSelection():prompt(n);l&&(r.replaceSelection(t.build(l)),i&&(a.ch+=t.start.length,o.ch+=t.start.length,r.setSelection(a,o)),r.focus())}function s({id:e,value:t,onChange:n,imageUploadEnabled:s=!0}){const c=(0,r.useMemo)((()=>function(e){return{toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list",{name:"table-custom",action:"\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text      | Text     |\n\n",title:"Insert Table",className:"fa fa-table"},"|","link",{name:"map",action:e=>{const t={start:"map(",end:")",build:e=>t.start+e+t.end};l(e,t,"Address or coordinates of the place:")},className:"fa fa-map-marker",title:"Insert Map"},{name:"youtube",action:function(e){const t={start:"youtube(",end:")",build:e=>t.start+e+t.end};l(e,t,"Full url to the YouTube video:")},className:"fa fa-youtube-play",title:"Insert YouTube Video"},...[e&&i].filter(Boolean),"|","preview","side-by-side","fullscreen","|","guide"],spellChecker:!1,promptURLs:!0,previewRender:function(e,t){const n=t;return this.markdownReqest&&clearTimeout(this.markdownReqest),this.markdownReqest=setTimeout((()=>{window.wca.renderMarkdownRequest(e).done((e=>{n.innerHTML=e}))}),window.wca.TEXT_INPUT_DEBOUNCE_MS),"Waiting..."},status:[e&&i].filter(Boolean),uploadImage:e,async imageUploadFunction(e,t,n){const r=new FormData;r.append("image",e);try{const e=await(0,o.V)("/upload/image",{method:"POST",body:r});t((await e.json()).filePath)}catch(a){n(a)}}}}(s)),[s]),u=(0,r.useCallback)((e=>n(null,{value:e})),[n]);return r.createElement(a.A,{id:e,value:t,onChange:u,options:c})}},88681:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(53959),a=n(50363),o=n(96540),i=n(1460),l=n(80824);function s({columnsExpanded:e,isChecked:t,onCheckboxChanged:n,sortDirection:s,sortColumn:c,onColumnClick:u,competitionInfo:d,withCheckbox:m=!0,withPosition:p=!1}){const{dob:f,events:g,comments:E}=e;return o.createElement(r.A.Header,null,o.createElement(r.A.Row,null,o.createElement(r.A.HeaderCell,{disabled:!0},m&&o.createElement(a.A,{checked:t,onChange:n})),p&&o.createElement(r.A.HeaderCell,{disabled:!0},"#"),o.createElement(r.A.HeaderCell,{disabled:!0}),o.createElement(r.A.HeaderCell,{sorted:"wca_id"===c?s:void 0,onClick:()=>u("wca_id")},i.Ay.t("common.user.wca_id")),o.createElement(r.A.HeaderCell,{sorted:"name"===c?s:void 0,onClick:()=>u("name")},i.Ay.t("delegates_page.table.name")),f&&o.createElement(r.A.HeaderCell,{sorted:"dob"===c?s:void 0,onClick:()=>u("dob")},i.Ay.t("activerecord.attributes.user.dob")),o.createElement(r.A.HeaderCell,{sorted:"country"===c?s:void 0,onClick:()=>u("country")},i.Ay.t("common.user.representing")),d["using_payment_integrations?"]?o.createElement(o.Fragment,null,o.createElement(r.A.HeaderCell,{sorted:"paid_on_with_registered_on_fallback"===c?s:void 0,onClick:()=>u("paid_on_with_registered_on_fallback")},i.Ay.t("registrations.list.registered.with_stripe")),o.createElement(r.A.HeaderCell,{sorted:"amount"===c?s:void 0,onClick:()=>u("amount")},i.Ay.t("competitions.registration_v2.update.amount"))):o.createElement(r.A.HeaderCell,{sorted:"registered_on"===c?s:void 0,onClick:()=>u("registered_on")},i.Ay.t("registrations.list.registered.without_stripe")),g?d.event_ids.map((e=>o.createElement(r.A.HeaderCell,{key:`event-${e}`,sorted:c===e?s:void 0,onClick:()=>u(e)},o.createElement(l.default,{id:e,size:"1em"})))):o.createElement(r.A.HeaderCell,{sorted:"events"===c?s:void 0,onClick:()=>u("events")},i.Ay.t("competitions.competition_info.events")),o.createElement(r.A.HeaderCell,{sorted:"guests"===c?s:void 0,onClick:()=>u("guests")},i.Ay.t("competitions.competition_form.labels.registration.guests_enabled")),E&&o.createElement(o.Fragment,null,o.createElement(r.A.HeaderCell,{sorted:"comment"===c?s:void 0,onClick:()=>u("comment")},i.Ay.t("activerecord.attributes.registration.comments")),o.createElement(r.A.HeaderCell,{sorted:"administrative_notes"===c?s:void 0,onClick:()=>u("administrative_notes")},i.Ay.t("activerecord.attributes.registration.administrative_notes"))),o.createElement(r.A.HeaderCell,{disabled:!0},i.Ay.t("registrations.list.email"))))}},88887:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(45567),a=n(66048);async function o({competitionId:e,paymentId:t,paymentProvider:n,amount:o}){const{data:i}=await(0,r.o)((0,a.cB)(e,n,t),{body:JSON.stringify({payment:{refund_amount:o}}),headers:{"Content-Type":"application/json"},method:"POST"});return i}},88970:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(31746),o=n(60654),i=n(66048),l=n(83995),s=n(79519),c=n(7862),u=n(80405);function d(){const{data:e,loading:t,error:n}=(0,s.A)(i.VB.userRoles.list({groupType:l.Hn.delegate_regions,status:"senior_delegate"},"name"));return t?r.createElement(c.default,null):n?r.createElement(u.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h2"},"Senior Delegates List"),e.map((e=>r.createElement(r.Fragment,null,r.createElement(a.A,{as:"h4",key:e.user.id},e.user.name),r.createElement(o.A,null,r.createElement(o.A.Item,null,r.createElement(o.A.Content,null,r.createElement("a",{href:(0,i.up)(e.user.id)},"List of subordinate pending WCA ID claims")))),r.createElement(o.A,null,r.createElement(o.A.Item,null,r.createElement(o.A.Content,null,r.createElement("a",{href:(0,i.bt)(e.user.id)},"List of subordinate upcoming competitions"))))))))}},89027:function(e,t,n){"use strict";n.r(t),n.d(t,{CutoffFormatInput:function(){return s},CutoffFormatLabel:function(){return c},default:function(){return u}});var r=n(96540),a=n(95472),o=n(6957),i=n(83995);const l=[{key:0,value:0,text:"No cutoff"},{key:-1,value:-1,text:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500",disabled:!0}];function s({cutoffFormats:e,cutoffFormat:t,onChange:n}){const o=(0,r.useMemo)((()=>e.length>0?l.concat(e.map((e=>({value:parseInt(e,10),text:`Best of ${e}`})))):l.filter((({value:e})=>e>0))),[e]);return r.createElement(a.A.Select,{value:t,onChange:n,options:o,openOnFocus:!1,name:"cutoffFormat"})}function c({format:e}){return r.createElement(o.A,{pointing:!0},r.createElement("strong",null,"/"," ",i.Fx.byId[e].name))}function u({cutoffFormats:e,wcifRound:t,cutoffFormat:n,onChange:i}){return r.createElement(a.A.Field,{inline:!0},r.createElement(o.A,null,"Cutoff Format"),r.createElement(a.A.Input,{as:s,cutoffFormats:e,cutoffFormat:n,onChange:i}),r.createElement(c,{format:t.format}))}},89048:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(96540),a=n(87977),o=n(3487),i=n(91283),l=n(95385);function s({onClose:e,delegate:t,onSubmit:n}){var s,c;const[u,d]=(0,i.A)(null===t||void 0===t||null===(s=t.group)||void 0===s?void 0:s.id),[m,p]=(0,i.A)(null===t||void 0===t||null===(c=t.metadata)||void 0===c?void 0:c.location);return r.createElement(a.A,{open:!0,onClose:e},r.createElement(a.A.Header,null,"Edit Location"),r.createElement(a.A.Content,null,r.createElement(l.default,{groupId:u,setGroupId:d,location:m,setLocation:p})),r.createElement(a.A.Actions,null,r.createElement(o.A,{onClick:e},"Cancel"),r.createElement(o.A,{onClick:()=>n({groupId:u,location:m})},"Save")))}},89226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(8829),o=n(6957),i=n(83811),l=n(83077);const s=2e3;function c({connectionState:e,animationDuration:t=s}){const n=(0,l.default)((e=>!e),1.5*t),c=(0,r.useMemo)((()=>i.CONNECTION_COLORS[e]),[e]),u=(0,r.useMemo)((()=>e===i.CONNECTION_STATE_CONNECTED),[e]);return r.createElement(a.A,{animation:"flash",duration:t,visible:!u||n},r.createElement(o.A,{circular:!0,empty:!0,color:c}))}},89407:function(e,t,n){"use strict";n.d(t,{Ay:function(){return o},Pj:function(){return i},wA:function(){return l}});var r=n(96540);const a=(0,r.createContext)();function o({children:e,reducer:t,initialState:n}){const[o,i]=(0,r.useReducer)(t,n),l=(0,r.useMemo)((()=>[o,i]),[o,i]);return r.createElement(a.Provider,{value:l},e)}const i=()=>(0,r.useContext)(a)[0],l=()=>(0,r.useContext)(a)[1]},89671:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(52011),o=n(25119);t.default=function({scramble:e}){return r.createElement(a.default,{initDataItem:e,dataType:"scramble",EditForm:o.InlineEditForm})}},89740:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(96540),a=n(73574),o=n(95472),i=n(54070),l=n(63129),s=n(73591),c=n(3487),u=n(73413),d=n(2543),m=n.n(d),p=n(66048),f=n(12845),g=n(1460),E=n(54565),v=n(7862),y=n(89407),A=n(50495),b=n(2577),h=n(96974),_=n(55521),w=n(65974),C=n(80405);const S=["competition","wct","wrt","wst"],I=m().keyBy(S,m().camelCase),P=e=>{if(e.contactRecipient===I.wrt){if("edit_profile"===e[I.wrt].queryType)return p.Zz;if("edit_others_profile"===e[I.wrt].queryType)return p.UZ}return null};function O({loggedInUserData:e,recaptchaPublicKey:t}){var n;const{save:d,saving:m}=(0,f.A)(),[O,R]=(0,r.useState)(),[k,j]=(0,r.useState)(!1),[T,x]=(0,r.useState)(),[D,F]=(0,r.useState)(!1),M=(0,y.Pj)(),L=(0,y.wA)(),{formValues:{contactRecipient:N,userData:$}}=M,H=P(M.formValues),V=N&&$.name&&$.email&&(O||H),B=()=>{var t,n;L((0,A.clearForm)({userName:null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name,userEmail:null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.email})),F(!0)},U=(e,{value:t})=>{F(!1),L((0,A.updateContactRecipient)(t))},q=(0,r.useMemo)((()=>{if(!N)return null;switch(N){case I.competition:return w.default;case I.wct:return b.default;case I.wrt:return h.default;case I.wst:return _.default;default:return null}}),[N]);return m?r.createElement(v.default,null):T?r.createElement(C.default,{error:T}):r.createElement(r.Fragment,null,(null===(n=M.formValues)||void 0===n||null===(n=n.competition)||void 0===n?void 0:n.message)&&r.createElement(a.A,{warning:!0,content:g.Ay.t("page.contacts.prefilled")}),D&&r.createElement(a.A,{success:!0,content:g.Ay.t("page.contacts.success_message")}),r.createElement(o.A,{onSubmit:()=>{if(V){const e=new FormData;e.append("formValues",JSON.stringify(M.formValues)),e.append("attachment",M.attachments[0]),d(p._K,e,B,{method:"POST",headers:{},body:e},x)}},error:!!k},r.createElement(E.default,{loggedInUserData:e}),r.createElement(i.A,{grouped:!0},r.createElement("div",null,g.Ay.t("page.contacts.form.contact_recipient.label")),S.map((e=>r.createElement(l.A,{key:e},r.createElement(s.A,{label:g.Ay.t(`page.contacts.form.contact_recipient.${e}.label`),name:"contactRecipient",value:e,checked:N===e,onChange:U}))))),q&&r.createElement(q,null),H?r.createElement(c.A,{disabled:!V,href:H},g.Ay.t("page.contacts.form.next_button")):r.createElement(r.Fragment,null,r.createElement(l.A,null,r.createElement(u.A,{sitekey:t,onChange:R,onErrored:j}),k&&r.createElement(a.A,{error:!0,content:g.Ay.t("page.contacts.form.captcha.validation_error")})),r.createElement(c.A,{disabled:!V,type:"submit"},g.Ay.t("page.contacts.form.submit_button")))))}},90032:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(16147),o=n(60654),i=n(24106),l=n(6957),s=n(46942),c=n.n(s),u=n(2543),d=n.n(u),m=n(21531),p=n(83995),f=n(18858);function g({wcifRoom:e,wcifEvent:t,wcifRound:n}){if(["333fm","333mbf"].includes(t.id)){const t=p.Fx.byId[n.format].expectedSolveCount;return d().times(t,(t=>r.createElement(E,{key:t,wcifRoom:e,activityCode:`${n.id}-a${t+1}`})))}return r.createElement(E,{wcifRoom:e,activityCode:n.id})}function E({wcifRoom:e,activityCode:t}){const n=!(0,r.useMemo)((()=>e.activities.map((e=>e.activityCode))),[e.activities]).includes(t),a=(0,f.Se)(t);return r.createElement(i.A,{content:(0,f.W0)(a),trigger:r.createElement(l.A,{className:n?"fc-draggable":"",color:n?"blue":"grey","wcif-ac":t},(0,m.uu)(t))})}t.default=function({wcifEvents:e,wcifRoom:t,listRef:n}){return r.createElement(r.Fragment,null,r.createElement(a.o,{innerRef:n},r.createElement(o.A,{relaxed:!0},e.map((e=>r.createElement(o.A.Item,{key:e.id},r.createElement(o.A.Icon,{className:c()("cubing-icon",`event-${e.id}`),verticalAlign:"middle",size:"large"}),r.createElement(o.A.Content,null,e.rounds.map((n=>r.createElement(g,{key:n.id,wcifRoom:t,wcifEvent:e,wcifRound:n}))))))))),r.createElement("p",null,"Want to add a custom activity such as lunch or registration? Click and select a timeframe on the calendar!"))}},90161:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(1489),i=n(46082),l=n(91252),s=n(51319),c=n(54076);t.default=function({state:e,setState:t,eventId:n,computeAverage:u}){const{attempts:d,markerBest:m,markerAvg:p}=e,f=(0,c.A)(t,"markerBest"),g=(0,c.A)(t,"markerAvg");return r.createElement(a.A,null,r.createElement(o.A,{stackable:!0,padded:!0,columns:2},r.createElement(o.A.Column,{className:"attempts-column"},d.map(((e,a)=>r.createElement(i.default,{key:a,index:a,attempt:e,setState:t,eventId:n})))),r.createElement(o.A.Column,null,r.createElement(a.A.Input,{label:"Best",readOnly:!0,value:(0,s.U2)((0,s.bE)(d),n),action:r.createElement(l.default,{onChange:f,marker:m})}),u&&r.createElement(a.A.Input,{label:"Average",readOnly:!0,value:(0,s.U2)((0,s.G8)(e.attempts,n),n),action:r.createElement(l.default,{onChange:g,marker:p})}))))}},90189:function(e,t,n){"use strict";n.r(t),n.d(t,{AddChampionshipButton:function(){return g},ChampionshipSelect:function(){return f}});var r=n(96540),a=n(59846),o=n(95472),i=n(35907),l=n(3487),s=n(2543),c=n.n(s),u=n(83995),d=n(1460);const m=(e,t)=>{switch(e){case"planetary":return d.Ay.t("competitions.competition_form.championship_types.world");case"continental":return d.Ay.t(`continents.${t.replace(/_/g,"")}`);case"multi-national":return d.Ay.t(`competitions.competition_form.championship_types.${t}`)||d.Ay.t("competitions.competition_form.championship_types.generic",{type:t});case"national":return d.Ay.t(`countries.${t}`);default:return t}},p=Object.keys(u.dM).flatMap((e=>{const t=u.dM[e].map((t=>({key:t,value:t,text:m(e,t)})));return[{as:a.A,key:e,text:c().capitalize(e),disabled:!0},...t]}));function f({value:e,onChange:t,onRemove:n}){return r.createElement(o.A.Group,null,r.createElement(o.A.Select,{width:6,options:p,value:e,onChange:t}),r.createElement(o.A.Button,{icon:!0,negative:!0,onClick:n},r.createElement(i.A,{inverted:!0,name:"close"})))}function g({onClick:e}){return r.createElement(l.A,{basic:!0,icon:!0,onClick:e,type:"button"},r.createElement(i.A,{name:"plus"}),d.Ay.t("competitions.competition_form.add_championship"))}},90509:function(e,t,n){"use strict";n.r(t),n.d(t,{mapRankingsData:function(){return i},rankingsConfig:function(){return l}});var r=n(1460),a=n(83995),o=n(44721);function i(e,t){const{rows:n,competitionsById:o}=e,[i,l,s]=t?n:[n,0,0];return i.reduce(((e,t,n)=>{const i=o[t.competition_id],{value:c}=t,u=e[e.length-1],d=(null===u||void 0===u?void 0:u.result.value)||0,m=(null===u||void 0===u?void 0:u.rank)||0,p=c===d?m:n+1,f=p===m,g=function(e,t,n,o){return o<t?{name:r.Ay.t("results.table_elements.world")}:o>=t&&o<n?a.ot.real.find((t=>t.id===a.Xr.byId[e.country_id].continentId)):a.Xr.byId[e.country_id]}(t,l,s,n);return[...e,{result:t,competition:i,country:g,rank:p,tiedPrevious:f}]}),[])}const l=(e,t)=>["by region"===e?o.regionColumn:o.rankColumn,o.personColumn,o.attemptResultColumn,"by region"!==e&&o.representingColumn,o.competitionColumn,t&&o.resultsFiveWideColumn].filter(Boolean)},90765:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(95472),o=n(2543),i=n.n(o),l=n(85111),s=n(51319);function c(e){if(""===e)return s.fH;if("DNF"===e)return s.Pf;if("DNS"===e)return s.IG;const t=i().toInteger(e.replace(/\D/g,""))||0;return 36e4*Math.floor(t/1e6)+6e3*Math.floor(t%1e6/1e4)+100*Math.floor(t%1e4/100)+t%100}function u(e){return e===s.fH?"":e===s.Pf?"DNF":e===s.IG?"DNS":(0,s.xb)(e)}t.default=function({value:e,onChange:t,label:n,disabled:o,TextFieldProps:d={}}){const[m,p]=(0,r.useState)(e),[f,g]=(0,r.useState)(u(e));m!==e&&(g(u(e)),p(e));const E=(0,r.useCallback)((e=>{const t=e.nativeEvent.data;l.DNF_KEYS.includes(t)?g("DNF"):l.DNS_KEYS.includes(t)?g("DNS"):g(function(e){const t=i().toInteger(e.replace(/\D/g,""))||0;if(0===t)return"";const n=`00000000${t.toString().slice(0,8)}`,[,r,a,o,l]=n.match(/(\d\d)(\d\d)(\d\d)(\d\d)$/);return`${r}:${a}:${o}.${l}`.replace(/^[0:]*(?!\.)/g,"")}(e.target.value))}),[g]),v=(0,r.useCallback)((()=>{const n=(r=f)===u(c(r))?c(f):s.fH;var r;t(n),g(u(e))}),[f,t,g,e]);return r.createElement(a.A.Input,Object.assign({},d,{label:n,disabled:o,spellCheck:!1,value:f,onChange:E,onBlur:v}))}},90844:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(3487),o=n(41935),i=n(91283),l=n(66048),s=n(83995),c=n(16523);function u({save:e,sync:t}){const[n,u]=(0,i.A)();return r.createElement(r.Fragment,null,r.createElement(o.default,{name:"user",value:n,onChange:u,multiple:!1,model:c.default.userRole,params:{groupType:s.Hn.delegate_regions}}),r.createElement(a.A,{onClick:()=>e(l.VB.userRoles.create(),{userId:n.item.user.id,groupType:s.Hn.delegate_probation},(()=>{t(),u(null)}),{method:"POST"}),disabled:!n},"Start Probation"))}},91142:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(56559),a=n(66048);async function o({competitionId:e,payload:t}){const n=(0,a.eM)(e),{data:o}=await(0,r.A)(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return o}},91252:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(21295);const o=n(83995).nQ.map((e=>({key:e,value:e,text:e})));t.default=function({onChange:e,marker:t}){return r.createElement(a.A,{button:!0,basic:!0,onChange:e,value:t,options:o})}},91283:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(96540);const a=(e,t=!1)=>(0,r.useCallback)(((n,r=void 0)=>{if(r)if(t){const t=Number(r.value);e(t)}else e(r.value);else e(n)}),[e,t]);t.A=(e=void 0,t=!1)=>{const[n,o]=(0,r.useState)(e);return[n,a(o,t)]}},91592:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(96540),a=n(95472);function o({label:e,children:t}){return r.createElement(a.A.Field,null,r.createElement("label",{dangerouslySetInnerHTML:{__html:e}}),t)}},91768:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(90447),o=n(615),i=n(52322),l=n(77791),s=n(89407),c=n(95522),u=n(58894);function d({competitionInfo:e}){const t=(0,r.useRef)();return r.createElement("div",{ref:t},r.createElement(c.A,null,r.createElement(s.Ay,{reducer:l.default,initialState:{messages:[]}},r.createElement(u.A,null,r.createElement(a.A,{context:t,offset:60},r.createElement(i.default,null)),r.createElement(o.default,{competitionInfo:e})))))}},92314:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(95472),o=n(77949),i=n(55227),l=n(34622),s=n(43703),c=n(64417);function u(){const{registration:{openingDateTime:e,closingDateTime:t}}=(0,s.useFormObject)(),{registration:{closingDateTime:n}}=(0,s.useFormInitialObject)(),u=(0,r.useMemo)((()=>(0,c.Mt)(n,"UTC")),[n]);return r.createElement(l.default,{section:"registration"},r.createElement(a.A.Group,{widths:"equal"},r.createElement(o.InputDate,{id:"openingDateTime",dateTime:!0,required:!0,selectsStart:!0,startDate:e,endDate:t}),r.createElement(o.InputDate,{id:"closingDateTime",dateTime:!0,required:!0,selectsEnd:!0,startDate:e,endDate:t,minDate:e,ignoreDisabled:u})),r.createElement(i.default,null))}},92562:function(e,t,n){"use strict";n.d(t,{k:function(){return l},V:function(){return s}});var r=n(18294),a=n(45567),o=n(66048);class i extends r.e4{endpoint({query:e}={}){const t=this.getParamString({q:e});return`${o.L5}?${t}`}async search({query:e}){const t=this.endpoint({query:e}),n=await(0,a.V)(t),r=await n.json();return this.parse({data:r})}}const l=new i,s={url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a>"}},92745:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(27089),o=n(95472),i=n(3487),l=n(36713),s=n(31746),c=n(35907),u=n(1460),d=n(57598),m=n(91283),p=n(701),f=n(83995);t.default=function({uploadDisabled:e,removalEnabled:t,onImageUploaded:n,onAvatarSaved:g,onAvatarDeleted:E}){const[v,y]=(0,p.A)(!1),[A,b]=(0,d.A)(!1),[h,_]=(0,r.useState)(),[w,C]=(0,r.useState)(!1),[S,I]=(0,m.A)();return(0,r.useEffect)((()=>{A&&C(!1)}),[A]),r.createElement(r.Fragment,null,r.createElement(a.A,null,r.createElement(o.A,{onSubmit:e=>{e.preventDefault(),A?(b(!1),_(""),g()):C(!0)}},r.createElement(o.A.Input,{required:!0,label:u.Ay.t("activerecord.attributes.user.pending_avatar"),type:"file",accept:f.gg.join(", "),value:h,onChange:(e,{value:t})=>{b(!1),_(t);const r=e.target.files[0];n(r)}}),r.createElement("p",null,u.Ay.t("simple_form.hints.user.pending_avatar")),r.createElement(o.A.Checkbox,{required:!0,label:u.Ay.t("users.edit.guidelines_confirmation"),disabled:e,checked:A,onChange:b,error:w}),r.createElement("p",null,u.Ay.t("users.edit.confirm_guidelines")),r.createElement(o.A.Button,{floated:"left",primary:!0,type:"submit",disabled:e},u.Ay.t("users.edit.save"))),t&&r.createElement(i.A,{floated:"right",negative:!0,active:v,onClick:y},u.Ay.t("users.edit.remove_avatar"))),v&&r.createElement(a.A,null,r.createElement(l.A,null),r.createElement(s.A,null,u.Ay.t("users.edit.remove_avatar_confirm")),r.createElement(o.A,{onSubmit:e=>{e.preventDefault(),E(S,(()=>{y(!1),I(null)}))}},r.createElement(o.A.TextArea,{required:!0,placeholder:u.Ay.t("users.edit.remove_avatar_reason"),value:S,onChange:I}),r.createElement(o.A.Button,{negative:!0,icon:!0},r.createElement(c.A,{name:"trash"}),u.Ay.t("users.edit.remove_avatar_confirm_button")))))}},92884:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(96540),a=n(27089),o=n(31746),i=n(50363),l=n(1489),s=n(13387),c=n(5074),u=n(21295),d=n(1460),m=n(66048),p=n(1026),f=n(79519),g=n(80405),E=n(7862),v=n(53254),y=n(83995),A=n(78075),b=n(82330),h=n(85353);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(){const{loggedInUserPermissions:e,loading:t}=(0,v.A)(),{data:n,loading:C,error:S}=(0,f.A)(m.VB.userGroups.list(y.Hn.delegate_regions,"name",{isActive:!0})),I=r.useMemo((()=>(null===n||void 0===n?void 0:n.filter((e=>null===e.parent_group_id)))||[]),[n]),P=r.useMemo((()=>null===n||void 0===n?void 0:n.reduce(((e,t)=>{if(t.parent_group_id){const r=n.find((e=>e.id===t.parent_group_id));if(r){const n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return n[r.id]=n[r.id]||[],n[r.id].push(t),n}}return e}),{})),[n]),[O,R]=(0,b.A)(),k=O===A.ALL_REGIONS.id,j=r.useMemo((()=>{if(k)return A.ALL_REGIONS;const e=I.findIndex((e=>e.metadata.friendly_id===O));var t;return-1===e&&I.length>0?(R(null===(t=I[0])||void 0===t?void 0:t.metadata.friendly_id),null):I[e]}),[I,O,k,R]),[T,x]=(0,r.useState)(!1),D=T||j===A.ALL_REGIONS&&e.canViewDelegateAdminPage,F=(0,r.useMemo)((()=>{const e=I.map((e=>({id:e.id,text:e.name,friendlyId:e.metadata.friendly_id})));return D&&e.push({id:A.ALL_REGIONS.id,text:A.ALL_REGIONS.name,friendlyId:A.ALL_REGIONS.id}),e}),[I,D]);return t||C||!j?r.createElement(E.default,null):S?r.createElement(g.default,null):j!==A.ALL_REGIONS||D?r.createElement(a.A,{fluid:!0},r.createElement(o.A,{as:"h1"},d.Ay.t("delegates_page.title")),r.createElement("p",null,r.createElement(p.default,{i18nKey:"about.structure.delegates_html",options:{see_link:""}})),r.createElement("p",null,r.createElement(p.default,{i18nKey:"delegates_page.acknowledges"})),e.canViewDelegateAdminPage&&r.createElement(i.A,{label:"Enable admin mode",toggle:!0,checked:D,onChange:(e,{checked:t})=>x(t)}),r.createElement(l.A,{centered:!0},r.createElement(l.A.Row,null,r.createElement(l.A.Column,{only:"computer",computer:4},r.createElement(o.A,null,d.Ay.t("delegates_page.regions")),r.createElement(s.A,{vertical:!0,fluid:!0},F.map((e=>r.createElement(s.A.Item,{key:e.id,content:e.text,active:e.friendlyId===O,onClick:()=>R(e.friendlyId)}))))),r.createElement(l.A.Column,{computer:12,mobile:16,tablet:16},r.createElement(c.A,null,r.createElement(l.A,{centered:!0},r.createElement(l.A.Row,{only:"computer"},r.createElement(o.A,null,j.name)),r.createElement(l.A.Row,{only:"tablet mobile"},r.createElement(u.A,{inline:!0,options:F.map((e=>({key:e.id,text:e.text,value:e.friendlyId}))),value:O,onChange:(e,{value:t})=>R(t)})),r.createElement(l.A.Row,null,r.createElement(l.A.Column,null,k?r.createElement(h.default,null):r.createElement(A.default,{activeRegion:j,delegateSubregions:P[j.id]||[],isAdminMode:D}))))))))):e.canViewDelegateAdminPage?r.createElement(E.default,null):r.createElement(g.default,null)}},93333:function(e,t,n){"use strict";var r=n(58202),a=n.n(r),o=n(16594);o((()=>{o(".image-preview-container").each(((e,t)=>{const n=o(t),r=o(n.data("inputSelector"));r.on("change",(()=>{a()(r[0].files[0],(e=>{"error"===e.type?console.error(e):n.empty().append(e)}),n.data())}))}))}));n(89463),n(66412),n(83142),n(16280),n(30067),n(4294),n(18107),n(10838),n(13451),n(46449),n(78350),n(44114),n(94490),n(26910),n(9678),n(57145),n(71658),n(93514),n(30237),n(13609),n(11558),n(54743),n(11745),n(16573),n(78100),n(77936),n(55081),n(18111),n(29314),n(81148),n(22489),n(20116),n(30531),n(7588),n(49603),n(61701),n(18237),n(13579),n(54972),n(61806),n(33110),n(47072),n(53921),n(77691),n(78347),n(96167),n(93518),n(9391),n(31689),n(14628),n(15472),n(84864),n(57465),n(27495),n(69479),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698),n(67357),n(42043),n(28543),n(25440),n(79978),n(67438),n(42762),n(39202),n(43359),n(34594),n(29833),n(46594),n(72107),n(95477),n(21489),n(22134),n(3690),n(61740),n(48140),n(75044),n(21903),n(91134),n(48345),n(52568),n(28845),n(373),n(37467),n(44732),n(79577),n(62953),n(55815),n(64979),n(79739),n(59848),n(122),n(71678),n(3296),n(2222),n(45781),n(27208),n(48408),n(14603),n(47566),n(98721),n(78624);var i=n(31173),l=n(96519),s=n(68533),c=n(45567);document.addEventListener("cookies-eu-acknowledged",(async()=>{const e=await(0,c.V)("/profile/acknowledge-cookies",{method:"POST"}),t=await e.json();if(401!==e.status){if(!e.ok)throw new Error(`${e.status}: ${e.statusText}\n${t.error}`);window.wca.gtag&&window.wca.gtag("consent","update",{ad_user_data:"granted",ad_personalization:"granted",ad_storage:"granted",analytics_storage:"granted"})}else console.warn("Attempt to record cookies acknowledged in the database failed because you're not logged in.")}));var u=n(16594);l.A.start(),n(16594),window.wca=window.wca||{},u((()=>{(0,i.A)(u("textarea:not(.no-autosize)")),u(".wca-local-time").each((function(){const e=u(this).data(),{utcTime:t,locale:n}=e;u(this).text((0,s.Pg)(t,n))}))})),window.wca.getUrlParams=s.al,window.wca.setUrlParams=s.uR;const d=n(69567);n(84840).useContext(d)},93846:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(96540),a=n(3487),o=n(77949),i=n(83995),l=n(18397),s=n(34622),c=n(43703),u=n(98805);const d=Object.keys(i.kW.byIso).map((e=>({key:e,value:e,text:`${i.kW.byIso[e].name} (${e})`})));function m(){const{venue:{countryId:e},entryFees:t,competitorLimit:n,registration:i}=(0,c.useFormObject)(),[m,p]=(0,r.useState)(!1),f=t.currencyCode,g=i&&i.allowOnTheSpot;return r.createElement(s.default,{section:"entryFees"},r.createElement(o.InputSelect,{id:"currencyCode",options:d,required:!0}),r.createElement(o.InputCurrencyAmount,{id:"baseEntryFee",currency:f,required:!0}),r.createElement(a.A,{onClick:()=>p(!0)},"Show Dues Estimate"),m&&r.createElement(u.default,{close:()=>p(!1),countryId:e,currencyCode:t.currencyCode,baseEntryFee:t.baseEntryFee,competitorLimit:n.count}),r.createElement(l.default,{showIf:g},r.createElement(o.InputCurrencyAmount,{id:"onTheSpotEntryFee",currency:f,required:g,ignoreDisabled:!0})),r.createElement(o.InputCurrencyAmount,{id:"guestEntryFee",currency:f}),r.createElement(o.InputBoolean,{id:"donationsEnabled",ignoreDisabled:!0}),r.createElement(o.InputNumber,{id:"refundPolicyPercent",min:0,max:100,step:1,required:!0}),r.createElement(o.InputDate,{id:"refundPolicyLimitDate",dateTime:!0,required:!0}))}},94028:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(83995);function a(e,t,n=!1){const a=r.kW.byIso[t];return`${a.symbol}${e/a.subunitToUnit} (${n?a.name:t})`}},94227:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(96540),a=n(53959),o=n(83995),i=n(2202);function l({wcifEvent:e,disabled:t}){const n=o.AZ.byId[e.id];return r.createElement(a.A,{unstackable:!0,basic:"very",textAlign:"center",size:"small",compact:"very"},r.createElement(a.A.Header,null,r.createElement(a.A.Row,null,r.createElement(a.A.HeaderCell,null,"#"),r.createElement(a.A.HeaderCell,null,"Format"),r.createElement(a.A.HeaderCell,null,"Scramble Sets"),n.canChangeTimeLimit&&r.createElement(a.A.HeaderCell,null,"Time Limit"),n.canHaveCutoff&&r.createElement(a.A.HeaderCell,null,"Cutoff"),r.createElement(a.A.HeaderCell,null,"To Advance"))),r.createElement(a.A.Body,null,e.rounds.map(((n,a)=>r.createElement(i.default,{key:n.id,index:a,wcifEvent:e,wcifRound:n,disabled:t})))))}},94295:function(e,t,n){"use strict";e.exports=n.p+"static/components/StaticPages/worlds-2015-ee3e23263ce41141a623.jpg"},94889:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(56559),a=n(66048);async function o(e){const t=(0,a.iW)(e),{data:n}=await(0,r.A)(t);return n}},95385:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(96540),a=n(95472),o=n(66048),i=n(83995),l=n(79519),s=n(80405),c=n(7862),u=n(1460);function d({groupId:e,setGroupId:t,location:n,setLocation:d}){const{data:m,loading:p,error:f}=(0,l.A)(o.VB.userGroups.list(i.Hn.delegate_regions)),g=(0,r.useMemo)((()=>null===m||void 0===m?void 0:m.find((t=>t.id===e))),[m,e]),E=(null===g||void 0===g?void 0:g.parent_group_id)||(null===g||void 0===g?void 0:g.id),v=null!==g&&void 0!==g&&g.parent_group_id?null===g||void 0===g?void 0:g.id:null,y=(0,r.useMemo)((()=>m?m.filter((e=>!e.parent_group_id)).map((e=>({key:e.id,text:e.name,value:e.id}))):[]),[m]),A=(0,r.useMemo)((()=>m?(m||[]).filter((e=>e.parent_group_id===E)).map((e=>({key:e.id,text:e.name,value:e.id}))):[]),[m,E]);return p?r.createElement(c.default,null):f?r.createElement(s.default,null):r.createElement(a.A,null,r.createElement(a.A.Dropdown,{inline:!0,label:u.Ay.t("activerecord.attributes.user.region"),fluid:!0,selection:!0,value:E,options:y,onChange:t}),A.length>0&&r.createElement(a.A.Dropdown,{inline:!0,label:u.Ay.t("activerecord.attributes.user.subRegion"),fluid:!0,selection:!0,value:v,options:A,onChange:t}),r.createElement(a.A.Input,{label:"Location",value:n,onChange:d}))}},95440:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(3487),o=n(21295),i=n(96285),l=n(2543),s=n(89407),c=n(52322),u=n(1460),d=n(83995),m=n(49876),p=n(58894);function f(e,t,n){!function(e,t,n){let r=`Status,Name,Country,WCA ID,Birth Date,Gender,${n.event_ids.join(",")},Email,Guests,IP,Registration Date Time (UTC),Payment Date Time(UTC),User Id,Registration Status,Registrant Id,Waiting List Position\n`;t.filter((t=>0===e.length||e.includes(t.user_id))).forEach((e=>{var t,a,o;r+=`${"accepted"===e.competing.registration_status?"a":"p"},"${e.user.name}","${null===(t=d.Xr.byIso2[null===(a=e.user.country)||void 0===a?void 0:a.iso2])||void 0===t?void 0:t.name}",${e.user.wca_id},${e.user.dob},${e.user.gender},${n.event_ids.map((t=>e.competing.event_ids.includes(t)?"1":"0"))},${e.user.email},${e.guests},"",${i.c9.fromISO(e.competing.registered_on).setZone("UTC").toFormat("yyyy-MM-dd HH:mm:ss ZZZZ")},${null!==(o=e.payment)&&void 0!==o&&o.has_paid?i.c9.fromISO(e.payment.updated_at).setZone("UTC").toFormat("yyyy-MM-dd HH:mm:ss ZZZZ"):""},${e.user_id},${e.competing.registration_status},${e.registrant_id},${e.competing.waiting_list_position||""}\n`}));const a=new Blob([r],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),l=document.createElement("a");l.href=o,l.setAttribute("download",`${n.id}-registration.csv`),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}(e,t.toSorted(((e,t)=>i.c9.fromISO(e.competing.registered_on).toMillis()-i.c9.fromISO(t.competing.registered_on).toMillis())),n)}function g({partitionedSelectedIds:e,refresh:t,registrations:n,spotsRemaining:i,competitionInfo:d,updateRegistrationMutation:g}){const v=(0,p.S)(),y=(0,s.wA)(),A=Object.values(e).reduce(((e,t)=>e+t.length),0),b=A>0,{pending:h,accepted:_,cancelled:w,waiting:C,rejected:S,nonCompeting:I}=e,P=h.length<A,O=_.length<A,R=w.length<A,k=C.length<A,j=S.length<A,T=(0,r.useMemo)((()=>Object.fromEntries((null!==n&&void 0!==n?n:[]).map((e=>[e.user.id,e.user.email])))),[n]),x=[...h,...C,..._,...w,...S,...I].map((e=>T[e])).join(","),D=d["using_payment_integrations?"],F=(e,n)=>{g({competitionId:d.id,payload:{requests:e.map((e=>({user_id:e,competing:{status:n},competition_id:d.id}))),competition_id:d.id}},{onSuccess:()=>{y((0,c.showMessage)("registrations.flash.updated","positive")),t()}})},M=()=>{const e=[...h,...w,..._,...S],t=n.filter((t=>e.includes(t.user_id))),r=(0,m.DB)(t,"paid_on_with_registered_on_fallback","ascending").map((e=>e.user_id));F(r,"waiting_list")};return r.createElement(r.Fragment,null,r.createElement(a.A,{content:u.Ay.t("registrations.list.export_csv"),icon:"download",labelPosition:"left",color:"blue",onClick:()=>{f([...h,..._,...w,...C,...S],n,d)}}),r.createElement(a.A,{as:"a",content:u.Ay.t("competitions.registration_v2.update.email_send"),href:`mailto:?bcc=${x}`,id:"email-selected",target:"_blank",rel:"noreferrer",icon:"envelope",labelPosition:"left",disabled:!b}),r.createElement(a.A,{content:u.Ay.t("competitions.registration_v2.update.email_copy"),icon:"copy",labelPosition:"left",onClick:()=>{return e=x,navigator.clipboard.writeText(e),void y((0,c.showMessage)("competitions.registration_v2.update.email_message","positive"));var e},disabled:!b}),r.createElement(o.A,{pointing:!0,className:"icon brown",labeled:!0,text:u.Ay.t("competitions.registration_v2.update.move_to",{count:A}),icon:"arrow right",button:!0,disabled:!b},r.createElement(o.A.Menu,null,r.createElement(E,{text:u.Ay.t("competitions.registration_v2.update.pending"),icon:m.eC,color:m.ct,isDisabled:!P,onClick:()=>F([..._,...w,...C,...S],"pending")}),r.createElement(E,{text:u.Ay.t("competitions.registration_v2.update.waitlist"),icon:m.Iv,color:m.cP,isDisabled:!k,onClick:()=>{const t=(0,m.Nl)(n,e);D&&t>0?v({content:u.Ay.t("competitions.registration_v2.list.pending.waitlist_skipped_warning",{count:t})}).then(M).catch(l.noop):M()}}),r.createElement(E,{text:u.Ay.t("competitions.registration_v2.update.approved"),icon:m.cu,color:m.ah,isDisabled:!O,onClick:()=>{const t=[...h,...w,...C,...S],r=(0,m.ZB)(n,e),a=Math.max(t.length-i,0),o=a>0,s=(0,m.Nl)(n,e);var d;o?(d=a,y((0,c.showMessage)("competitions.registration_v2.update.too_many","negative",{count:d}))):r>0&&D&&s>0?v({content:u.Ay.t("competitions.registration_v2.list.approved.pending_waitlist_combined_skipped_warning",{count:r+s})}).then((()=>F(t,"accepted"))).catch(l.noop):r>0?v({content:u.Ay.t("competitions.registration_v2.list.waitlist.skipped_warning",{count:r})}).then((()=>F(t,"accepted"))).catch(l.noop):D&&s>0?v({content:u.Ay.t("competitions.registration_v2.list.pending.approve_skipped_warning",{count:s})}).then((()=>F(t,"accepted"))).catch(l.noop):F(t,"accepted")}}),r.createElement(E,{text:u.Ay.t("competitions.registration_v2.update.cancelled"),icon:m.cF,color:m.a2,isDisabled:!R,onClick:()=>F([...h,..._,...C,...S],"cancelled")}),r.createElement(E,{text:u.Ay.t("competitions.registration_v2.update.rejected"),icon:m.pA,color:m.H6,isDisabled:!j,onClick:()=>F([...h,..._,...C,...w],"rejected")}))))}function E({text:e,icon:t,color:n,isDisabled:a,onClick:i}){return r.createElement(o.A.Item,{content:e,icon:{color:n,name:t,size:"large"},disabled:a,onClick:i})}},95522:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(96540),a=n(37865),o=n(97665);const i=new a.E({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:1/0,refetchOnMount:"always",retry:!1}}});function l({children:e}){return r.createElement(o.Ht,{client:i},e)}},95630:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(96540),a=n(73574),o=n(97286),i=n(7862),l=n(80405),s=n(1460),c=n(20008);function u({ticketDetails:e}){const{ticket:t}=e,{data:n,isLoading:u,isError:d}=(0,o.I)({queryKey:["ticket-edit-person-validators",t.id],queryFn:()=>(0,c.default)({ticketId:t.id})});return u?r.createElement(i.default,null):d?r.createElement(l.default,null):[...n.name,...n.dob].map((e=>r.createElement(a.A,{warning:!0},s.Ay.t(`validators.${e.kind}.${e.id}`,e.args))))}},95790:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(73574),o=n(60654),i=n(66048),l=n(83995);t.default=function({wcaId:e,eventId:t,competitionId:n,response:s}){return r.createElement(r.Fragment,null,r.createElement(a.A,{positive:!0,header:r.createElement(r.Fragment,null,"Action performed for:"," ",r.createElement("a",{href:(0,i.hs)(e),target:"_blank",rel:"noreferrer"},e)),list:s.messages}),r.createElement(a.A,{positive:!0},r.createElement("div",null,"Please make sure to:",r.createElement(o.A,{ordered:!0},r.createElement(o.A.Item,null,r.createElement("a",{href:(0,i.yr)(n),target:"_blank",rel:"noreferrer"},"Check Competition Validators")),r.createElement(o.A.Item,null,r.createElement("a",{href:(0,i.fy)(l.yv.checkRecords,{competitionId:n,eventId:t}),target:"_blank",rel:"noreferrer"},"Check Records")),r.createElement(o.A.Item,null,r.createElement("a",{href:(0,i.fy)(l.yv.computeAuxiliaryData),target:"_blank",rel:"noreferrer"},"Run Compute Auxiliary Data"))),"You can also"," ",r.createElement("a",{href:(0,i.uC)(n,t)},"go back to the results")," ","or you can"," ",r.createElement("a",{href:(0,i.SY)(e,n,t)},"go to the Fix Results entry point"),".")))}},95817:function(e,t,n){"use strict";n.r(t),n.d(t,{bulkUpdateRegistrations:function(){return i},default:function(){return o}});var r=n(56559),a=n(66048);async function o({registrationId:e,payload:t}){const n=(0,a.s8)(e),{data:o}=await(0,r.A)(n,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return o}async function i({competitionId:e,payload:t}){const n=(0,a._n)(e),{data:o}=await(0,r.A)(n,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return o}},95897:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(87977),o=n(95472),i=n(27089),l=n(3487),s=n(96285),c=n(1460),u=n(91283);const d=["other-registration","other-checkin","other-tutorial","other-multi","other-breakfast","other-lunch","other-dinner","other-awards","other-setup","other-teardown","other-misc"].map((e=>({key:e,text:c.Ay.t(`activity.${e.substring(6)}`),value:e})));t.default=function({isModalOpen:e,activity:t,startLuxon:n,endLuxon:m,dateLocale:p,onModalClose:f,onModalSave:g}){var E,v,y;const[A,b]=(0,u.A)(),[h,_]=(0,u.A)();(0,r.useEffect)((()=>{b(null===t||void 0===t?void 0:t.activityCode),_(null===t||void 0===t?void 0:t.name)}),[t,b,_]);const w=()=>{f(),b(void 0),_(void 0)};return r.createElement(a.A,{open:e,dimmer:"blurring"},r.createElement(a.A.Header,null,"Add a custom activity"),r.createElement(a.A.Content,{as:o.A},r.createElement(o.A.Select,{label:"Type of activity",name:"activity-type",options:d,value:A,onChange:(e,t)=>{const{value:n}=t;!h&&n&&_(c.Ay.t(`activity.${n.substring(6)}`)),b(e,t)}}),r.createElement(o.A.Input,{label:"Name",name:"activity-name",value:h,onChange:_}),r.createElement(i.A,{text:!0},"On"," ",null===n||void 0===n||null===(E=n.setLocale(p))||void 0===E?void 0:E.toLocaleString(s.c9.DATE_HUGE)," ","from"," ",null===n||void 0===n||null===(v=n.setLocale(p))||void 0===v?void 0:v.toLocaleString(s.c9.TIME_SIMPLE)," ","until"," ",null===m||void 0===m||null===(y=m.setLocale(p))||void 0===y?void 0:y.toLocaleString(s.c9.TIME_SIMPLE))),r.createElement(a.A.Actions,null,r.createElement(l.A,{icon:"save",content:"Save",positive:!0,disabled:!A||!(null!==h&&void 0!==h&&h.trim()),onClick:()=>{g({activityCode:A,activityName:h}),w()}}),r.createElement(l.A,{icon:"cancel",content:"Cancel",negative:!0,onClick:w})))}},96649:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(96540),a=n(21295);const o=[{key:0,value:0,text:"# of Rounds?"},{key:-1,value:-1,text:"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500",disabled:!0},{key:1,value:1,text:"1 round"},{key:2,value:2,text:"2 rounds"},{key:3,value:3,text:"3 rounds"},{key:4,value:4,text:"4 rounds"}];function i({roundCount:e,onChange:t,disabled:n}){return r.createElement(a.A,{compact:!0,selection:!0,name:"selectRoundCount",value:e,onChange:(e,n)=>t(n.value),disabled:n,options:o})}},96974:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(96540),a=n(54070),o=n(63129),i=n(73591),l=n(1460),s=n(89407),c=n(50495),u=n(58802),d=n(7862),m=n(53254);const p="wrt",f=[{key:"edit_profile",requiredPermission:null},{key:"edit_others_profile",requiredPermission:"canRequestToEditOthersProfile"},{key:"report_result_issue",requiredPermission:null},{key:"other_query",requiredPermission:null}],g=_.keyBy(f,(e=>_.camelCase(e.key)));function E(){const{formValues:{wrt:e}}=(0,s.Pj)(),{queryType:t}=e||{},n=(0,s.wA)(),E=(e,{name:t,value:r})=>n((0,c.updateSectionData)(p,t,r)),{loggedInUserPermissions:v,loading:y}=(0,m.A)(),A=(0,r.useMemo)((()=>!t||[g.editProfile.key,g.editOthersProfile.key].includes(t)?null:u.default),[t]);return y?r.createElement(d.default,null):r.createElement(r.Fragment,null,r.createElement(a.A,{grouped:!0},r.createElement("div",null,l.Ay.t("page.contacts.form.wrt.query_type.label")),f.map((({key:e,requiredPermission:n})=>(!n||v[n])&&r.createElement(o.A,{key:e},r.createElement(i.A,{label:l.Ay.t(`page.contacts.form.wrt.query_type.${e}.label`),name:"queryType",value:e,checked:t===e,onChange:E}))))),A&&r.createElement(A,null))}},96997:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(96540),a=n(2543),o=n.n(a),i=n(73574),l=n(3487),s=n(65632),c=n(83995),u=n(21531),d=n(71952),m=n(72272),p=n(32259),f=n(89407),g=n(58894);function E(){const{competitionId:e,wcifEvents:t,initialWcifEvents:n}=(0,f.Pj)(),a=(0,f.wA)(),c=(0,r.useMemo)((()=>!o().isEqual(t,n)),[t,n]),p=(0,r.useCallback)((e=>{if(c){const t="You have unsaved changes, are you sure you want to leave?";return e.returnValue=t,t}return null}),[c]);(0,r.useEffect)((()=>(window.addEventListener("beforeunload",p),()=>{window.removeEventListener("beforeunload",p)})),[p]);const{saveWcif:g,saving:E}=(0,u.eJ)(),v=(0,r.useCallback)((()=>{g(e,{events:t},(()=>a((0,m.changesSaved)())))}),[e,a,g,t]),y=()=>r.createElement(i.A,{color:"blue"},"You have unsaved changes. Don't forget to"," ",r.createElement(l.A,{onClick:v,disabled:E,loading:E,color:"blue"},"save your changes!"));return r.createElement(r.Fragment,null,c&&y(),r.createElement(s.A.Group,{itemsPerRow:3,className:"stackable",style:{alignItems:"baseline"}},t.map((e=>r.createElement(d.default,{key:e.id,wcifEvent:e})))),c&&y())}function v({competitionId:e,canAddAndRemoveEvents:t,canUpdateEvents:n,canUpdateQualifications:a,wcifEvents:i}){const l=function(e){return c.AZ.official.map((t=>o().remove(e,{id:t.id})[0]||{id:t.id,rounds:null})).concat(e)}(i);return r.createElement(f.Ay,{reducer:p.default,initialState:{competitionId:e,canAddAndRemoveEvents:t,canUpdateEvents:n,canUpdateQualifications:a,wcifEvents:l,initialWcifEvents:l,unsavedChanges:!1}},r.createElement(g.A,null,r.createElement(E,null)))}},98753:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});class r extends Error{constructor(e,t,n){super(e),this.response=t,this.json=n}}},98805:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(87977),o=n(92257),i=n(37865),l=n(97286),s=n(91283),c=n(66048),u=n(83995),d=n(7862),m=n(80405),p=n(45567);const f=new i.E;function g({close:e,countryId:t,currencyCode:n,baseEntryFee:i,competitorLimit:g}){const[E,v]=(0,s.A)(g||0),y=u.kW.byIso[n]||u.kW.byIso.USD,{data:A,isLoading:b,isError:h}=(0,l.I)({queryKey:["dues-estimate",t,n,i],queryFn:()=>(0,p.o)((0,c.fj)(t,n,i))},f),{dues_value:_}=(null===A||void 0===A?void 0:A.data)||{},w=(_*E||0)/y.subunitToUnit;return b?r.createElement(d.default,null):h?r.createElement(m.default,{error:"Dues fetching failed..."}):r.createElement(a.A,{open:!0,onClose:e,closeIcon:!0},r.createElement(a.A.Header,null,"Dues Estimate"),r.createElement(a.A.Content,null,r.createElement(o.A,{label:"Competitor count",type:"number",value:E,onChange:v}),r.createElement("p",null,`Dues for ${E} competitors (approximately): ${w.toLocaleString(void 0,{style:"currency",currency:n})}`)))}},98974:function(e,t,n){"use strict";n.r(t);var r=n(96540),a=n(99418),o=n(1460);t.default=function({item:e}){return r.createElement("div",{className:"multisearch-item-text",dangerouslySetInnerHTML:{__html:o.Ay.t("search_results.index.search_for",{search_string:a.A.sanitize(e.search,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]})})}})}},99142:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(96540),a=n(87977),o=n(95472),i=n(3487),l=n(31746),s=n(74594),c=n(54269),u=n(1460),d=n(5933),m=n(59267),p=n(53691),f=n(91283);function g({wcifRounds:e,matchState:t,dispatchMatchState:n,showGroupsPicker:a=!1}){return 1===e.length?r.createElement(E,{selectedRound:e[0],matchState:t,dispatchMatchState:n,wcifRounds:e,showGroupsPicker:a}):r.createElement(y,{wcifRounds:e,matchState:t,dispatchMatchState:n,showGroupsPicker:a})}function E({selectedRound:e,matchState:t,dispatchMatchState:n,wcifRounds:a,showGroupsPicker:o=!1}){const[i,l]=(0,r.useState)(!1),[u,f]=(0,r.useState)(null),g=(0,r.useCallback)((e=>{l(!0),f(e)}),[l,f]),E=(0,r.useCallback)((()=>{l(!1),f(null)}),[l,f]),y=(0,r.useCallback)(((t,r)=>{n({type:"moveScrambleSetToRound",scrambleSet:t,fromRoundId:e.id,toRoundId:r}),l(!1),f(null)}),[l,f,n,e.id]),A=(0,r.useCallback)(((t,r)=>n({type:"moveRoundScrambleSet",roundId:e.id,fromIndex:t,toIndex:r})),[n,e.id]),b=(0,m.useDispatchWrapper)(n,{roundId:e.id}),h=(0,r.useCallback)((t=>`${(0,s.activityCodeToName)(e.id)}, Group ${t+1}`),[e.id]);return r.createElement(r.Fragment,null,r.createElement(c.default,{matchableRows:t[e.id],expectedNumOfRows:e.scrambleSetCount,onRowDragCompleted:A,computeDefinitionName:h,computeRowName:p.scrambleSetToName,computeRowDetails:p.scrambleSetToDetails,moveAwayAction:g}),r.createElement(v,{isOpen:i,onClose:E,onConfirm:y,selectedScrambleSet:u,currentRound:e,availableRounds:a}),o&&r.createElement(d.default,{scrambleSetCount:e.scrambleSetCount,scrambleSets:t[e.id],dispatchMatchState:b}))}function v({isOpen:e,onClose:t,onConfirm:n=t,selectedScrambleSet:l,currentRound:c,availableRounds:u}){const[d,m]=(0,f.A)(c.id),g=(0,r.useMemo)((()=>u.map((e=>({key:e.id,text:(0,s.activityCodeToName)(e.id),value:e.id})))),[u]),E=d!==c.id;return l?r.createElement(a.A,{open:e,onClose:t,closeIcon:!0},r.createElement(a.A.Header,null,"Move scramble set"," ",(0,p.scrambleSetToName)(l)),r.createElement(a.A.Content,null,r.createElement(o.A,null,r.createElement(o.A.Select,{inline:!0,label:"New round",options:g,value:d,onChange:m}))),r.createElement(a.A.Actions,null,r.createElement(i.A,{onClick:t},"Cancel"),r.createElement(i.A,{positive:!0,onClick:()=>n(l,d),disabled:!E},"Move"))):null}function y({wcifRounds:e,matchState:t,dispatchMatchState:n,showGroupsPicker:a=!1}){const[o,c]=(0,r.useState)(),d=(0,r.useMemo)((()=>e.find((e=>e.id===o))),[e,o]);return r.createElement(r.Fragment,null,r.createElement(l.A,{as:"h4"},"Rounds"," ",r.createElement(i.A,{size:"mini",id:"clear-all-rounds",onClick:()=>c(null)},u.Ay.t("competitions.index.clear"))),r.createElement(i.A.Group,null,e.map((e=>r.createElement(i.A,{key:e.id,toggle:!0,basic:!0,active:e.id===o,onClick:()=>c(e.id)},(0,s.activityCodeToName)(e.id))))),d&&r.createElement(E,{selectedRound:d,matchState:t,dispatchMatchState:n,wcifRounds:e,showGroupsPicker:a}))}},99251:function(e,t,n){"use strict";n.r(t),n.d(t,{DateTableCell:function(){return p},LocationTableCell:function(){return m},NameTableCell:function(){return d},ReportTableCell:function(){return f}});var r=n(53959),a=n(35907),o=n(24106),i=n(96540),l=n(1460),s=n(66048),c=n(83995),u=n(64417);function d({competition:e}){var t;return i.createElement(r.A.Cell,null,i.createElement("a",{href:e.url},e.short_display_name," ",(null===(t=e.championships)||void 0===t?void 0:t.length)>0&&i.createElement(a.A,{name:"trophy"})))}function m({competition:e}){return i.createElement(r.A.Cell,null,e.city,`, ${c.Xr.byIso2[e.country_iso2].name}`)}function p({competition:e}){return i.createElement(r.A.Cell,null,(0,u.Mk)(e.start_date,e.end_date,{separator:"-"}))}function f({permissions:e,competitionId:t,isReportPosted:n,isPastCompetition:c}){const u="*"===e.can_view_delegate_report.scope||e.can_view_delegate_report.scope.includes(t),d="*"===e.can_edit_delegate_report.scope||e.can_edit_delegate_report.scope.includes(t),m="*"===e.can_administer_competitions.scope||e.can_administer_competitions.scope.includes(t);return u?i.createElement(r.A.Cell,null,i.createElement(i.Fragment,null,i.createElement(o.A,{content:l.Ay.t("competitions.my_competitions_table.report"),trigger:i.createElement("a",{href:(0,s.FZ)(t)},i.createElement(a.A,{name:"file alternate"}))}),!n&&d&&i.createElement(o.A,{content:l.Ay.t("competitions.my_competitions_table.edit_report"),trigger:i.createElement("a",{href:(0,s.Le)(t)},i.createElement(a.A,{name:"edit"}))}),c&&!n&&m&&i.createElement(o.A,{content:l.Ay.t("competitions.my_competitions_table.missing_report"),trigger:i.createElement(a.A,{name:"warning"})}))):i.createElement(r.A.Cell,null)}},99348:function(e,t,n){"use strict";n.r(t),n.d(t,{Rankings:function(){return v},default:function(){return g}});var r=n(96540),a=n(27089),o=n(68859),i=n(95522),l=n(66048),s=n(32194);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m={SET_EVENT:"SET_EVENT",SET_REGION:"SET_REGION",SET_RANKING_TYPE:"SET_RANKING_TYPE",SET_GENDER:"SET_GENDER",SET_SHOW:"SET_SHOW"};function p(e){const t=e.match(/\/results\/rankings\/(\w+)\/(\w+)/);if(!t)throw new Error("URL does not match the expected pattern.");const[,n,r]=t,a=new URL(e).searchParams;return{event:n,region:a.get("region")||"world",gender:a.get("gender")||"All",show:a.get("show")||"100 persons",rankingType:r}}function f(e,t){switch(t.type){case m.SET_EVENT:return"333mbf"===t.payload?u(u({},e),{},{event:t.payload,rankingType:"single"}):u(u({},e),{},{event:t.payload});case m.SET_REGION:return u(u({},e),{},{region:t.payload});case m.SET_RANKING_TYPE:return u(u({},e),{},{rankingType:t.payload});case m.SET_GENDER:return u(u({},e),{},{gender:t.payload});case m.SET_SHOW:return u(u({},e),{},{show:t.payload});default:throw new Error(`Unhandled action type: ${t.type}`)}}function g(){return r.createElement(i.A,null,r.createElement(v,null))}const E=["100 persons","100 results","by region"];function v(){const[e,t]=(0,r.useReducer)(f,window.location.href,p),n=(0,r.useMemo)((()=>({setEvent:e=>t({type:m.SET_EVENT,payload:e}),setRegion:e=>t({type:m.SET_REGION,payload:e}),setRankingType:e=>t({type:m.SET_RANKING_TYPE,payload:e}),setGender:e=>t({type:m.SET_GENDER,payload:e}),setShow:e=>t({type:m.SET_SHOW,payload:e})})),[t]),{event:i,region:c,rankingType:u,gender:d,show:g}=e;return(0,r.useEffect)((()=>{window.history.replaceState(null,"",(0,l.Hg)(i,u,c,d,g))}),[i,c,u,d,g]),r.createElement(a.A,{fluid:!0},r.createElement(s.default,{filterState:e,filterActions:n,showCategories:E}),r.createElement(o.default,{filterState:e}))}},99358:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(96540),a=n(3487),o=n(87977),i=n(95472),l=n(58894);const s=["title","trigger","triggerButtonProps","children","hasUnsavedChanges","disabled","tooltip","reset","contentScrolling","onOk"];function c(e){let{title:t,trigger:n,triggerButtonProps:c={},children:u,hasUnsavedChanges:d,disabled:m,tooltip:p,reset:f=()=>null,contentScrolling:g=!1,onOk:E}=e,v=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,s);const[y,A]=(0,r.useState)(!1),b=(0,l.S)(),h=()=>{d?b({content:"Are you sure you want to discard your changes?"}).then((()=>{f(),A(!1)})):A(!1)},_=r.createElement("span",{"data-tooltip":null!==p&&void 0!==p?p:void 0},r.createElement(a.A,Object.assign({basic:!0,compact:!0,onClick:e=>{e.preventDefault()},disabled:m},c,{size:"small"}),n));return r.createElement(o.A,Object.assign({as:i.A,onSubmit:e=>{e.preventDefault(),e.stopPropagation(),E(),A(!1)},size:"tiny",trigger:v.open?void 0:_,open:y,onOpen:()=>{m||A(!0)},onClose:h,closeOnDimmerClick:!1,closeOnDocumentClick:!1},v),r.createElement(o.A.Header,null,t),r.createElement(o.A.Content,{scrolling:g},r.createElement(o.A.Description,null,u)),r.createElement(o.A.Actions,null,r.createElement(a.A,{color:"orange",type:"button",onClick:h},"Close"),r.createElement(a.A,{color:"green",type:"submit"},"Ok")))}},99551:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(96540),a=n(21295),o=n(3487),i=n(27089),l=n(73574),s=n(87977),c=n(79519),u=n(66048),d=n(7862),m=n(80405),p=n(73341),f=n(57064),g=n(53990),E=n(91283),v=n(82273),y=n(95522);function A({stakeholderList:e,setUserSelectedStakeholder:t}){const[n,i]=(0,E.A)(e[0]);return r.createElement(r.Fragment,null,r.createElement("p",null,"You are part of more than one stakeholder, please select the stakeholder as which you want to visit the ticket page."),r.createElement(a.A,{options:e.map((e=>({key:e.id,text:`${e.stakeholder.name} (${e.stakeholder_role})`,value:e}))),value:n,onChange:i}),r.createElement(o.A,{disabled:!n,onClick:()=>t(n)},"Select"))}function b({ticketDetails:e,currentStakeholder:t,sync:n}){var a;const o=e.ticket.metadata_type,i=t.stakeholder_role,l=null===(a=f.default[o])||void 0===a?void 0:a[i];return r.createElement(r.Fragment,null,r.createElement(p.default,{ticketDetails:e,currentStakeholder:t,sync:n}),l&&r.createElement(l,{ticketDetails:e,sync:n,currentStakeholder:t}),r.createElement(v.default,{ticketId:e.ticket.id,currentStakeholder:t}),r.createElement(g.default,{ticketId:e.ticket.id}))}function h({id:e}){return r.createElement(y.A,null,r.createElement(_,{id:e}))}function _({id:e}){const{data:t,sync:n,loading:a,error:p}=(0,c.A)(u.v9.tickets.show(e)),[f,g]=(0,E.A)(),v=(0,r.useMemo)((()=>f||(1===(null===t||void 0===t?void 0:t.requester_stakeholders.length)?null===t||void 0===t?void 0:t.requester_stakeholders[0]:null)),[null===t||void 0===t?void 0:t.requester_stakeholders,f]);return a?r.createElement(d.default,null):p?r.createElement(m.default,null):r.createElement(r.Fragment,null,r.createElement(i.A,{fluid:!0},f&&r.createElement(l.A,null,`You are currently viewing the ticket as stakeholder "${f.stakeholder.name}".`,r.createElement(o.A,{onClick:()=>g(!1)},"Click here to change")),v&&r.createElement(b,{ticketDetails:t,currentStakeholder:v,sync:n})),r.createElement(s.A,{open:!v,closeOnEscape:!1,closeOnDimmerClick:!1},r.createElement(s.A.Header,null,"Select stakeholder"),r.createElement(s.A.Content,null,r.createElement(A,{stakeholderList:null===t||void 0===t?void 0:t.requester_stakeholders,setUserSelectedStakeholder:g}))))}}},function(e){e.O(0,[881,502,216,272,527,29,924,127,441,408,460,995],(function(){return t=93333,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=application-ab5b2cd15c032ba121a0.js.map